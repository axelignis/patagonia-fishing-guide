/*! For license information please see main.adc0f4d7.js.LICENSE.txt */
(()=>{var e={43:(e,t,r)=>{"use strict";e.exports=r(202)},75:(e,t,r)=>{"use strict";r.d(t,{B:()=>s,t:()=>a});var n=console;function a(){return n}function s(e){n=e}},123:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(a){return!1}}()?Object.assign:function(e,a){for(var s,i,o=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in s=Object(arguments[l]))r.call(s,c)&&(o[c]=s[c]);if(t){i=t(s);for(var u=0;u<i.length;u++)n.call(s,i[u])&&(o[i[u]]=s[i[u]])}}return o}},153:(e,t,r)=>{"use strict";r(123);var n=r(43),a=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var s=Symbol.for;a=s("react.element"),t.Fragment=s("react.fragment")}var i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,s={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,n)&&!l.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:u,props:s,_owner:i.current}}t.jsx=c,t.jsxs=c},168:(e,t,r)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(null,arguments)}r.d(t,{A:()=>n})},202:(e,t,r)=>{"use strict";var n=r(123),a=60103,s=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var i=60109,o=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;a=d("react.element"),s=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),i=d("react.provider"),o=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),u=d("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p={};function g(e,t,r){this.props=e,this.context=t,this.refs=p,this.updater=r||m}function v(){}function x(e,t,r){this.props=e,this.context=t,this.refs=p,this.updater=r||m}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=x.prototype=new v;b.constructor=x,n(b,g.prototype),b.isPureReactComponent=!0;var y={current:null},w=Object.prototype.hasOwnProperty,j={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,r){var n,s={},i=null,o=null;if(null!=t)for(n in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,n)&&!j.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===s[n]&&(s[n]=l[n]);return{$$typeof:a,type:e,key:i,ref:o,props:s,_owner:y.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var _=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,r,n,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case a:case s:l=!0}}if(l)return i=i(l=e),e=""===n?"."+S(l,0):n,Array.isArray(i)?(r="",null!=e&&(r=e.replace(_,"$&/")+"/"),C(i,t,r,"",function(e){return e})):null!=i&&(k(i)&&(i=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(_,"$&/")+"/")+e)),t.push(i)),1;if(l=0,n=""===n?".":n+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=n+S(o=e[c],c);l+=C(o,t,r,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=C(o=o.value,t,r,u=n+S(o,c++),i);else if("object"===o)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function E(e,t,r){if(null==e)return e;var n=[],a=0;return C(e,n,"","",function(e){return t.call(r,e,a++)}),n}function P(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}if(1===e._status)return e._result;throw e._result}var T={current:null};function R(){var e=T.current;if(null===e)throw Error(f(321));return e}var O={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:y,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:E,forEach:function(e,t,r){E(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return E(e,function(){t++}),t},toArray:function(e){return E(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=x,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error(f(267,e));var s=n({},e.props),i=e.key,o=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,l=y.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)w.call(t,u)&&!j.hasOwnProperty(u)&&(s[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)s.children=r;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];s.children=c}return{$$typeof:a,type:e.type,key:i,ref:o,props:s,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:o,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return R().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,r){return R().useReducer(e,t,r)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},210:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(829)),s=n(r(736)),i=r(745);class o{constructor(e){let{headers:t={},schema:r,fetch:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=n}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new a.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:a=!1,count:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new URL("".concat(this.url,"/rpc/").concat(e));let l;n||a?(t=n?"HEAD":"GET",Object.entries(r).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return[t,Array.isArray(r)?"{".concat(r.join(","),"}"):"".concat(r)]}).forEach(e=>{let[t,r]=e;o.searchParams.append(t,r)})):(t="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer="count=".concat(i)),new s.default({method:t,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=o},234:(e,t)=>{"use strict";var r,n,a,s;if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,u=null,d=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(r){throw setTimeout(d,0),r}};r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(d,0))},n=function(e,t){u=setTimeout(e,t)},a=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var p=!1,g=null,v=-1,x=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5};var y=new MessageChannel,w=y.port2;y.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+x;try{g(!0,e)?w.postMessage(null):(p=!1,g=null)}catch(r){throw w.postMessage(null),r}}else p=!1},r=function(e){g=e,p||(p=!0,w.postMessage(null))},n=function(e,r){v=h(function(){e(t.unstable_now())},r)},a=function(){f(v),v=-1}}function j(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,a=e[n];if(!(void 0!==a&&0<_(a,t)))break e;e[n]=t,e[r]=a,r=n}}function N(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length;n<a;){var s=2*(n+1)-1,i=e[s],o=s+1,l=e[o];if(void 0!==i&&0>_(i,r))void 0!==l&&0>_(l,i)?(e[n]=l,e[o]=r,n=o):(e[n]=i,e[s]=r,n=s);else{if(!(void 0!==l&&0>_(l,r)))break e;e[n]=l,e[o]=r,n=o}}}return t}return null}function _(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var S=[],C=[],E=1,P=null,T=3,R=!1,O=!1,A=!1;function L(e){for(var t=N(C);null!==t;){if(null===t.callback)k(C);else{if(!(t.startTime<=e))break;k(C),t.sortIndex=t.expirationTime,j(S,t)}t=N(C)}}function I(e){if(A=!1,L(e),!O)if(null!==N(S))O=!0,r(M);else{var t=N(C);null!==t&&n(I,t.startTime-e)}}function M(e,r){O=!1,A&&(A=!1,a()),R=!0;var s=T;try{for(L(r),P=N(S);null!==P&&(!(P.expirationTime>r)||e&&!t.unstable_shouldYield());){var i=P.callback;if("function"===typeof i){P.callback=null,T=P.priorityLevel;var o=i(P.expirationTime<=r);r=t.unstable_now(),"function"===typeof o?P.callback=o:P===N(S)&&k(S),L(r)}else k(S);P=N(S)}if(null!==P)var l=!0;else{var c=N(C);null!==c&&n(I,c.startTime-r),l=!1}return l}finally{P=null,T=s,R=!1}}var z=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||R||(O=!0,r(M))},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return N(S)},t.unstable_next=function(e){switch(T){case 1:case 2:case 3:var t=3;break;default:t=T}var r=T;T=t;try{return e()}finally{T=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=z,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=T;T=e;try{return t()}finally{T=r}},t.unstable_scheduleCallback=function(e,s,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:E++,callback:s,priorityLevel:e,startTime:i,expirationTime:l=i+l,sortIndex:-1},i>o?(e.sortIndex=i,j(C,e),null===N(S)&&e===N(C)&&(A?a():A=!0,n(I,i-o))):(e.sortIndex=l,j(S,e),O||R||(O=!0,r(M))),e},t.unstable_wrapCallback=function(e){var t=T;return function(){var r=T;T=t;try{return e.apply(this,arguments)}finally{T=r}}}},244:(e,t,r)=>{"use strict";r.d(t,{m:()=>i});var n=r(540),a=r(422),s=r(870),i=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!s.S$&&(null==(t=window)?void 0:t.addEventListener)){var r=function(){return e()};return window.addEventListener("visibilitychange",r,!1),window.addEventListener("focus",r,!1),function(){window.removeEventListener("visibilitychange",r),window.removeEventListener("focus",r)}}},t}(0,n.A)(t,e);var r=t.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},r.setEventListener=function(e){var t,r=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(function(e){"boolean"===typeof e?r.setFocused(e):r.onFocus()})},r.setFocused=function(e){this.focused=e,e&&this.onFocus()},r.onFocus=function(){this.listeners.forEach(function(e){e()})},r.isFocused=function(){return"boolean"===typeof this.focused?this.focused:"undefined"===typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)},t}(a.Q))},286:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(630)),s=n(r(611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,r,n;let a=null,i=null,o=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(i="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const n=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),s=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");n&&s&&s.length>1&&(o=parseInt(s[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(a={code:"PGRST116",details:"Results contain ".concat(i.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,o=null,l=406,c="Not Acceptable"):i=1===i.length?i[0]:null)}else{const t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&404===e.status&&(i=[],a=null,l=200,c="OK")}catch(u){404===e.status&&""===t?(l=204,c="No Content"):a={message:t}}if(a&&this.isMaybeSingle&&(null===(n=null===a||void 0===a?void 0:a.details)||void 0===n?void 0:n.includes("0 rows"))&&(a=null,l=200,c="OK"),a&&this.shouldThrowOnError)throw new s.default(a)}return{error:a,data:i,count:o,status:l,statusText:c}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,r,n;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(r=null===e||void 0===e?void 0:e.stack)&&void 0!==r?r:""),hint:"",code:"".concat(null!==(n=null===e||void 0===e?void 0:e.code)&&void 0!==n?n:"")},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}}},298:()=>{},317:(e,t,r)=>{"use strict";r.d(t,{t:()=>i});var n=r(540),a=r(422),s=r(870),i=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!s.S$&&(null==(t=window)?void 0:t.addEventListener)){var r=function(){return e()};return window.addEventListener("online",r,!1),window.addEventListener("offline",r,!1),function(){window.removeEventListener("online",r),window.removeEventListener("offline",r)}}},t}(0,n.A)(t,e);var r=t.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},r.setEventListener=function(e){var t,r=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(function(e){"boolean"===typeof e?r.setOnline(e):r.onOnline()})},r.setOnline=function(e){this.online=e,e&&this.onOnline()},r.onOnline=function(){this.listeners.forEach(function(e){e()})},r.isOnline=function(){return"boolean"===typeof this.online?this.online:"undefined"===typeof navigator||"undefined"===typeof navigator.onLine||navigator.onLine},t}(a.Q))},374:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(286));class s extends a.default{select(e){let t=!1;const r=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=a?"".concat(a,".order"):"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,"".concat(i?"".concat(i,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===r?"":r?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(n,"".concat(e)),this}range(e,t){let{foreignTable:r,referencedTable:n=r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof n?"offset":"".concat(n,".offset"),s="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(a,"".concat(e)),this.url.searchParams.set(s,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.Accept)&&void 0!==i?i:"application/json";return this.headers.Accept="application/vnd.pgrst.plan+".concat(s,'; for="').concat(l,'"; options=').concat(o,";"),this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=s},400:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},422:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});var n=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(e){var t=this,r=e||function(){};return this.listeners.push(r),this.onSubscribe(),function(){t.listeners=t.listeners.filter(function(e){return e!==r}),t.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}()},490:(e,t,r)=>{"use strict";r.d(t,{QueryClientProvider:()=>h,useMutation:()=>y,useQuery:()=>R,useQueryClient:()=>d});var n=r(991),a=r(950).unstable_batchedUpdates;n.j.setBatchNotifyFunction(a);var s=r(75),i=console;(0,s.B)(i);var o=r(43),l=o.createContext(void 0),c=o.createContext(!1);function u(e){return e&&"undefined"!==typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=l),window.ReactQueryClientContext):l}var d=function(){var e=o.useContext(u(o.useContext(c)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},h=function(e){var t=e.client,r=e.contextSharing,n=void 0!==r&&r,a=e.children;o.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]);var s=u(n);return o.createElement(c.Provider,{value:n},o.createElement(s.Provider,{value:t},a))},f=r(168),m=r(870),p=r(540),g=r(964),v=r(422),x=function(e){function t(t,r){var n;return(n=e.call(this)||this).client=t,n.setOptions(r),n.bindMethods(),n.updateResult(),n}(0,p.A)(t,e);var r=t.prototype;return r.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},r.setOptions=function(e){this.options=this.client.defaultMutationOptions(e)},r.onUnsubscribe=function(){var e;this.listeners.length||(null==(e=this.currentMutation)||e.removeObserver(this))},r.onMutationUpdate=function(e){this.updateResult();var t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)},r.getCurrentResult=function(){return this.currentResult},r.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},r.mutate=function(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,(0,f.A)({},this.options,{variables:"undefined"!==typeof e?e:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},r.updateResult=function(){var e=this.currentMutation?this.currentMutation.state:(0,g.$)(),t=(0,f.A)({},e,{isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset});this.currentResult=t},r.notify=function(e){var t=this;n.j.batch(function(){t.mutateOptions&&(e.onSuccess?(null==t.mutateOptions.onSuccess||t.mutateOptions.onSuccess(t.currentResult.data,t.currentResult.variables,t.currentResult.context),null==t.mutateOptions.onSettled||t.mutateOptions.onSettled(t.currentResult.data,null,t.currentResult.variables,t.currentResult.context)):e.onError&&(null==t.mutateOptions.onError||t.mutateOptions.onError(t.currentResult.error,t.currentResult.variables,t.currentResult.context),null==t.mutateOptions.onSettled||t.mutateOptions.onSettled(void 0,t.currentResult.error,t.currentResult.variables,t.currentResult.context))),e.listeners&&t.listeners.forEach(function(e){e(t.currentResult)})})},t}(v.Q);function b(e,t,r){return"function"===typeof t?t.apply(void 0,r):"boolean"===typeof t?t:!!e}function y(e,t,r){var a=o.useRef(!1),s=o.useState(0)[1],i=(0,m.GR)(e,t,r),l=d(),c=o.useRef();c.current?c.current.setOptions(i):c.current=new x(l,i);var u=c.current.getCurrentResult();o.useEffect(function(){a.current=!0;var e=c.current.subscribe(n.j.batchCalls(function(){a.current&&s(function(e){return e+1})}));return function(){a.current=!1,e()}},[]);var h=o.useCallback(function(e,t){c.current.mutate(e,t).catch(m.lQ)},[]);if(u.error&&b(void 0,c.current.options.useErrorBoundary,[u.error]))throw u.error;return(0,f.A)({},u,{mutate:h,mutateAsync:u.mutate})}var w=r(244),j=r(990),N=function(e){function t(t,r){var n;return(n=e.call(this)||this).client=t,n.options=r,n.trackedProps=[],n.selectError=null,n.bindMethods(),n.setOptions(r),n}(0,p.A)(t,e);var r=t.prototype;return r.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},r.onSubscribe=function(){1===this.listeners.length&&(this.currentQuery.addObserver(this),k(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},r.onUnsubscribe=function(){this.listeners.length||this.destroy()},r.shouldFetchOnReconnect=function(){return _(this.currentQuery,this.options,this.options.refetchOnReconnect)},r.shouldFetchOnWindowFocus=function(){return _(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},r.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},r.setOptions=function(e,t){var r=this.options,n=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(e),"undefined"!==typeof this.options.enabled&&"boolean"!==typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();var a=this.hasListeners();a&&S(this.currentQuery,n,this.options,r)&&this.executeFetch(),this.updateResult(t),!a||this.currentQuery===n&&this.options.enabled===r.enabled&&this.options.staleTime===r.staleTime||this.updateStaleTimeout();var s=this.computeRefetchInterval();!a||this.currentQuery===n&&this.options.enabled===r.enabled&&s===this.currentRefetchInterval||this.updateRefetchInterval(s)},r.getOptimisticResult=function(e){var t=this.client.defaultQueryObserverOptions(e),r=this.client.getQueryCache().build(this.client,t);return this.createResult(r,t)},r.getCurrentResult=function(){return this.currentResult},r.trackResult=function(e,t){var r=this,n={},a=function(e){r.trackedProps.includes(e)||r.trackedProps.push(e)};return Object.keys(e).forEach(function(t){Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:function(){return a(t),e[t]}})}),(t.useErrorBoundary||t.suspense)&&a("error"),n},r.getNextResult=function(e){var t=this;return new Promise(function(r,n){var a=t.subscribe(function(t){t.isFetching||(a(),t.isError&&(null==e?void 0:e.throwOnError)?n(t.error):r(t))})})},r.getCurrentQuery=function(){return this.currentQuery},r.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},r.refetch=function(e){return this.fetch((0,f.A)({},e,{meta:{refetchPage:null==e?void 0:e.refetchPage}}))},r.fetchOptimistic=function(e){var t=this,r=this.client.defaultQueryObserverOptions(e),n=this.client.getQueryCache().build(this.client,r);return n.fetch().then(function(){return t.createResult(n,r)})},r.fetch=function(e){var t=this;return this.executeFetch(e).then(function(){return t.updateResult(),t.currentResult})},r.executeFetch=function(e){this.updateQuery();var t=this.currentQuery.fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(m.lQ)),t},r.updateStaleTimeout=function(){var e=this;if(this.clearStaleTimeout(),!m.S$&&!this.currentResult.isStale&&(0,m.gn)(this.options.staleTime)){var t=(0,m.j3)(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(function(){e.currentResult.isStale||e.updateResult()},t)}},r.computeRefetchInterval=function(){var e;return"function"===typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e},r.updateRefetchInterval=function(e){var t=this;this.clearRefetchInterval(),this.currentRefetchInterval=e,!m.S$&&!1!==this.options.enabled&&(0,m.gn)(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval(function(){(t.options.refetchIntervalInBackground||w.m.isFocused())&&t.executeFetch()},this.currentRefetchInterval))},r.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},r.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},r.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},r.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},r.createResult=function(e,t){var r,n=this.currentQuery,a=this.options,i=this.currentResult,o=this.currentResultState,l=this.currentResultOptions,c=e!==n,u=c?e.state:this.currentQueryInitialState,d=c?this.currentResult:this.previousQueryResult,h=e.state,f=h.dataUpdatedAt,p=h.error,g=h.errorUpdatedAt,v=h.isFetching,x=h.status,b=!1,y=!1;if(t.optimisticResults){var w=this.hasListeners(),j=!w&&k(e,t),N=w&&S(e,n,t,a);(j||N)&&(v=!0,f||(x="loading"))}if(t.keepPreviousData&&!h.dataUpdateCount&&(null==d?void 0:d.isSuccess)&&"error"!==x)r=d.data,f=d.dataUpdatedAt,x=d.status,b=!0;else if(t.select&&"undefined"!==typeof h.data)if(i&&h.data===(null==o?void 0:o.data)&&t.select===this.selectFn)r=this.selectResult;else try{this.selectFn=t.select,r=t.select(h.data),!1!==t.structuralSharing&&(r=(0,m.BH)(null==i?void 0:i.data,r)),this.selectResult=r,this.selectError=null}catch(E){(0,s.t)().error(E),this.selectError=E}else r=h.data;if("undefined"!==typeof t.placeholderData&&"undefined"===typeof r&&("loading"===x||"idle"===x)){var _;if((null==i?void 0:i.isPlaceholderData)&&t.placeholderData===(null==l?void 0:l.placeholderData))_=i.data;else if(_="function"===typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&"undefined"!==typeof _)try{_=t.select(_),!1!==t.structuralSharing&&(_=(0,m.BH)(null==i?void 0:i.data,_)),this.selectError=null}catch(E){(0,s.t)().error(E),this.selectError=E}"undefined"!==typeof _&&(x="success",r=_,y=!0)}return this.selectError&&(p=this.selectError,r=this.selectResult,g=Date.now(),x="error"),{status:x,isLoading:"loading"===x,isSuccess:"success"===x,isError:"error"===x,isIdle:"idle"===x,data:r,dataUpdatedAt:f,error:p,errorUpdatedAt:g,failureCount:h.fetchFailureCount,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&"loading"!==x,isLoadingError:"error"===x&&0===h.dataUpdatedAt,isPlaceholderData:y,isPreviousData:b,isRefetchError:"error"===x&&0!==h.dataUpdatedAt,isStale:C(e,t),refetch:this.refetch,remove:this.remove}},r.shouldNotifyListeners=function(e,t){if(!t)return!0;var r=this.options,n=r.notifyOnChangeProps,a=r.notifyOnChangePropsExclusions;if(!n&&!a)return!0;if("tracked"===n&&!this.trackedProps.length)return!0;var s="tracked"===n?this.trackedProps:n;return Object.keys(e).some(function(r){var n=r,i=e[n]!==t[n],o=null==s?void 0:s.some(function(e){return e===r}),l=null==a?void 0:a.some(function(e){return e===r});return i&&!l&&(!s||o)})},r.updateResult=function(e){var t=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!(0,m.f8)(this.currentResult,t)){var r={cache:!0};!1!==(null==e?void 0:e.listeners)&&this.shouldNotifyListeners(this.currentResult,t)&&(r.listeners=!0),this.notify((0,f.A)({},r,e))}},r.updateQuery=function(){var e=this.client.getQueryCache().build(this.client,this.options);if(e!==this.currentQuery){var t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}},r.onQueryUpdate=function(e){var t={};"success"===e.type?t.onSuccess=!0:"error"!==e.type||(0,j.wm)(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()},r.notify=function(e){var t=this;n.j.batch(function(){e.onSuccess?(null==t.options.onSuccess||t.options.onSuccess(t.currentResult.data),null==t.options.onSettled||t.options.onSettled(t.currentResult.data,null)):e.onError&&(null==t.options.onError||t.options.onError(t.currentResult.error),null==t.options.onSettled||t.options.onSettled(void 0,t.currentResult.error)),e.listeners&&t.listeners.forEach(function(e){e(t.currentResult)}),e.cache&&t.client.getQueryCache().notify({query:t.currentQuery,type:"observerResultsUpdated"})})},t}(v.Q);function k(e,t){return function(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||e.state.dataUpdatedAt>0&&_(e,t,t.refetchOnMount)}function _(e,t,r){if(!1!==t.enabled){var n="function"===typeof r?r(e):r;return"always"===n||!1!==n&&C(e,t)}return!1}function S(e,t,r,n){return!1!==r.enabled&&(e!==t||!1===n.enabled)&&(!r.suspense||"error"!==e.state.status)&&C(e,r)}function C(e,t){return e.isStaleByTime(t.staleTime)}function E(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var P=o.createContext(E()),T=function(){return o.useContext(P)};function R(e,t,r){return function(e,t){var r=o.useRef(!1),a=o.useState(0)[1],s=d(),i=T(),l=s.defaultQueryObserverOptions(e);l.optimisticResults=!0,l.onError&&(l.onError=n.j.batchCalls(l.onError)),l.onSuccess&&(l.onSuccess=n.j.batchCalls(l.onSuccess)),l.onSettled&&(l.onSettled=n.j.batchCalls(l.onSettled)),l.suspense&&("number"!==typeof l.staleTime&&(l.staleTime=1e3),0===l.cacheTime&&(l.cacheTime=1)),(l.suspense||l.useErrorBoundary)&&(i.isReset()||(l.retryOnMount=!1));var c=o.useState(function(){return new t(s,l)})[0],u=c.getOptimisticResult(l);if(o.useEffect(function(){r.current=!0,i.clearReset();var e=c.subscribe(n.j.batchCalls(function(){r.current&&a(function(e){return e+1})}));return c.updateResult(),function(){r.current=!1,e()}},[i,c]),o.useEffect(function(){c.setOptions(l,{listeners:!1})},[l,c]),l.suspense&&u.isLoading)throw c.fetchOptimistic(l).then(function(e){var t=e.data;null==l.onSuccess||l.onSuccess(t),null==l.onSettled||l.onSettled(t,null)}).catch(function(e){i.clearReset(),null==l.onError||l.onError(e),null==l.onSettled||l.onSettled(void 0,e)});if(u.isError&&!i.isReset()&&!u.isFetching&&b(l.suspense,l.useErrorBoundary,[u.error,c.getCurrentQuery()]))throw u.error;return"tracked"===l.notifyOnChangeProps&&(u=c.trackResult(u,l)),u}((0,m.vh)(e,t,r),N)}},540:(e,t,r)=>{"use strict";function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}r.d(t,{A:()=>a})},579:(e,t,r)=>{"use strict";e.exports=r(153)},611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=r},630:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Headers:()=>i,Request:()=>o,Response:()=>l,default:()=>s,fetch:()=>a});var n=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("unable to locate global object")}();const a=n.fetch,s=n.fetch.bind(n),i=n.Headers,o=n.Request,l=n.Response},646:(e,t,r)=>{"use strict";r.d(t,{E:()=>x});var n=r(168),a=r(870),s=r(540),i=r(991),o=r(75),l=r(990),c=function(){function e(e){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=e.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(e){var t;this.options=(0,n.A)({},this.defaultOptions,e),this.meta=null==e?void 0:e.meta,this.cacheTime=Math.max(this.cacheTime||0,null!=(t=this.options.cacheTime)?t:3e5)},t.setDefaultOptions=function(e){this.defaultOptions=e},t.scheduleGc=function(){var e=this;this.clearGcTimeout(),(0,a.gn)(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){e.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(e,t){var r,n,s=this.state.data,i=(0,a.Zw)(e,s);return(null==(r=(n=this.options).isDataEqual)?void 0:r.call(n,s,i))?i=s:!1!==this.options.structuralSharing&&(i=(0,a.BH)(s,i)),this.dispatch({data:i,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt}),i},t.setState=function(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})},t.cancel=function(e){var t,r=this.promise;return null==(t=this.retryer)||t.cancel(e),r?r.then(a.lQ).catch(a.lQ):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(e){return!1!==e.options.enabled})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(e){return e.getCurrentResult().isStale})},t.isStaleByTime=function(e){return void 0===e&&(e=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,a.j3)(this.state.dataUpdatedAt,e)},t.onFocus=function(){var e,t=this.observers.find(function(e){return e.shouldFetchOnWindowFocus()});t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.onOnline=function(){var e,t=this.observers.find(function(e){return e.shouldFetchOnReconnect()});t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.addObserver=function(e){-1===this.observers.indexOf(e)&&(this.observers.push(e),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))},t.removeObserver=function(e){-1!==this.observers.indexOf(e)&&(this.observers=this.observers.filter(function(t){return t!==e}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:e}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(e,t){var r,n,s,i=this;if(this.state.isFetching)if(this.state.dataUpdatedAt&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var c;return null==(c=this.retryer)||c.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){var u=this.observers.find(function(e){return e.options.queryFn});u&&this.setOptions(u.options)}var d=(0,a.HN)(this.queryKey),h=(0,a.jY)(),f={queryKey:d,pageParam:void 0,meta:this.meta};Object.defineProperty(f,"signal",{enumerable:!0,get:function(){if(h)return i.abortSignalConsumed=!0,h.signal}});var m,p,g={fetchOptions:t,options:this.options,queryKey:d,state:this.state,fetchFn:function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(f)):Promise.reject("Missing queryFn")},meta:this.meta};(null==(r=this.options.behavior)?void 0:r.onFetch)&&(null==(m=this.options.behavior)||m.onFetch(g));(this.revertState=this.state,this.state.isFetching&&this.state.fetchMeta===(null==(n=g.fetchOptions)?void 0:n.meta))||this.dispatch({type:"fetch",meta:null==(p=g.fetchOptions)?void 0:p.meta});return this.retryer=new l.eJ({fn:g.fetchFn,abort:null==h||null==(s=h.abort)?void 0:s.bind(h),onSuccess:function(e){i.setData(e),null==i.cache.config.onSuccess||i.cache.config.onSuccess(e,i),0===i.cacheTime&&i.optionalRemove()},onError:function(e){(0,l.wm)(e)&&e.silent||i.dispatch({type:"error",error:e}),(0,l.wm)(e)||(null==i.cache.config.onError||i.cache.config.onError(e,i),(0,o.t)().error(e)),0===i.cacheTime&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:g.options.retry,retryDelay:g.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(e){var t=this;this.state=this.reducer(this.state,e),i.j.batch(function(){t.observers.forEach(function(t){t.onQueryUpdate(e)}),t.cache.notify({query:t,type:"queryUpdated",action:e})})},t.getDefaultState=function(e){var t="function"===typeof e.initialData?e.initialData():e.initialData,r="undefined"!==typeof e.initialData?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0,n="undefined"!==typeof t;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?null!=r?r:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:n?"success":"idle"}},t.reducer=function(e,t){var r,a;switch(t.type){case"failed":return(0,n.A)({},e,{fetchFailureCount:e.fetchFailureCount+1});case"pause":return(0,n.A)({},e,{isPaused:!0});case"continue":return(0,n.A)({},e,{isPaused:!1});case"fetch":return(0,n.A)({},e,{fetchFailureCount:0,fetchMeta:null!=(r=t.meta)?r:null,isFetching:!0,isPaused:!1},!e.dataUpdatedAt&&{error:null,status:"loading"});case"success":return(0,n.A)({},e,{data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:null!=(a=t.dataUpdatedAt)?a:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var s=t.error;return(0,l.wm)(s)&&s.revert&&this.revertState?(0,n.A)({},this.revertState):(0,n.A)({},e,{error:s,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return(0,n.A)({},e,{isInvalidated:!0});case"setState":return(0,n.A)({},e,t.state);default:return e}},e}(),u=r(422),d=function(e){function t(t){var r;return(r=e.call(this)||this).config=t||{},r.queries=[],r.queriesMap={},r}(0,s.A)(t,e);var r=t.prototype;return r.build=function(e,t,r){var n,s=t.queryKey,i=null!=(n=t.queryHash)?n:(0,a.F$)(s,t),o=this.get(i);return o||(o=new c({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s),meta:t.meta}),this.add(o)),o},r.add=function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"queryAdded",query:e}))},r.remove=function(e){var t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(function(t){return t!==e}),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"queryRemoved",query:e}))},r.clear=function(){var e=this;i.j.batch(function(){e.queries.forEach(function(t){e.remove(t)})})},r.get=function(e){return this.queriesMap[e]},r.getAll=function(){return this.queries},r.find=function(e,t){var r=(0,a.b_)(e,t)[0];return"undefined"===typeof r.exact&&(r.exact=!0),this.queries.find(function(e){return(0,a.MK)(r,e)})},r.findAll=function(e,t){var r=(0,a.b_)(e,t)[0];return Object.keys(r).length>0?this.queries.filter(function(e){return(0,a.MK)(r,e)}):this.queries},r.notify=function(e){var t=this;i.j.batch(function(){t.listeners.forEach(function(t){t(e)})})},r.onFocus=function(){var e=this;i.j.batch(function(){e.queries.forEach(function(e){e.onFocus()})})},r.onOnline=function(){var e=this;i.j.batch(function(){e.queries.forEach(function(e){e.onOnline()})})},t}(u.Q),h=r(964),f=function(e){function t(t){var r;return(r=e.call(this)||this).config=t||{},r.mutations=[],r.mutationId=0,r}(0,s.A)(t,e);var r=t.prototype;return r.build=function(e,t,r){var n=new h.s({mutationCache:this,mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:r,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0,meta:t.meta});return this.add(n),n},r.add=function(e){this.mutations.push(e),this.notify(e)},r.remove=function(e){this.mutations=this.mutations.filter(function(t){return t!==e}),e.cancel(),this.notify(e)},r.clear=function(){var e=this;i.j.batch(function(){e.mutations.forEach(function(t){e.remove(t)})})},r.getAll=function(){return this.mutations},r.find=function(e){return"undefined"===typeof e.exact&&(e.exact=!0),this.mutations.find(function(t){return(0,a.nJ)(e,t)})},r.findAll=function(e){return this.mutations.filter(function(t){return(0,a.nJ)(e,t)})},r.notify=function(e){var t=this;i.j.batch(function(){t.listeners.forEach(function(t){t(e)})})},r.onFocus=function(){this.resumePausedMutations()},r.onOnline=function(){this.resumePausedMutations()},r.resumePausedMutations=function(){var e=this.mutations.filter(function(e){return e.state.isPaused});return i.j.batch(function(){return e.reduce(function(e,t){return e.then(function(){return t.continue().catch(a.lQ)})},Promise.resolve())})},t}(u.Q),m=r(244),p=r(317);function g(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function v(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}var x=function(){function e(e){void 0===e&&(e={}),this.queryCache=e.queryCache||new d,this.mutationCache=e.mutationCache||new f,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var e=this;this.unsubscribeFocus=m.m.subscribe(function(){m.m.isFocused()&&p.t.isOnline()&&(e.mutationCache.onFocus(),e.queryCache.onFocus())}),this.unsubscribeOnline=p.t.subscribe(function(){m.m.isFocused()&&p.t.isOnline()&&(e.mutationCache.onOnline(),e.queryCache.onOnline())})},t.unmount=function(){var e,t;null==(e=this.unsubscribeFocus)||e.call(this),null==(t=this.unsubscribeOnline)||t.call(this)},t.isFetching=function(e,t){var r=(0,a.b_)(e,t)[0];return r.fetching=!0,this.queryCache.findAll(r).length},t.isMutating=function(e){return this.mutationCache.findAll((0,n.A)({},e,{fetching:!0})).length},t.getQueryData=function(e,t){var r;return null==(r=this.queryCache.find(e,t))?void 0:r.state.data},t.getQueriesData=function(e){return this.getQueryCache().findAll(e).map(function(e){return[e.queryKey,e.state.data]})},t.setQueryData=function(e,t,r){var n=(0,a.vh)(e),s=this.defaultQueryOptions(n);return this.queryCache.build(this,s).setData(t,r)},t.setQueriesData=function(e,t,r){var n=this;return i.j.batch(function(){return n.getQueryCache().findAll(e).map(function(e){var a=e.queryKey;return[a,n.setQueryData(a,t,r)]})})},t.getQueryState=function(e,t){var r;return null==(r=this.queryCache.find(e,t))?void 0:r.state},t.removeQueries=function(e,t){var r=(0,a.b_)(e,t)[0],n=this.queryCache;i.j.batch(function(){n.findAll(r).forEach(function(e){n.remove(e)})})},t.resetQueries=function(e,t,r){var s=this,o=(0,a.b_)(e,t,r),l=o[0],c=o[1],u=this.queryCache,d=(0,n.A)({},l,{active:!0});return i.j.batch(function(){return u.findAll(l).forEach(function(e){e.reset()}),s.refetchQueries(d,c)})},t.cancelQueries=function(e,t,r){var n=this,s=(0,a.b_)(e,t,r),o=s[0],l=s[1],c=void 0===l?{}:l;"undefined"===typeof c.revert&&(c.revert=!0);var u=i.j.batch(function(){return n.queryCache.findAll(o).map(function(e){return e.cancel(c)})});return Promise.all(u).then(a.lQ).catch(a.lQ)},t.invalidateQueries=function(e,t,r){var s,o,l,c=this,u=(0,a.b_)(e,t,r),d=u[0],h=u[1],f=(0,n.A)({},d,{active:null==(s=null!=(o=d.refetchActive)?o:d.active)||s,inactive:null!=(l=d.refetchInactive)&&l});return i.j.batch(function(){return c.queryCache.findAll(d).forEach(function(e){e.invalidate()}),c.refetchQueries(f,h)})},t.refetchQueries=function(e,t,r){var s=this,o=(0,a.b_)(e,t,r),l=o[0],c=o[1],u=i.j.batch(function(){return s.queryCache.findAll(l).map(function(e){return e.fetch(void 0,(0,n.A)({},c,{meta:{refetchPage:null==l?void 0:l.refetchPage}}))})}),d=Promise.all(u).then(a.lQ);return(null==c?void 0:c.throwOnError)||(d=d.catch(a.lQ)),d},t.fetchQuery=function(e,t,r){var n=(0,a.vh)(e,t,r),s=this.defaultQueryOptions(n);"undefined"===typeof s.retry&&(s.retry=!1);var i=this.queryCache.build(this,s);return i.isStaleByTime(s.staleTime)?i.fetch(s):Promise.resolve(i.state.data)},t.prefetchQuery=function(e,t,r){return this.fetchQuery(e,t,r).then(a.lQ).catch(a.lQ)},t.fetchInfiniteQuery=function(e,t,r){var n=(0,a.vh)(e,t,r);return n.behavior={onFetch:function(e){e.fetchFn=function(){var t,r,n,s,i,o,c,u=null==(t=e.fetchOptions)||null==(r=t.meta)?void 0:r.refetchPage,d=null==(n=e.fetchOptions)||null==(s=n.meta)?void 0:s.fetchMore,h=null==d?void 0:d.pageParam,f="forward"===(null==d?void 0:d.direction),m="backward"===(null==d?void 0:d.direction),p=(null==(i=e.state.data)?void 0:i.pages)||[],x=(null==(o=e.state.data)?void 0:o.pageParams)||[],b=(0,a.jY)(),y=null==b?void 0:b.signal,w=x,j=!1,N=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},k=function(e,t,r,n){return w=n?[t].concat(w):[].concat(w,[t]),n?[r].concat(e):[].concat(e,[r])},_=function(t,r,n,a){if(j)return Promise.reject("Cancelled");if("undefined"===typeof n&&!r&&t.length)return Promise.resolve(t);var s={queryKey:e.queryKey,signal:y,pageParam:n,meta:e.meta},i=N(s),o=Promise.resolve(i).then(function(e){return k(t,n,e,a)});return(0,l.dd)(i)&&(o.cancel=i.cancel),o};if(p.length)if(f){var S="undefined"!==typeof h,C=S?h:g(e.options,p);c=_(p,S,C)}else if(m){var E="undefined"!==typeof h,P=E?h:v(e.options,p);c=_(p,E,P,!0)}else!function(){w=[];var t="undefined"===typeof e.options.getNextPageParam,r=!u||!p[0]||u(p[0],0,p);c=r?_([],t,x[0]):Promise.resolve(k([],x[0],p[0]));for(var n=function(r){c=c.then(function(n){if(!u||!p[r]||u(p[r],r,p)){var a=t?x[r]:g(e.options,n);return _(n,t,a)}return Promise.resolve(k(n,x[r],p[r]))})},a=1;a<p.length;a++)n(a)}();else c=_([]);var T=c.then(function(e){return{pages:e,pageParams:w}});return T.cancel=function(){j=!0,null==b||b.abort(),(0,l.dd)(c)&&c.cancel()},T}}},this.fetchQuery(n)},t.prefetchInfiniteQuery=function(e,t,r){return this.fetchInfiniteQuery(e,t,r).then(a.lQ).catch(a.lQ)},t.cancelMutations=function(){var e=this,t=i.j.batch(function(){return e.mutationCache.getAll().map(function(e){return e.cancel()})});return Promise.all(t).then(a.lQ).catch(a.lQ)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(e){return this.mutationCache.build(this,e).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(e){this.defaultOptions=e},t.setQueryDefaults=function(e,t){var r=this.queryDefaults.find(function(t){return(0,a.Od)(e)===(0,a.Od)(t.queryKey)});r?r.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})},t.getQueryDefaults=function(e){var t;return e?null==(t=this.queryDefaults.find(function(t){return(0,a.Cp)(e,t.queryKey)}))?void 0:t.defaultOptions:void 0},t.setMutationDefaults=function(e,t){var r=this.mutationDefaults.find(function(t){return(0,a.Od)(e)===(0,a.Od)(t.mutationKey)});r?r.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})},t.getMutationDefaults=function(e){var t;return e?null==(t=this.mutationDefaults.find(function(t){return(0,a.Cp)(e,t.mutationKey)}))?void 0:t.defaultOptions:void 0},t.defaultQueryOptions=function(e){if(null==e?void 0:e._defaulted)return e;var t=(0,n.A)({},this.defaultOptions.queries,this.getQueryDefaults(null==e?void 0:e.queryKey),e,{_defaulted:!0});return!t.queryHash&&t.queryKey&&(t.queryHash=(0,a.F$)(t.queryKey,t)),t},t.defaultQueryObserverOptions=function(e){return this.defaultQueryOptions(e)},t.defaultMutationOptions=function(e){return(null==e?void 0:e._defaulted)?e:(0,n.A)({},this.defaultOptions.mutations,this.getMutationDefaults(null==e?void 0:e.mutationKey),e,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}()},730:(e,t,r)=>{"use strict";var n=r(43),a=r(123),s=r(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(i(227));var o=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,m={},p={};function g(e,t,r,n,a,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,r,n){var a=v.hasOwnProperty(t)?v[t]:null;(null!==a?0===a.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!f.call(p,e)||!f.call(m,e)&&(h.test(e)?p[e]=!0:(m[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x,b);v[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=60103,N=60106,k=60107,_=60108,S=60114,C=60109,E=60110,P=60112,T=60113,R=60120,O=60115,A=60116,L=60121,I=60128,M=60129,z=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var D=Symbol.for;j=D("react.element"),N=D("react.portal"),k=D("react.fragment"),_=D("react.strict_mode"),S=D("react.profiler"),C=D("react.provider"),E=D("react.context"),P=D("react.forward_ref"),T=D("react.suspense"),R=D("react.suspense_list"),O=D("react.memo"),A=D("react.lazy"),L=D("react.block"),D("react.scope"),I=D("react.opaque.id"),M=D("react.debug_trace_mode"),z=D("react.offscreen"),U=D("react.legacy_hidden")}var F,q="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=q&&e[q]||e["@@iterator"])?e:null}function Q(e){if(void 0===F)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var W=!1;function V(e,t){if(!e||W)return"";W=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){n=l}e.call(t.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&"string"===typeof l.stack){for(var a=l.stack.split("\n"),s=n.stack.split("\n"),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||a[i]!==s[o])return"\n"+a[i].replace(" at new "," at ")}while(1<=i&&0<=o);break}}}finally{W=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Q(e):""}function H(e){switch(e.tag){case 5:return Q(e.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 22:return e=V(e.type._render,!1);case 1:return e=V(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case N:return"Portal";case S:return"Profiler";case _:return"StrictMode";case T:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return G(e.type);case L:return G(e._render);case A:t=e._payload,e=e._init;try{return G(e(t))}catch(r){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var r=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function ee(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=K(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function re(e,t){te(e,t);var r=K(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ae(e,t.type,r):t.hasOwnProperty("defaultValue")&&ae(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ne(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ae(e,t,r){"number"===t&&X(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function se(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function ie(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+K(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(i(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(i(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:K(r)}}function ce(e,t){var r=K(t.value),n=K(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function me(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,ge,ve=(ge=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction(function(){return ge(e,t)})}:ge);function xe(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ye=["Webkit","ms","Moz","O"];function we(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function je(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=we(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(be).forEach(function(e){ye.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]})});var Ne=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(Ne[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Ee=null,Pe=null;function Te(e){if(e=na(e)){if("function"!==typeof Ce)throw Error(i(280));var t=e.stateNode;t&&(t=sa(t),Ce(e.stateNode,e.type,t))}}function Re(e){Ee?Pe?Pe.push(e):Pe=[e]:Ee=e}function Oe(){if(Ee){var e=Ee,t=Pe;if(Pe=Ee=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ae(e,t){return e(t)}function Le(e,t,r,n,a){return e(t,r,n,a)}function Ie(){}var Me=Ae,ze=!1,Ue=!1;function De(){null===Ee&&null===Pe||(Ie(),Oe())}function Fe(e,t){var r=e.stateNode;if(null===r)return null;var n=sa(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(i(231,t,typeof r));return r}var qe=!1;if(d)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){qe=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ge){qe=!1}function Qe(e,t,r,n,a,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var We=!1,Ve=null,He=!1,Ge=null,Ke={onError:function(e){We=!0,Ve=e}};function $e(e,t,r,n,a,s,i,o,l){We=!1,Ve=null,Qe.apply(Ke,arguments)}function Je(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Je(e)!==e)throw Error(i(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(i(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(n=a.return)){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return Xe(a),e;if(s===n)return Xe(a),t;s=s.sibling}throw Error(i(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var r=e.alternate;null!==t;){if(t===e||t===r)return!0;t=t.return}return!1}var tt,rt,nt,at,st=!1,it=[],ot=null,lt=null,ct=null,ut=new Map,dt=new Map,ht=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mt(e,t,r,n,a){return{blockedOn:e,domEventName:t,eventSystemFlags:16|r,nativeEvent:a,targetContainers:[n]}}function pt(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function gt(e,t,r,n,a,s){return null===e||e.nativeEvent!==s?(e=mt(t,r,n,a,s),null!==t&&(null!==(t=na(t))&&rt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function vt(e){var t=ra(e.target);if(null!==t){var r=Je(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Ye(r)))return e.blockedOn=t,void at(e.lanePriority,function(){s.unstable_runWithPriority(e.priority,function(){nt(r)})})}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function xt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=na(r))&&rt(t),e.blockedOn=r,!1;t.shift()}return!0}function bt(e,t,r){xt(e)&&r.delete(t)}function yt(){for(st=!1;0<it.length;){var e=it[0];if(null!==e.blockedOn){null!==(e=na(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var r=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r){e.blockedOn=r;break}t.shift()}null===e.blockedOn&&it.shift()}null!==ot&&xt(ot)&&(ot=null),null!==lt&&xt(lt)&&(lt=null),null!==ct&&xt(ct)&&(ct=null),ut.forEach(bt),dt.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,st||(st=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,yt)))}function jt(e){function t(t){return wt(t,e)}if(0<it.length){wt(it[0],e);for(var r=1;r<it.length;r++){var n=it[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==ot&&wt(ot,e),null!==lt&&wt(lt,e),null!==ct&&wt(ct,e),ut.forEach(t),dt.forEach(t),r=0;r<ht.length;r++)(n=ht[r]).blockedOn===e&&(n.blockedOn=null);for(;0<ht.length&&null===(r=ht[0]).blockedOn;)vt(r),null===r.blockedOn&&ht.shift()}function Nt(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var kt={animationend:Nt("Animation","AnimationEnd"),animationiteration:Nt("Animation","AnimationIteration"),animationstart:Nt("Animation","AnimationStart"),transitionend:Nt("Transition","TransitionEnd")},_t={},St={};function Ct(e){if(_t[e])return _t[e];if(!kt[e])return e;var t,r=kt[e];for(t in r)if(r.hasOwnProperty(t)&&t in St)return _t[e]=r[t];return e}d&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var Et=Ct("animationend"),Pt=Ct("animationiteration"),Tt=Ct("animationstart"),Rt=Ct("transitionend"),Ot=new Map,At=new Map,Lt=["abort","abort",Et,"animationEnd",Pt,"animationIteration",Tt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function It(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],a=e[r+1];a="on"+(a[0].toUpperCase()+a.slice(1)),At.set(n,t),Ot.set(n,a),c(a,[n])}}(0,s.unstable_now)();var Mt=8;function zt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ut(e,t){var r=e.pendingLanes;if(0===r)return Mt=0;var n=0,a=0,s=e.expiredLanes,i=e.suspendedLanes,o=e.pingedLanes;if(0!==s)n=s,a=Mt=15;else if(0!==(s=134217727&r)){var l=s&~i;0!==l?(n=zt(l),a=Mt):0!==(o&=s)&&(n=zt(o),a=Mt)}else 0!==(s=r&~i)?(n=zt(s),a=Mt):0!==o&&(n=zt(o),a=Mt);if(0===n)return 0;if(n=r&((0>(n=31-Wt(n))?0:1<<n)<<1)-1,0!==t&&t!==n&&0===(t&i)){if(zt(t),a<=Mt)return t;Mt=a}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-Wt(t)),n|=e[r],t&=~a;return n}function Dt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ft(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?Ft(10,t):e;case 10:return 0===(e=qt(192&~t))?Ft(8,t):e;case 8:return 0===(e=qt(3584&~t))&&(0===(e=qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(i(358,e))}function qt(e){return e&-e}function Bt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Qt(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,(e=e.eventTimes)[t=31-Wt(t)]=r}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Vt(e)/Ht|0)|0},Vt=Math.log,Ht=Math.LN2;var Gt=s.unstable_UserBlockingPriority,Kt=s.unstable_runWithPriority,$t=!0;function Jt(e,t,r,n){ze||Ie();var a=Xt,s=ze;ze=!0;try{Le(a,e,t,r,n)}finally{(ze=s)||De()}}function Yt(e,t,r,n){Kt(Gt,Xt.bind(null,e,t,r,n))}function Xt(e,t,r,n){var a;if($t)if((a=0===(4&t))&&0<it.length&&-1<ft.indexOf(e))e=mt(null,e,t,r,n),it.push(e);else{var s=Zt(e,t,r,n);if(null===s)a&&pt(e,n);else{if(a){if(-1<ft.indexOf(e))return e=mt(s,e,t,r,n),void it.push(e);if(function(e,t,r,n,a){switch(t){case"focusin":return ot=gt(ot,e,t,r,n,a),!0;case"dragenter":return lt=gt(lt,e,t,r,n,a),!0;case"mouseover":return ct=gt(ct,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return ut.set(s,gt(ut.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,dt.set(s,gt(dt.get(s)||null,e,t,r,n,a)),!0}return!1}(s,e,t,r,n))return;pt(e,n)}In(e,t,n,null,r)}}}function Zt(e,t,r,n){var a=Se(n);if(null!==(a=ra(a))){var s=Je(a);if(null===s)a=null;else{var i=s.tag;if(13===i){if(null!==(a=Ye(s)))return a;a=null}else if(3===i){if(s.stateNode.hydrate)return 3===s.tag?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return In(e,t,n,a,r),null}var er=null,tr=null,rr=null;function nr(){if(rr)return rr;var e,t,r=tr,n=r.length,a="value"in er?er.value:er.textContent,s=a.length;for(e=0;e<n&&r[e]===a[e];e++);var i=n-e;for(t=1;t<=i&&r[n-t]===a[s-t];t++);return rr=a.slice(e,1<t?1-t:void 0)}function ar(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function sr(){return!0}function ir(){return!1}function or(e){function t(t,r,n,a,s){for(var i in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?sr:ir,this.isPropagationStopped=ir,this}return a(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),t}var lr,cr,ur,dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hr=or(dr),fr=a({},dr,{view:0,detail:0}),mr=or(fr),pr=a({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ur&&(ur&&"mousemove"===e.type?(lr=e.screenX-ur.screenX,cr=e.screenY-ur.screenY):cr=lr=0,ur=e),lr)},movementY:function(e){return"movementY"in e?e.movementY:cr}}),gr=or(pr),vr=or(a({},pr,{dataTransfer:0})),xr=or(a({},fr,{relatedTarget:0})),br=or(a({},dr,{animationName:0,elapsedTime:0,pseudoElement:0})),yr=a({},dr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wr=or(yr),jr=or(a({},dr,{data:0})),Nr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_r[e])&&!!t[e]}function Cr(){return Sr}var Er=a({},fr,{key:function(e){if(e.key){var t=Nr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ar(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(e){return"keypress"===e.type?ar(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ar(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pr=or(Er),Tr=or(a({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rr=or(a({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr})),Or=or(a({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ar=a({},pr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lr=or(Ar),Ir=[9,13,27,32],Mr=d&&"CompositionEvent"in window,zr=null;d&&"documentMode"in document&&(zr=document.documentMode);var Ur=d&&"TextEvent"in window&&!zr,Dr=d&&(!Mr||zr&&8<zr&&11>=zr),Fr=String.fromCharCode(32),qr=!1;function Br(e,t){switch(e){case"keyup":return-1!==Ir.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wr=!1;var Vr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vr[e.type]:"textarea"===t}function Gr(e,t,r,n){Re(n),0<(t=zn(t,"onChange")).length&&(r=new hr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Kr=null,$r=null;function Jr(e){Pn(e,0)}function Yr(e){if(Y(aa(e)))return e}function Xr(e,t){if("change"===e)return t}var Zr=!1;if(d){var en;if(d){var tn="oninput"in document;if(!tn){var rn=document.createElement("div");rn.setAttribute("oninput","return;"),tn="function"===typeof rn.oninput}en=tn}else en=!1;Zr=en&&(!document.documentMode||9<document.documentMode)}function nn(){Kr&&(Kr.detachEvent("onpropertychange",an),$r=Kr=null)}function an(e){if("value"===e.propertyName&&Yr($r)){var t=[];if(Gr(t,$r,e,Se(e)),e=Jr,ze)e(t);else{ze=!0;try{Ae(e,t)}finally{ze=!1,De()}}}}function sn(e,t,r){"focusin"===e?(nn(),$r=r,(Kr=t).attachEvent("onpropertychange",an)):"focusout"===e&&nn()}function on(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yr($r)}function ln(e,t){if("click"===e)return Yr(t)}function cn(e,t){if("input"===e||"change"===e)return Yr(t)}var un="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},dn=Object.prototype.hasOwnProperty;function hn(e,t){if(un(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!dn.call(t,r[n])||!un(e[r[n]],t[r[n]]))return!1;return!0}function fn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mn(e,t){var r,n=fn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fn(n)}}function pn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gn(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=X((e=t.contentWindow).document)}return t}function vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var xn=d&&"documentMode"in document&&11>=document.documentMode,bn=null,yn=null,wn=null,jn=!1;function Nn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;jn||null==bn||bn!==X(n)||("selectionStart"in(n=bn)&&vn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},wn&&hn(wn,n)||(wn=n,0<(n=zn(yn,"onSelect")).length&&(t=new hr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=bn)))}It("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),It("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),It(Lt,2);for(var kn="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_n=0;_n<kn.length;_n++)At.set(kn[_n],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sn));function En(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,s,o,l,c){if($e.apply(this,arguments),We){if(!We)throw Error(i(198));var u=Ve;We=!1,Ve=null,He||(He=!0,Ge=u)}}(n,t,void 0,e),e.currentTarget=null}function Pn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;En(a,o,c),s=l}else for(i=0;i<n.length;i++){if(l=(o=n[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;En(a,o,c),s=l}}}if(He)throw e=Ge,He=!1,Ge=null,e}function Tn(e,t){var r=ia(t),n=e+"__bubble";r.has(n)||(Ln(t,e,2,!1),r.add(n))}var Rn="_reactListening"+Math.random().toString(36).slice(2);function On(e){e[Rn]||(e[Rn]=!0,o.forEach(function(t){Cn.has(t)||An(t,!1,e,null),An(t,!0,e,null)}))}function An(e,t,r,n){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=r;if("selectionchange"===e&&9!==r.nodeType&&(s=r.ownerDocument),null!==n&&!t&&Cn.has(e)){if("scroll"!==e)return;a|=2,s=n}var i=ia(s),o=e+"__"+(t?"capture":"bubble");i.has(o)||(t&&(a|=4),Ln(s,e,a,t),i.add(o))}function Ln(e,t,r,n){var a=At.get(t);switch(void 0===a?2:a){case 0:a=Jt;break;case 1:a=Yt;break;default:a=Xt}r=a.bind(null,t,r,e),a=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function In(e,t,r,n,a){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var o=n.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===i)for(i=n.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==o;){if(null===(i=ra(o)))return;if(5===(l=i.tag)||6===l){n=s=i;continue e}o=o.parentNode}}n=n.return}!function(e,t,r){if(Ue)return e(t,r);Ue=!0;try{return Me(e,t,r)}finally{Ue=!1,De()}}(function(){var n=s,a=Se(r),i=[];e:{var o=Ot.get(e);if(void 0!==o){var l=hr,c=e;switch(e){case"keypress":if(0===ar(r))break e;case"keydown":case"keyup":l=Pr;break;case"focusin":c="focus",l=xr;break;case"focusout":c="blur",l=xr;break;case"beforeblur":case"afterblur":l=xr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rr;break;case Et:case Pt:case Tt:l=br;break;case Rt:l=Or;break;case"scroll":l=mr;break;case"wheel":l=Lr;break;case"copy":case"cut":case"paste":l=wr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tr}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,m=n;null!==m;){var p=(f=m).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==h&&(null!=(p=Fe(m,h))&&u.push(Mn(m,p,f)))),d)break;m=m.return}0<u.length&&(o=new l(o,c,null,r,a),i.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=r.relatedTarget||r.fromElement)||!ra(c)&&!c[ea])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?ra(c):null)&&(c!==(d=Je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(u=gr,p="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tr,p="onPointerLeave",h="onPointerEnter",m="pointer"),d=null==l?o:aa(l),f=null==c?o:aa(c),(o=new u(p,m+"leave",l,r,a)).target=d,o.relatedTarget=f,p=null,ra(a)===n&&((u=new u(h,m+"enter",c,r,a)).target=f,u.relatedTarget=d,p=u),d=p,l&&c)e:{for(h=c,m=0,f=u=l;f;f=Un(f))m++;for(f=0,p=h;p;p=Un(p))f++;for(;0<m-f;)u=Un(u),m--;for(;0<f-m;)h=Un(h),f--;for(;m--;){if(u===h||null!==h&&u===h.alternate)break e;u=Un(u),h=Un(h)}u=null}else u=null;null!==l&&Dn(i,o,l,u,!1),null!==c&&null!==d&&Dn(i,d,c,u,!0)}if("select"===(l=(o=n?aa(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Xr;else if(Hr(o))if(Zr)g=cn;else{g=on;var v=sn}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ln);switch(g&&(g=g(e,n))?Gr(i,g,r,a):(v&&v(e,o,n),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ae(o,"number",o.value)),v=n?aa(n):window,e){case"focusin":(Hr(v)||"true"===v.contentEditable)&&(bn=v,yn=n,wn=null);break;case"focusout":wn=yn=bn=null;break;case"mousedown":jn=!0;break;case"contextmenu":case"mouseup":case"dragend":jn=!1,Nn(i,r,a);break;case"selectionchange":if(xn)break;case"keydown":case"keyup":Nn(i,r,a)}var x;if(Mr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wr?Br(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Dr&&"ko"!==r.locale&&(Wr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wr&&(x=nr()):(tr="value"in(er=a)?er.value:er.textContent,Wr=!0)),0<(v=zn(n,b)).length&&(b=new jr(b,e,null,r,a),i.push({event:b,listeners:v}),x?b.data=x:null!==(x=Qr(r))&&(b.data=x))),(x=Ur?function(e,t){switch(e){case"compositionend":return Qr(t);case"keypress":return 32!==t.which?null:(qr=!0,Fr);case"textInput":return(e=t.data)===Fr&&qr?null:e;default:return null}}(e,r):function(e,t){if(Wr)return"compositionend"===e||!Mr&&Br(e,t)?(e=nr(),rr=tr=er=null,Wr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=zn(n,"onBeforeInput")).length&&(a=new jr("onBeforeInput","beforeinput",null,r,a),i.push({event:a,listeners:n}),a.data=x))}Pn(i,t)})}function Mn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function zn(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Fe(e,r))&&n.unshift(Mn(e,s,a)),null!=(s=Fe(e,t))&&n.push(Mn(e,s,a))),e=e.return}return n}function Un(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Dn(e,t,r,n,a){for(var s=t._reactName,i=[];null!==r&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(null!==l&&l===n)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Fe(r,s))&&i.unshift(Mn(r,l,o)):a||null!=(l=Fe(r,s))&&i.push(Mn(r,l,o))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}function Fn(){}var qn=null,Bn=null;function Qn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Vn="function"===typeof setTimeout?setTimeout:void 0,Hn="function"===typeof clearTimeout?clearTimeout:void 0;function Gn(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Kn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $n(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var Jn=0;var Yn=Math.random().toString(36).slice(2),Xn="__reactFiber$"+Yn,Zn="__reactProps$"+Yn,ea="__reactContainer$"+Yn,ta="__reactEvents$"+Yn;function ra(e){var t=e[Xn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ea]||r[Xn]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=$n(e);null!==e;){if(r=e[Xn])return r;e=$n(e)}return t}r=(e=r).parentNode}return null}function na(e){return!(e=e[Xn]||e[ea])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function aa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function sa(e){return e[Zn]||null}function ia(e){var t=e[ta];return void 0===t&&(t=e[ta]=new Set),t}var oa=[],la=-1;function ca(e){return{current:e}}function ua(e){0>la||(e.current=oa[la],oa[la]=null,la--)}function da(e,t){la++,oa[la]=e.current,e.current=t}var ha={},fa=ca(ha),ma=ca(!1),pa=ha;function ga(e,t){var r=e.type.contextTypes;if(!r)return ha;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in r)s[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function va(e){return null!==(e=e.childContextTypes)&&void 0!==e}function xa(){ua(ma),ua(fa)}function ba(e,t,r){if(fa.current!==ha)throw Error(i(168));da(fa,t),da(ma,r)}function ya(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var s in n=n.getChildContext())if(!(s in e))throw Error(i(108,G(t)||"Unknown",s));return a({},r,n)}function wa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ha,pa=fa.current,da(fa,e),da(ma,ma.current),!0}function ja(e,t,r){var n=e.stateNode;if(!n)throw Error(i(169));r?(e=ya(e,t,pa),n.__reactInternalMemoizedMergedChildContext=e,ua(ma),ua(fa),da(fa,e)):ua(ma),da(ma,r)}var Na=null,ka=null,_a=s.unstable_runWithPriority,Sa=s.unstable_scheduleCallback,Ca=s.unstable_cancelCallback,Ea=s.unstable_shouldYield,Pa=s.unstable_requestPaint,Ta=s.unstable_now,Ra=s.unstable_getCurrentPriorityLevel,Oa=s.unstable_ImmediatePriority,Aa=s.unstable_UserBlockingPriority,La=s.unstable_NormalPriority,Ia=s.unstable_LowPriority,Ma=s.unstable_IdlePriority,za={},Ua=void 0!==Pa?Pa:function(){},Da=null,Fa=null,qa=!1,Ba=Ta(),Qa=1e4>Ba?Ta:function(){return Ta()-Ba};function Wa(){switch(Ra()){case Oa:return 99;case Aa:return 98;case La:return 97;case Ia:return 96;case Ma:return 95;default:throw Error(i(332))}}function Va(e){switch(e){case 99:return Oa;case 98:return Aa;case 97:return La;case 96:return Ia;case 95:return Ma;default:throw Error(i(332))}}function Ha(e,t){return e=Va(e),_a(e,t)}function Ga(e,t,r){return e=Va(e),Sa(e,t,r)}function Ka(){if(null!==Fa){var e=Fa;Fa=null,Ca(e)}$a()}function $a(){if(!qa&&null!==Da){qa=!0;var e=0;try{var t=Da;Ha(99,function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}}),Da=null}catch(r){throw null!==Da&&(Da=Da.slice(e+1)),Sa(Oa,Ka),r}finally{qa=!1}}}var Ja=w.ReactCurrentBatchConfig;function Ya(e,t){if(e&&e.defaultProps){for(var r in t=a({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var Xa=ca(null),Za=null,es=null,ts=null;function rs(){ts=es=Za=null}function ns(e){var t=Xa.current;ua(Xa),e.type._context._currentValue=t}function as(e,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)===t){if(null===r||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,null!==r&&(r.childLanes|=t);e=e.return}}function ss(e,t){Za=e,ts=es=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Mi=!0),e.firstContext=null)}function is(e,t){if(ts!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ts=e,t=1073741823),t={context:e,observedBits:t,next:null},null===es){if(null===Za)throw Error(i(308));es=t,Za.dependencies={lanes:0,firstContext:t,responders:null}}else es=es.next=t;return e._currentValue}var os=!1;function ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function cs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ds(e,t){if(null!==(e=e.updateQueue)){var r=(e=e.shared).pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function hs(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?a=s=i:s=s.next=i,r=r.next}while(null!==r);null===s?a=s=t:s=s.next=t}else a=s=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function fs(e,t,r,n){var s=e.updateQueue;os=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(null!==l){s.shared.pending=null;var c=l,u=c.next;c.next=null,null===o?i=u:o.next=u,o=c;var d=e.alternate;if(null!==d){var h=(d=d.updateQueue).lastBaseUpdate;h!==o&&(null===h?d.firstBaseUpdate=u:h.next=u,d.lastBaseUpdate=c)}}if(null!==i){for(h=s.baseState,o=0,d=u=c=null;;){l=i.lane;var f=i.eventTime;if((n&l)===l){null!==d&&(d=d.next={eventTime:f,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var m=e,p=i;switch(l=t,f=r,p.tag){case 1:if("function"===typeof(m=p.payload)){h=m.call(f,h,l);break e}h=m;break e;case 3:m.flags=-4097&m.flags|64;case 0:if(null===(l="function"===typeof(m=p.payload)?m.call(f,h,l):m)||void 0===l)break e;h=a({},h,l);break e;case 2:os=!0}}null!==i.callback&&(e.flags|=32,null===(l=s.effects)?s.effects=[i]:l.push(i))}else f={eventTime:f,lane:l,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(u=d=f,c=h):d=d.next=f,o|=l;if(null===(i=i.next)){if(null===(l=s.shared.pending))break;i=l.next,l.next=null,s.lastBaseUpdate=l,s.shared.pending=null}}null===d&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,Bo|=o,e.lanes=o,e.memoizedState=h}}function ms(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(i(191,a));a.call(n)}}}var ps=(new n.Component).refs;function gs(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:a({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var vs={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=fl(),a=ml(e),s=us(n,a);s.payload=t,void 0!==r&&null!==r&&(s.callback=r),ds(e,s),pl(e,a,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=fl(),a=ml(e),s=us(n,a);s.tag=1,s.payload=t,void 0!==r&&null!==r&&(s.callback=r),ds(e,s),pl(e,a,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=fl(),n=ml(e),a=us(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),ds(e,a),pl(e,n,r)}};function xs(e,t,r,n,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!hn(r,n)||!hn(a,s))}function bs(e,t,r){var n=!1,a=ha,s=t.contextType;return"object"===typeof s&&null!==s?s=is(s):(a=va(t)?pa:fa.current,s=(n=null!==(n=t.contextTypes)&&void 0!==n)?ga(e,a):ha),t=new t(r,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vs,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function ys(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&vs.enqueueReplaceState(t,t.state,null)}function ws(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs=ps,ls(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=is(s):(s=va(t)?pa:fa.current,a.context=ga(e,s)),fs(e,r,a,n),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(gs(e,t,s,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&vs.enqueueReplaceState(a,a.state,null),fs(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4)}var js=Array.isArray;function Ns(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(i(309));var n=r.stateNode}if(!n)throw Error(i(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=n.refs;t===ps&&(t=n.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function ks(e,t){if("textarea"!==e.type)throw Error(i(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function _s(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.flags=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Gl(e,t)).index=0,e.sibling=null,e}function s(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags=2,r):n:(t.flags=2,r):r}function o(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Yl(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){return null!==t&&t.elementType===r.type?((n=a(t,r.props)).ref=Ns(e,t,r),n.return=e,n):((n=Kl(r.type,r.key,r.props,null,e.mode,n)).ref=Ns(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Xl(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function d(e,t,r,n,s){return null===t||7!==t.tag?((t=$l(r,e.mode,n,s)).return=e,t):((t=a(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t||"number"===typeof t)return(t=Yl(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(r=Kl(t.type,t.key,t.props,null,e.mode,r)).ref=Ns(e,null,t),r.return=e,r;case N:return(t=Xl(t,e.mode,r)).return=e,t}if(js(t)||B(t))return(t=$l(t,e.mode,r,null)).return=e,t;ks(e,t)}return null}function f(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return r.key===a?r.type===k?d(e,t,r.props.children,n,a):c(e,t,r,n):null;case N:return r.key===a?u(e,t,r,n):null}if(js(r)||B(r))return null!==a?null:d(e,t,r,n,null);ks(e,r)}return null}function m(e,t,r,n,a){if("string"===typeof n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return e=e.get(null===n.key?r:n.key)||null,n.type===k?d(t,e,n.props.children,a,n.key):c(t,e,n,a);case N:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a)}if(js(n)||B(n))return d(t,e=e.get(r)||null,n,a,null);ks(t,n)}return null}function p(a,i,o,l){for(var c=null,u=null,d=i,p=i=0,g=null;null!==d&&p<o.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var v=f(a,d,o[p],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),i=s(v,i,p),null===u?c=v:u.sibling=v,u=v,d=g}if(p===o.length)return r(a,d),c;if(null===d){for(;p<o.length;p++)null!==(d=h(a,o[p],l))&&(i=s(d,i,p),null===u?c=d:u.sibling=d,u=d);return c}for(d=n(a,d);p<o.length;p++)null!==(g=m(d,a,p,o[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),i=s(g,i,p),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),c}function g(a,o,l,c){var u=B(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,p=o,g=o=0,v=null,x=l.next();null!==p&&!x.done;g++,x=l.next()){p.index>g?(v=p,p=null):v=p.sibling;var b=f(a,p,x.value,c);if(null===b){null===p&&(p=v);break}e&&p&&null===b.alternate&&t(a,p),o=s(b,o,g),null===d?u=b:d.sibling=b,d=b,p=v}if(x.done)return r(a,p),u;if(null===p){for(;!x.done;g++,x=l.next())null!==(x=h(a,x.value,c))&&(o=s(x,o,g),null===d?u=x:d.sibling=x,d=x);return u}for(p=n(a,p);!x.done;g++,x=l.next())null!==(x=m(p,a,g,x.value,c))&&(e&&null!==x.alternate&&p.delete(null===x.key?g:x.key),o=s(x,o,g),null===d?u=x:d.sibling=x,d=x);return e&&p.forEach(function(e){return t(a,e)}),u}return function(e,n,s,l){var c="object"===typeof s&&null!==s&&s.type===k&&null===s.key;c&&(s=s.props.children);var u="object"===typeof s&&null!==s;if(u)switch(s.$$typeof){case j:e:{for(u=s.key,c=n;null!==c;){if(c.key===u){if(7===c.tag){if(s.type===k){r(e,c.sibling),(n=a(c,s.props.children)).return=e,e=n;break e}}else if(c.elementType===s.type){r(e,c.sibling),(n=a(c,s.props)).ref=Ns(e,c,s),n.return=e,e=n;break e}r(e,c);break}t(e,c),c=c.sibling}s.type===k?((n=$l(s.props.children,e.mode,l,s.key)).return=e,e=n):((l=Kl(s.type,s.key,s.props,null,e.mode,l)).ref=Ns(e,n,s),l.return=e,e=l)}return o(e);case N:e:{for(c=s.key;null!==n;){if(n.key===c){if(4===n.tag&&n.stateNode.containerInfo===s.containerInfo&&n.stateNode.implementation===s.implementation){r(e,n.sibling),(n=a(n,s.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=Xl(s,e.mode,l)).return=e,e=n}return o(e)}if("string"===typeof s||"number"===typeof s)return s=""+s,null!==n&&6===n.tag?(r(e,n.sibling),(n=a(n,s)).return=e,e=n):(r(e,n),(n=Yl(s,e.mode,l)).return=e,e=n),o(e);if(js(s))return p(e,n,s,l);if(B(s))return g(e,n,s,l);if(u&&ks(e,s),"undefined"===typeof s&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(i(152,G(e.type)||"Component"))}return r(e,n)}}var Ss=_s(!0),Cs=_s(!1),Es={},Ps=ca(Es),Ts=ca(Es),Rs=ca(Es);function Os(e){if(e===Es)throw Error(i(174));return e}function As(e,t){switch(da(Rs,t),da(Ts,e),da(Ps,Es),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:me(null,"");break;default:t=me(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ua(Ps),da(Ps,t)}function Ls(){ua(Ps),ua(Ts),ua(Rs)}function Is(e){Os(Rs.current);var t=Os(Ps.current),r=me(t,e.type);t!==r&&(da(Ts,e),da(Ps,r))}function Ms(e){Ts.current===e&&(ua(Ps),ua(Ts))}var zs=ca(0);function Us(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ds=null,Fs=null,qs=!1;function Bs(e,t){var r=Vl(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Qs(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ws(e){if(qs){var t=Fs;if(t){var r=t;if(!Qs(e,t)){if(!(t=Kn(r.nextSibling))||!Qs(e,t))return e.flags=-1025&e.flags|2,qs=!1,void(Ds=e);Bs(Ds,r)}Ds=e,Fs=Kn(t.firstChild)}else e.flags=-1025&e.flags|2,qs=!1,Ds=e}}function Vs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ds=e}function Hs(e){if(e!==Ds)return!1;if(!qs)return Vs(e),qs=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wn(t,e.memoizedProps))for(t=Fs;t;)Bs(e,t),t=Kn(t.nextSibling);if(Vs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){Fs=Kn(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}Fs=null}}else Fs=Ds?Kn(e.stateNode.nextSibling):null;return!0}function Gs(){Fs=Ds=null,qs=!1}var Ks=[];function $s(){for(var e=0;e<Ks.length;e++)Ks[e]._workInProgressVersionPrimary=null;Ks.length=0}var Js=w.ReactCurrentDispatcher,Ys=w.ReactCurrentBatchConfig,Xs=0,Zs=null,ei=null,ti=null,ri=!1,ni=!1;function ai(){throw Error(i(321))}function si(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!un(e[r],t[r]))return!1;return!0}function ii(e,t,r,n,a,s){if(Xs=s,Zs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Js.current=null===e||null===e.memoizedState?Oi:Ai,e=r(n,a),ni){s=0;do{if(ni=!1,!(25>s))throw Error(i(301));s+=1,ti=ei=null,t.updateQueue=null,Js.current=Li,e=r(n,a)}while(ni)}if(Js.current=Ri,t=null!==ei&&null!==ei.next,Xs=0,ti=ei=Zs=null,ri=!1,t)throw Error(i(300));return e}function oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ti?Zs.memoizedState=ti=e:ti=ti.next=e,ti}function li(){if(null===ei){var e=Zs.alternate;e=null!==e?e.memoizedState:null}else e=ei.next;var t=null===ti?Zs.memoizedState:ti.next;if(null!==t)ti=t,ei=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ei=e).memoizedState,baseState:ei.baseState,baseQueue:ei.baseQueue,queue:ei.queue,next:null},null===ti?Zs.memoizedState=ti=e:ti=ti.next=e}return ti}function ci(e,t){return"function"===typeof t?t(e):t}function ui(e){var t=li(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=ei,a=n.baseQueue,s=r.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(null!==a){a=a.next,n=n.baseState;var l=o=s=null,c=a;do{var u=c.lane;if((Xs&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),n=c.eagerReducer===e?c.eagerState:e(n,c.action);else{var d={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(o=l=d,s=n):l=l.next=d,Zs.lanes|=u,Bo|=u}c=c.next}while(null!==c&&c!==a);null===l?s=n:l.next=o,un(n,t.memoizedState)||(Mi=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function di(e){var t=li(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(null!==a){r.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);un(s,t.memoizedState)||(Mi=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function hi(e,t,r){var n=t._getVersion;n=n(t._source);var a=t._workInProgressVersionPrimary;if(null!==a?e=a===n:(e=e.mutableReadLanes,(e=(Xs&e)===e)&&(t._workInProgressVersionPrimary=n,Ks.push(t))),e)return r(t._source);throw Ks.push(t),Error(i(350))}function fi(e,t,r,n){var a=Lo;if(null===a)throw Error(i(349));var s=t._getVersion,o=s(t._source),l=Js.current,c=l.useState(function(){return hi(a,t,r)}),u=c[1],d=c[0];c=ti;var h=e.memoizedState,f=h.refs,m=f.getSnapshot,p=h.source;h=h.subscribe;var g=Zs;return e.memoizedState={refs:f,source:t,subscribe:n},l.useEffect(function(){f.getSnapshot=r,f.setSnapshot=u;var e=s(t._source);if(!un(o,e)){e=r(t._source),un(d,e)||(u(e),e=ml(g),a.mutableReadLanes|=e&a.pendingLanes),e=a.mutableReadLanes,a.entangledLanes|=e;for(var n=a.entanglements,i=e;0<i;){var l=31-Wt(i),c=1<<l;n[l]|=e,i&=~c}}},[r,t,n]),l.useEffect(function(){return n(t._source,function(){var e=f.getSnapshot,r=f.setSnapshot;try{r(e(t._source));var n=ml(g);a.mutableReadLanes|=n&a.pendingLanes}catch(s){r(function(){throw s})}})},[t,n]),un(m,r)&&un(p,t)&&un(h,n)||((e={pending:null,dispatch:null,lastRenderedReducer:ci,lastRenderedState:d}).dispatch=u=Ti.bind(null,Zs,e),c.queue=e,c.baseQueue=null,d=hi(a,t,r),c.memoizedState=c.baseState=d),d}function mi(e,t,r){return fi(li(),e,t,r)}function pi(e){var t=oi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ci,lastRenderedState:e}).dispatch=Ti.bind(null,Zs,e),[t.memoizedState,e]}function gi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=Zs.updateQueue)?(t={lastEffect:null},Zs.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function vi(e){return e={current:e},oi().memoizedState=e}function xi(){return li().memoizedState}function bi(e,t,r,n){var a=oi();Zs.flags|=e,a.memoizedState=gi(1|t,r,void 0,void 0===n?null:n)}function yi(e,t,r,n){var a=li();n=void 0===n?null:n;var s=void 0;if(null!==ei){var i=ei.memoizedState;if(s=i.destroy,null!==n&&si(n,i.deps))return void gi(t,r,s,n)}Zs.flags|=e,a.memoizedState=gi(1|t,r,s,n)}function wi(e,t){return bi(516,4,e,t)}function ji(e,t){return yi(516,4,e,t)}function Ni(e,t){return yi(4,2,e,t)}function ki(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function _i(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,yi(4,2,ki.bind(null,t,e),r)}function Si(){}function Ci(e,t){var r=li();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&si(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ei(e,t){var r=li();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&si(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Pi(e,t){var r=Wa();Ha(98>r?98:r,function(){e(!0)}),Ha(97<r?97:r,function(){var r=Ys.transition;Ys.transition=1;try{e(!1),t()}finally{Ys.transition=r}})}function Ti(e,t,r){var n=fl(),a=ml(e),s={lane:a,action:r,eagerReducer:null,eagerState:null,next:null},i=t.pending;if(null===i?s.next=s:(s.next=i.next,i.next=s),t.pending=s,i=e.alternate,e===Zs||null!==i&&i===Zs)ni=ri=!0;else{if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,l=i(o,r);if(s.eagerReducer=i,s.eagerState=l,un(l,o))return}catch(c){}pl(e,a,n)}}var Ri={readContext:is,useCallback:ai,useContext:ai,useEffect:ai,useImperativeHandle:ai,useLayoutEffect:ai,useMemo:ai,useReducer:ai,useRef:ai,useState:ai,useDebugValue:ai,useDeferredValue:ai,useTransition:ai,useMutableSource:ai,useOpaqueIdentifier:ai,unstable_isNewReconciler:!1},Oi={readContext:is,useCallback:function(e,t){return oi().memoizedState=[e,void 0===t?null:t],e},useContext:is,useEffect:wi,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,bi(4,2,ki.bind(null,t,e),r)},useLayoutEffect:function(e,t){return bi(4,2,e,t)},useMemo:function(e,t){var r=oi();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=oi();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ti.bind(null,Zs,e),[n.memoizedState,e]},useRef:vi,useState:pi,useDebugValue:Si,useDeferredValue:function(e){var t=pi(e),r=t[0],n=t[1];return wi(function(){var t=Ys.transition;Ys.transition=1;try{n(e)}finally{Ys.transition=t}},[e]),r},useTransition:function(){var e=pi(!1),t=e[0];return vi(e=Pi.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,r){var n=oi();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},fi(n,e,t,r)},useOpaqueIdentifier:function(){if(qs){var e=!1,t=function(e){return{$$typeof:I,toString:e,valueOf:e}}(function(){throw e||(e=!0,r("r:"+(Jn++).toString(36))),Error(i(355))}),r=pi(t)[1];return 0===(2&Zs.mode)&&(Zs.flags|=516,gi(5,function(){r("r:"+(Jn++).toString(36))},void 0,null)),t}return pi(t="r:"+(Jn++).toString(36)),t},unstable_isNewReconciler:!1},Ai={readContext:is,useCallback:Ci,useContext:is,useEffect:ji,useImperativeHandle:_i,useLayoutEffect:Ni,useMemo:Ei,useReducer:ui,useRef:xi,useState:function(){return ui(ci)},useDebugValue:Si,useDeferredValue:function(e){var t=ui(ci),r=t[0],n=t[1];return ji(function(){var t=Ys.transition;Ys.transition=1;try{n(e)}finally{Ys.transition=t}},[e]),r},useTransition:function(){var e=ui(ci)[0];return[xi().current,e]},useMutableSource:mi,useOpaqueIdentifier:function(){return ui(ci)[0]},unstable_isNewReconciler:!1},Li={readContext:is,useCallback:Ci,useContext:is,useEffect:ji,useImperativeHandle:_i,useLayoutEffect:Ni,useMemo:Ei,useReducer:di,useRef:xi,useState:function(){return di(ci)},useDebugValue:Si,useDeferredValue:function(e){var t=di(ci),r=t[0],n=t[1];return ji(function(){var t=Ys.transition;Ys.transition=1;try{n(e)}finally{Ys.transition=t}},[e]),r},useTransition:function(){var e=di(ci)[0];return[xi().current,e]},useMutableSource:mi,useOpaqueIdentifier:function(){return di(ci)[0]},unstable_isNewReconciler:!1},Ii=w.ReactCurrentOwner,Mi=!1;function zi(e,t,r,n){t.child=null===e?Cs(t,null,r,n):Ss(t,e.child,r,n)}function Ui(e,t,r,n,a){r=r.render;var s=t.ref;return ss(t,a),n=ii(e,t,r,n,s,a),null===e||Mi?(t.flags|=1,zi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,so(e,t,a))}function Di(e,t,r,n,a,s){if(null===e){var i=r.type;return"function"!==typeof i||Hl(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Kl(r.type,null,n,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Fi(e,t,i,n,a,s))}return i=e.child,0===(a&s)&&(a=i.memoizedProps,(r=null!==(r=r.compare)?r:hn)(a,n)&&e.ref===t.ref)?so(e,t,s):(t.flags|=1,(e=Gl(i,n)).ref=t.ref,e.return=t,t.child=e)}function Fi(e,t,r,n,a,s){if(null!==e&&hn(e.memoizedProps,n)&&e.ref===t.ref){if(Mi=!1,0===(s&a))return t.lanes=e.lanes,so(e,t,s);0!==(16384&e.flags)&&(Mi=!0)}return Qi(e,t,r,n,s)}function qi(e,t,r){var n=t.pendingProps,a=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode||"unstable-defer-without-hiding"===n.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Nl(t,r);else{if(0===(1073741824&r))return e=null!==s?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Nl(t,e),null;t.memoizedState={baseLanes:0},Nl(t,null!==s?s.baseLanes:r)}else null!==s?(n=s.baseLanes|r,t.memoizedState=null):n=r,Nl(t,n);return zi(e,t,a,r),t.child}function Bi(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=128)}function Qi(e,t,r,n,a){var s=va(r)?pa:fa.current;return s=ga(t,s),ss(t,a),r=ii(e,t,r,n,s,a),null===e||Mi?(t.flags|=1,zi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,so(e,t,a))}function Wi(e,t,r,n,a){if(va(r)){var s=!0;wa(t)}else s=!1;if(ss(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),bs(t,r,n),ws(t,r,n,a),n=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=r.contextType;"object"===typeof c&&null!==c?c=is(c):c=ga(t,c=va(r)?pa:fa.current);var u=r.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==n||l!==c)&&ys(t,i,n,c),os=!1;var h=t.memoizedState;i.state=h,fs(t,n,i,a),l=t.memoizedState,o!==n||h!==l||ma.current||os?("function"===typeof u&&(gs(t,r,u,n),l=t.memoizedState),(o=os||xs(t,r,o,n,h,l,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4)):("function"===typeof i.componentDidMount&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=o):("function"===typeof i.componentDidMount&&(t.flags|=4),n=!1)}else{i=t.stateNode,cs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Ya(t.type,o),i.props=c,d=t.pendingProps,h=i.context,"object"===typeof(l=r.contextType)&&null!==l?l=is(l):l=ga(t,l=va(r)?pa:fa.current);var f=r.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==d||h!==l)&&ys(t,i,n,l),os=!1,h=t.memoizedState,i.state=h,fs(t,n,i,a);var m=t.memoizedState;o!==d||h!==m||ma.current||os?("function"===typeof f&&(gs(t,r,f,n),m=t.memoizedState),(c=os||xs(t,r,c,n,h,m,l))?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(n,m,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,m,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),n=!1)}return Vi(e,t,r,n,s,a)}function Vi(e,t,r,n,a,s){Bi(e,t);var i=0!==(64&t.flags);if(!n&&!i)return a&&ja(t,r,!1),so(e,t,s);n=t.stateNode,Ii.current=t;var o=i&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&i?(t.child=Ss(t,e.child,null,s),t.child=Ss(t,null,o,s)):zi(e,t,o,s),t.memoizedState=n.state,a&&ja(t,r,!0),t.child}function Hi(e){var t=e.stateNode;t.pendingContext?ba(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ba(0,t.context,!1),As(e,t.containerInfo)}var Gi,Ki,$i,Ji,Yi={dehydrated:null,retryLane:0};function Xi(e,t,r){var n,a=t.pendingProps,s=zs.current,i=!1;return(n=0!==(64&t.flags))||(n=(null===e||null!==e.memoizedState)&&0!==(2&s)),n?(i=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(s|=1),da(zs,1&s),null===e?(void 0!==a.fallback&&Ws(t),e=a.children,s=a.fallback,i?(e=Zi(t,e,s,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Yi,e):"number"===typeof a.unstable_expectedLoadTime?(e=Zi(t,e,s,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Yi,t.lanes=33554432,e):((r=Jl({mode:"visible",children:e},t.mode,r,null)).return=t,t.child=r)):(e.memoizedState,i?(a=to(e,t,a.children,a.fallback,r),i=t.child,s=e.child.memoizedState,i.memoizedState=null===s?{baseLanes:r}:{baseLanes:s.baseLanes|r},i.childLanes=e.childLanes&~r,t.memoizedState=Yi,a):(r=eo(e,t,a.children,r),t.memoizedState=null,r))}function Zi(e,t,r,n){var a=e.mode,s=e.child;return t={mode:"hidden",children:t},0===(2&a)&&null!==s?(s.childLanes=0,s.pendingProps=t):s=Jl(t,a,0,null),r=$l(r,a,n,null),s.return=e,r.return=e,s.sibling=r,e.child=s,r}function eo(e,t,r,n){var a=e.child;return e=a.sibling,r=Gl(a,{mode:"visible",children:r}),0===(2&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function to(e,t,r,n,a){var s=t.mode,i=e.child;e=i.sibling;var o={mode:"hidden",children:r};return 0===(2&s)&&t.child!==i?((r=t.child).childLanes=0,r.pendingProps=o,null!==(i=r.lastEffect)?(t.firstEffect=r.firstEffect,t.lastEffect=i,i.nextEffect=null):t.firstEffect=t.lastEffect=null):r=Gl(i,o),null!==e?n=Gl(e,n):(n=$l(n,s,a,null)).flags|=2,n.return=t,r.return=t,r.sibling=n,t.child=r,n}function ro(e,t){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),as(e.return,t)}function no(e,t,r,n,a,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a,lastEffect:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a,i.lastEffect=s)}function ao(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(zi(e,t,n.children,r),0!==(2&(n=zs.current)))n=1&n|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ro(e,r);else if(19===e.tag)ro(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(da(zs,n),0===(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===Us(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),no(t,!1,a,r,s,t.lastEffect);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Us(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}no(t,!0,r,null,s,t.lastEffect);break;case"together":no(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function so(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Bo|=t.lanes,0!==(r&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(r=Gl(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Gl(e,e.pendingProps)).return=t;r.sibling=null}return t.child}return null}function io(e,t){if(!qs)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function oo(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return va(t.type)&&xa(),null;case 3:return Ls(),ua(ma),ua(fa),$s(),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Hs(t)?t.flags|=4:n.hydrate||(t.flags|=256)),Ki(t),null;case 5:Ms(t);var s=Os(Rs.current);if(r=t.type,null!==e&&null!=t.stateNode)$i(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(null===t.stateNode)throw Error(i(166));return null}if(e=Os(Ps.current),Hs(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Xn]=t,n[Zn]=o,r){case"dialog":Tn("cancel",n),Tn("close",n);break;case"iframe":case"object":case"embed":Tn("load",n);break;case"video":case"audio":for(e=0;e<Sn.length;e++)Tn(Sn[e],n);break;case"source":Tn("error",n);break;case"img":case"image":case"link":Tn("error",n),Tn("load",n);break;case"details":Tn("toggle",n);break;case"input":ee(n,o),Tn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Tn("invalid",n);break;case"textarea":le(n,o),Tn("invalid",n)}for(var c in ke(r,o),e=null,o)o.hasOwnProperty(c)&&(s=o[c],"children"===c?"string"===typeof s?n.textContent!==s&&(e=["children",s]):"number"===typeof s&&n.textContent!==""+s&&(e=["children",""+s]):l.hasOwnProperty(c)&&null!=s&&"onScroll"===c&&Tn("scroll",n));switch(r){case"input":J(n),ne(n,o,!0);break;case"textarea":J(n),ue(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=Fn)}n=e,t.updateQueue=n,null!==n&&(t.flags|=4)}else{switch(c=9===s.nodeType?s:s.ownerDocument,e===de&&(e=fe(r)),e===de?"script"===r?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=c.createElement(r,{is:n.is}):(e=c.createElement(r),"select"===r&&(c=e,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):e=c.createElementNS(e,r),e[Xn]=t,e[Zn]=n,Gi(e,t,!1,!1),t.stateNode=e,c=_e(r,n),r){case"dialog":Tn("cancel",e),Tn("close",e),s=n;break;case"iframe":case"object":case"embed":Tn("load",e),s=n;break;case"video":case"audio":for(s=0;s<Sn.length;s++)Tn(Sn[s],e);s=n;break;case"source":Tn("error",e),s=n;break;case"img":case"image":case"link":Tn("error",e),Tn("load",e),s=n;break;case"details":Tn("toggle",e),s=n;break;case"input":ee(e,n),s=Z(e,n),Tn("invalid",e);break;case"option":s=se(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=a({},n,{value:void 0}),Tn("invalid",e);break;case"textarea":le(e,n),s=oe(e,n),Tn("invalid",e);break;default:s=n}ke(r,s);var u=s;for(o in u)if(u.hasOwnProperty(o)){var d=u[o];"style"===o?je(e,d):"dangerouslySetInnerHTML"===o?null!=(d=d?d.__html:void 0)&&ve(e,d):"children"===o?"string"===typeof d?("textarea"!==r||""!==d)&&xe(e,d):"number"===typeof d&&xe(e,""+d):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(l.hasOwnProperty(o)?null!=d&&"onScroll"===o&&Tn("scroll",e):null!=d&&y(e,o,d,c))}switch(r){case"input":J(e),ne(e,n,!1);break;case"textarea":J(e),ue(e);break;case"option":null!=n.value&&e.setAttribute("value",""+K(n.value));break;case"select":e.multiple=!!n.multiple,null!=(o=n.value)?ie(e,!!n.multiple,o,!1):null!=n.defaultValue&&ie(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Fn)}Qn(r,n)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ji(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(i(166));r=Os(Rs.current),Os(Ps.current),Hs(t)?(n=t.stateNode,r=t.memoizedProps,n[Xn]=t,n.nodeValue!==r&&(t.flags|=4)):((n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[Xn]=t,t.stateNode=n)}return null;case 13:return ua(zs),n=t.memoizedState,0!==(64&t.flags)?(t.lanes=r,t):(n=null!==n,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Hs(t):r=null!==e.memoizedState,n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&zs.current)?0===Do&&(Do=3):(0!==Do&&3!==Do||(Do=4),null===Lo||0===(134217727&Bo)&&0===(134217727&Qo)||bl(Lo,Mo))),(n||r)&&(t.flags|=4),null);case 4:return Ls(),Ki(t),null===e&&On(t.stateNode.containerInfo),null;case 10:return ns(t),null;case 19:if(ua(zs),null===(n=t.memoizedState))return null;if(o=0!==(64&t.flags),null===(c=n.rendering))if(o)io(n,!1);else{if(0!==Do||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Us(e))){for(t.flags|=64,io(n,!1),null!==(o=c.updateQueue)&&(t.updateQueue=o,t.flags|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;null!==r;)e=n,(o=r).flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(c=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,e=c.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return da(zs,1&zs.current|2),t.child}e=e.sibling}null!==n.tail&&Qa()>Go&&(t.flags|=64,o=!0,io(n,!1),t.lanes=33554432)}else{if(!o)if(null!==(e=Us(c))){if(t.flags|=64,o=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),io(n,!0),null===n.tail&&"hidden"===n.tailMode&&!c.alternate&&!qs)return null!==(t=t.lastEffect=n.lastEffect)&&(t.nextEffect=null),null}else 2*Qa()-n.renderingStartTime>Go&&1073741824!==r&&(t.flags|=64,o=!0,io(n,!1),t.lanes=33554432);n.isBackwards?(c.sibling=t.child,t.child=c):(null!==(r=n.last)?r.sibling=c:t.child=c,n.last=c)}return null!==n.tail?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Qa(),r.sibling=null,t=zs.current,da(zs,o?1&t|2:1&t),r):null;case 23:case 24:return kl(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==n.mode&&(t.flags|=4),null}throw Error(i(156,t.tag))}function lo(e){switch(e.tag){case 1:va(e.type)&&xa();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ls(),ua(ma),ua(fa),$s(),0!==(64&(t=e.flags)))throw Error(i(285));return e.flags=-4097&t|64,e;case 5:return Ms(e),null;case 13:return ua(zs),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ua(zs),null;case 4:return Ls(),null;case 10:return ns(e),null;case 23:case 24:return kl(),null;default:return null}}function co(e,t){try{var r="",n=t;do{r+=H(n),n=n.return}while(n);var a=r}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a}}function uo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}Gi=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ki=function(){},$i=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Os(Ps.current);var i,o=null;switch(r){case"input":s=Z(e,s),n=Z(e,n),o=[];break;case"option":s=se(e,s),n=se(e,n),o=[];break;case"select":s=a({},s,{value:void 0}),n=a({},n,{value:void 0}),o=[];break;case"textarea":s=oe(e,s),n=oe(e,n),o=[];break;default:"function"!==typeof s.onClick&&"function"===typeof n.onClick&&(e.onclick=Fn)}for(d in ke(r,n),r=null,s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&null!=s[d])if("style"===d){var c=s[d];for(i in c)c.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var u=n[d];if(c=null!=s?s[d]:void 0,n.hasOwnProperty(d)&&u!==c&&(null!=u||null!=c))if("style"===d)if(c){for(i in c)!c.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in u)u.hasOwnProperty(i)&&c[i]!==u[i]&&(r||(r={}),r[i]=u[i])}else r||(o||(o=[]),o.push(d,r)),r=u;else"dangerouslySetInnerHTML"===d?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(o=o||[]).push(d,u)):"children"===d?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(d,""+u):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=u&&"onScroll"===d&&Tn("scroll",e),o||c===u||(o=[])):"object"===typeof u&&null!==u&&u.$$typeof===I?u.toString():(o=o||[]).push(d,u))}r&&(o=o||[]).push("style",r);var d=o;(t.updateQueue=d)&&(t.flags|=4)}},Ji=function(e,t,r,n){r!==n&&(t.flags|=4)};var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,r){(r=us(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Yo||(Yo=!0,Xo=n),uo(0,t)},r}function mo(e,t,r){(r=us(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return uo(0,t),n(a)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(r.callback=function(){"function"!==typeof n&&(null===Zo?Zo=new Set([this]):Zo.add(this),uo(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}var po="function"===typeof WeakSet?WeakSet:Set;function go(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){ql(e,r)}else t.current=null}function vo(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:Ya(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gn(t.stateNode.containerInfo))}throw Error(i(163))}function xo(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var a=e;n=a.next,0!==(4&(a=a.tag))&&0!==(1&a)&&(Ul(r,e),zl(r,e)),e=n}while(e!==t)}return;case 1:return e=r.stateNode,4&r.flags&&(null===t?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:Ya(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=r.updateQueue)&&ms(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:case 1:e=r.child.stateNode}ms(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.flags&&Qn(r.type,r.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&jt(r)))))}throw Error(i(163))}function bo(e,t){for(var r=e;;){if(5===r.tag){var n=r.stateNode;if(t)"function"===typeof(n=n.style).setProperty?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var a=r.memoizedProps.style;a=void 0!==a&&null!==a&&a.hasOwnProperty("display")?a.display:null,n.style.display=we("display",a)}}else if(6===r.tag)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((23!==r.tag&&24!==r.tag||null===r.memoizedState||r===e)&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function yo(e,t){if(ka&&"function"===typeof ka.onCommitFiberUnmount)try{ka.onCommitFiberUnmount(Na,t)}catch(s){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var n=r,a=n.destroy;if(n=n.tag,void 0!==a)if(0!==(4&n))Ul(t,r);else{n=t;try{a()}catch(s){ql(n,s)}}r=r.next}while(r!==e)}break;case 1:if(go(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(s){ql(t,s)}break;case 5:go(t);break;case 4:So(e,t)}}function wo(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function jo(e){return 5===e.tag||3===e.tag||4===e.tag}function No(e){e:{for(var t=e.return;null!==t;){if(jo(t))break e;t=t.return}throw Error(i(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(i(161))}16&r.flags&&(xe(t,""),r.flags&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||jo(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.flags)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.flags)){r=r.stateNode;break e}}n?ko(e,r,t):_o(e,r,t)}function ko(e,t,r){var n=e.tag,a=5===n||6===n;if(a)e=a?e.stateNode:e.stateNode.instance,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Fn));else if(4!==n&&null!==(e=e.child))for(ko(e,t,r),e=e.sibling;null!==e;)ko(e,t,r),e=e.sibling}function _o(e,t,r){var n=e.tag,a=5===n||6===n;if(a)e=a?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(_o(e,t,r),e=e.sibling;null!==e;)_o(e,t,r),e=e.sibling}function So(e,t){for(var r,n,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(i(160));switch(r=s.stateNode,s.tag){case 5:n=!1;break e;case 3:case 4:r=r.containerInfo,n=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var o=e,l=a,c=l;;)if(yo(o,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n?(o=r,l=a.stateNode,8===o.nodeType?o.parentNode.removeChild(l):o.removeChild(l)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,n=!0,a.child.return=a,a=a.child;continue}}else if(yo(e,a),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function Co(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var n=r=r.next;do{3===(3&n.tag)&&(e=n.destroy,n.destroy=void 0,void 0!==e&&e()),n=n.next}while(n!==r)}return;case 1:case 12:case 17:return;case 5:if(null!=(r=t.stateNode)){n=t.memoizedProps;var a=null!==e?e.memoizedProps:n;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for(r[Zn]=n,"input"===e&&"radio"===n.type&&null!=n.name&&te(r,n),_e(e,a),t=_e(e,n),a=0;a<s.length;a+=2){var o=s[a],l=s[a+1];"style"===o?je(r,l):"dangerouslySetInnerHTML"===o?ve(r,l):"children"===o?xe(r,l):y(r,o,l,t)}switch(e){case"input":re(r,n);break;case"textarea":ce(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(s=n.value)?ie(r,!!n.multiple,s,!1):e!==!!n.multiple&&(null!=n.defaultValue?ie(r,!!n.multiple,n.defaultValue,!0):ie(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(i(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((r=t.stateNode).hydrate&&(r.hydrate=!1,jt(r.containerInfo)));case 13:return null!==t.memoizedState&&(Ho=Qa(),bo(t.child,!0)),void Eo(t);case 19:return void Eo(t);case 23:case 24:return void bo(t,null!==t.memoizedState)}throw Error(i(163))}function Eo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new po),t.forEach(function(t){var n=Ql.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}function Po(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var To=Math.ceil,Ro=w.ReactCurrentDispatcher,Oo=w.ReactCurrentOwner,Ao=0,Lo=null,Io=null,Mo=0,zo=0,Uo=ca(0),Do=0,Fo=null,qo=0,Bo=0,Qo=0,Wo=0,Vo=null,Ho=0,Go=1/0;function Ko(){Go=Qa()+500}var $o,Jo=null,Yo=!1,Xo=null,Zo=null,el=!1,tl=null,rl=90,nl=[],al=[],sl=null,il=0,ol=null,ll=-1,cl=0,ul=0,dl=null,hl=!1;function fl(){return 0!==(48&Ao)?Qa():-1!==ll?ll:ll=Qa()}function ml(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wa()?1:2;if(0===cl&&(cl=qo),0!==Ja.transition){0!==ul&&(ul=null!==Vo?Vo.pendingLanes:0),e=cl;var t=4186112&~ul;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wa(),0!==(4&Ao)&&98===e?e=Ft(12,cl):e=Ft(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),cl),e}function pl(e,t,r){if(50<il)throw il=0,ol=null,Error(i(185));if(null===(e=gl(e,t)))return null;Qt(e,t,r),e===Lo&&(Qo|=t,4===Do&&bl(e,Mo));var n=Wa();1===t?0!==(8&Ao)&&0===(48&Ao)?yl(e):(vl(e,r),0===Ao&&(Ko(),Ka())):(0===(4&Ao)||98!==n&&99!==n||(null===sl?sl=new Set([e]):sl.add(e)),vl(e,r)),Vo=e}function gl(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}function vl(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-Wt(o),c=1<<l,u=s[l];if(-1===u){if(0===(c&n)||0!==(c&a)){u=t,zt(c);var d=Mt;s[l]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);o&=~c}if(n=Ut(e,e===Lo?Mo:0),t=Mt,0===n)null!==r&&(r!==za&&Ca(r),e.callbackNode=null,e.callbackPriority=0);else{if(null!==r){if(e.callbackPriority===t)return;r!==za&&Ca(r)}15===t?(r=yl.bind(null,e),null===Da?(Da=[r],Fa=Sa(Oa,$a)):Da.push(r),r=za):14===t?r=Ga(99,yl.bind(null,e)):(r=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(i(358,e))}}(t),r=Ga(r,xl.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function xl(e){if(ll=-1,ul=cl=0,0!==(48&Ao))throw Error(i(327));var t=e.callbackNode;if(Ml()&&e.callbackNode!==t)return null;var r=Ut(e,e===Lo?Mo:0);if(0===r)return null;var n=r,a=Ao;Ao|=16;var s=Cl();for(Lo===e&&Mo===n||(Ko(),_l(e,n));;)try{Tl();break}catch(l){Sl(e,l)}if(rs(),Ro.current=s,Ao=a,null!==Io?n=0:(Lo=null,Mo=0,n=Do),0!==(qo&Qo))_l(e,0);else if(0!==n){if(2===n&&(Ao|=64,e.hydrate&&(e.hydrate=!1,Gn(e.containerInfo)),0!==(r=Dt(e))&&(n=El(e,r))),1===n)throw t=Fo,_l(e,0),bl(e,r),vl(e,Qa()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(i(345));case 2:case 5:Al(e);break;case 3:if(bl(e,r),(62914560&r)===r&&10<(n=Ho+500-Qa())){if(0!==Ut(e,0))break;if(((a=e.suspendedLanes)&r)!==r){fl(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Vn(Al.bind(null,e),n);break}Al(e);break;case 4:if(bl(e,r),(4186112&r)===r)break;for(n=e.eventTimes,a=-1;0<r;){var o=31-Wt(r);s=1<<o,(o=n[o])>a&&(a=o),r&=~s}if(r=a,10<(r=(120>(r=Qa()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*To(r/1960))-r)){e.timeoutHandle=Vn(Al.bind(null,e),r);break}Al(e);break;default:throw Error(i(329))}}return vl(e,Qa()),e.callbackNode===t?xl.bind(null,e):null}function bl(e,t){for(t&=~Wo,t&=~Qo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Wt(t),n=1<<r;e[r]=-1,t&=~n}}function yl(e){if(0!==(48&Ao))throw Error(i(327));if(Ml(),e===Lo&&0!==(e.expiredLanes&Mo)){var t=Mo,r=El(e,t);0!==(qo&Qo)&&(r=El(e,t=Ut(e,t)))}else r=El(e,t=Ut(e,0));if(0!==e.tag&&2===r&&(Ao|=64,e.hydrate&&(e.hydrate=!1,Gn(e.containerInfo)),0!==(t=Dt(e))&&(r=El(e,t))),1===r)throw r=Fo,_l(e,0),bl(e,t),vl(e,Qa()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Al(e),vl(e,Qa()),null}function wl(e,t){var r=Ao;Ao|=1;try{return e(t)}finally{0===(Ao=r)&&(Ko(),Ka())}}function jl(e,t){var r=Ao;Ao&=-2,Ao|=8;try{return e(t)}finally{0===(Ao=r)&&(Ko(),Ka())}}function Nl(e,t){da(Uo,zo),zo|=t,qo|=t}function kl(){zo=Uo.current,ua(Uo)}function _l(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,Hn(r)),null!==Io)for(r=Io.return;null!==r;){var n=r;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&xa();break;case 3:Ls(),ua(ma),ua(fa),$s();break;case 5:Ms(n);break;case 4:Ls();break;case 13:case 19:ua(zs);break;case 10:ns(n);break;case 23:case 24:kl()}r=r.return}Lo=e,Io=Gl(e.current,null),Mo=zo=qo=t,Do=0,Fo=null,Wo=Qo=Bo=0}function Sl(e,t){for(;;){var r=Io;try{if(rs(),Js.current=Ri,ri){for(var n=Zs.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}ri=!1}if(Xs=0,ti=ei=Zs=null,ni=!1,Oo.current=null,null===r||null===r.return){Do=1,Fo=t,Io=null;break}e:{var s=e,i=r.return,o=r,l=t;if(t=Mo,o.flags|=2048,o.firstEffect=o.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l;if(0===(2&o.mode)){var u=o.alternate;u?(o.updateQueue=u.updateQueue,o.memoizedState=u.memoizedState,o.lanes=u.lanes):(o.updateQueue=null,o.memoizedState=null)}var d=0!==(1&zs.current),h=i;do{var f;if(f=13===h.tag){var m=h.memoizedState;if(null!==m)f=null!==m.dehydrated;else{var p=h.memoizedProps;f=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!d)}}if(f){var g=h.updateQueue;if(null===g){var v=new Set;v.add(c),h.updateQueue=v}else g.add(c);if(0===(2&h.mode)){if(h.flags|=64,o.flags|=16384,o.flags&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var x=us(-1,1);x.tag=2,ds(o,x)}o.lanes|=1;break e}l=void 0,o=t;var b=s.pingCache;if(null===b?(b=s.pingCache=new ho,l=new Set,b.set(c,l)):void 0===(l=b.get(c))&&(l=new Set,b.set(c,l)),!l.has(o)){l.add(o);var y=Bl.bind(null,s,c,o);c.then(y,y)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);l=Error((G(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Do&&(Do=2),l=co(l,o),h=i;do{switch(h.tag){case 3:s=l,h.flags|=4096,t&=-t,h.lanes|=t,hs(h,fo(0,s,t));break e;case 1:s=l;var w=h.type,j=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==j&&"function"===typeof j.componentDidCatch&&(null===Zo||!Zo.has(j)))){h.flags|=4096,t&=-t,h.lanes|=t,hs(h,mo(h,s,t));break e}}h=h.return}while(null!==h)}Ol(r)}catch(N){t=N,Io===r&&null!==r&&(Io=r=r.return);continue}break}}function Cl(){var e=Ro.current;return Ro.current=Ri,null===e?Ri:e}function El(e,t){var r=Ao;Ao|=16;var n=Cl();for(Lo===e&&Mo===t||_l(e,t);;)try{Pl();break}catch(a){Sl(e,a)}if(rs(),Ao=r,Ro.current=n,null!==Io)throw Error(i(261));return Lo=null,Mo=0,Do}function Pl(){for(;null!==Io;)Rl(Io)}function Tl(){for(;null!==Io&&!Ea();)Rl(Io)}function Rl(e){var t=$o(e.alternate,e,zo);e.memoizedProps=e.pendingProps,null===t?Ol(e):Io=t,Oo.current=null}function Ol(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(r=oo(r,t,zo)))return void(Io=r);if(24!==(r=t).tag&&23!==r.tag||null===r.memoizedState||0!==(1073741824&zo)||0===(4&r.mode)){for(var n=0,a=r.child;null!==a;)n|=a.lanes|a.childLanes,a=a.sibling;r.childLanes=n}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(r=lo(t)))return r.flags&=2047,void(Io=r);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Io=t);Io=t=e}while(null!==t);0===Do&&(Do=5)}function Al(e){var t=Wa();return Ha(99,Ll.bind(null,e,t)),null}function Ll(e,t){do{Ml()}while(null!==tl);if(0!==(48&Ao))throw Error(i(327));var r=e.finishedWork;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null;var n=r.lanes|r.childLanes,a=n,s=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;for(var o=e.eventTimes,l=e.expirationTimes;0<s;){var c=31-Wt(s),u=1<<c;a[c]=0,o[c]=-1,l[c]=-1,s&=~u}if(null!==sl&&0===(24&n)&&sl.has(e)&&sl.delete(e),e===Lo&&(Io=Lo=null,Mo=0),1<r.flags?null!==r.lastEffect?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,null!==n){if(a=Ao,Ao|=32,Oo.current=null,qn=$t,vn(o=gn())){if("selectionStart"in o)l={start:o.selectionStart,end:o.selectionEnd};else e:if(l=(l=o.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,s=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(S){l=null;break e}var d=0,h=-1,f=-1,m=0,p=0,g=o,v=null;t:for(;;){for(var x;g!==l||0!==s&&3!==g.nodeType||(h=d+s),g!==c||0!==u&&3!==g.nodeType||(f=d+u),3===g.nodeType&&(d+=g.nodeValue.length),null!==(x=g.firstChild);)v=g,g=x;for(;;){if(g===o)break t;if(v===l&&++m===s&&(h=d),v===c&&++p===u&&(f=d),null!==(x=g.nextSibling))break;v=(g=v).parentNode}g=x}l=-1===h||-1===f?null:{start:h,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;Bn={focusedElem:o,selectionRange:l},$t=!1,dl=null,hl=!1,Jo=n;do{try{Il()}catch(S){if(null===Jo)throw Error(i(330));ql(Jo,S),Jo=Jo.nextEffect}}while(null!==Jo);dl=null,Jo=n;do{try{for(o=e;null!==Jo;){var b=Jo.flags;if(16&b&&xe(Jo.stateNode,""),128&b){var y=Jo.alternate;if(null!==y){var w=y.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:No(Jo),Jo.flags&=-3;break;case 6:No(Jo),Jo.flags&=-3,Co(Jo.alternate,Jo);break;case 1024:Jo.flags&=-1025;break;case 1028:Jo.flags&=-1025,Co(Jo.alternate,Jo);break;case 4:Co(Jo.alternate,Jo);break;case 8:So(o,l=Jo);var j=l.alternate;wo(l),null!==j&&wo(j)}Jo=Jo.nextEffect}}catch(S){if(null===Jo)throw Error(i(330));ql(Jo,S),Jo=Jo.nextEffect}}while(null!==Jo);if(w=Bn,y=gn(),b=w.focusedElem,o=w.selectionRange,y!==b&&b&&b.ownerDocument&&pn(b.ownerDocument.documentElement,b)){null!==o&&vn(b)&&(y=o.start,void 0===(w=o.end)&&(w=y),"selectionStart"in b?(b.selectionStart=y,b.selectionEnd=Math.min(w,b.value.length)):(w=(y=b.ownerDocument||document)&&y.defaultView||window).getSelection&&(w=w.getSelection(),l=b.textContent.length,j=Math.min(o.start,l),o=void 0===o.end?j:Math.min(o.end,l),!w.extend&&j>o&&(l=o,o=j,j=l),l=mn(b,j),s=mn(b,o),l&&s&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==s.node||w.focusOffset!==s.offset)&&((y=y.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),j>o?(w.addRange(y),w.extend(s.node,s.offset)):(y.setEnd(s.node,s.offset),w.addRange(y))))),y=[];for(w=b;w=w.parentNode;)1===w.nodeType&&y.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<y.length;b++)(w=y[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!qn,Bn=qn=null,e.current=r,Jo=n;do{try{for(b=e;null!==Jo;){var N=Jo.flags;if(36&N&&xo(b,Jo.alternate,Jo),128&N){y=void 0;var k=Jo.ref;if(null!==k){var _=Jo.stateNode;Jo.tag,y=_,"function"===typeof k?k(y):k.current=y}}Jo=Jo.nextEffect}}catch(S){if(null===Jo)throw Error(i(330));ql(Jo,S),Jo=Jo.nextEffect}}while(null!==Jo);Jo=null,Ua(),Ao=a}else e.current=r;if(el)el=!1,tl=e,rl=t;else for(Jo=n;null!==Jo;)t=Jo.nextEffect,Jo.nextEffect=null,8&Jo.flags&&((N=Jo).sibling=null,N.stateNode=null),Jo=t;if(0===(n=e.pendingLanes)&&(Zo=null),1===n?e===ol?il++:(il=0,ol=e):il=0,r=r.stateNode,ka&&"function"===typeof ka.onCommitFiberRoot)try{ka.onCommitFiberRoot(Na,r,void 0,64===(64&r.current.flags))}catch(S){}if(vl(e,Qa()),Yo)throw Yo=!1,e=Xo,Xo=null,e;return 0!==(8&Ao)||Ka(),null}function Il(){for(;null!==Jo;){var e=Jo.alternate;hl||null===dl||(0!==(8&Jo.flags)?et(Jo,dl)&&(hl=!0):13===Jo.tag&&Po(e,Jo)&&et(Jo,dl)&&(hl=!0));var t=Jo.flags;0!==(256&t)&&vo(e,Jo),0===(512&t)||el||(el=!0,Ga(97,function(){return Ml(),null})),Jo=Jo.nextEffect}}function Ml(){if(90!==rl){var e=97<rl?97:rl;return rl=90,Ha(e,Dl)}return!1}function zl(e,t){nl.push(t,e),el||(el=!0,Ga(97,function(){return Ml(),null}))}function Ul(e,t){al.push(t,e),el||(el=!0,Ga(97,function(){return Ml(),null}))}function Dl(){if(null===tl)return!1;var e=tl;if(tl=null,0!==(48&Ao))throw Error(i(331));var t=Ao;Ao|=32;var r=al;al=[];for(var n=0;n<r.length;n+=2){var a=r[n],s=r[n+1],o=a.destroy;if(a.destroy=void 0,"function"===typeof o)try{o()}catch(c){if(null===s)throw Error(i(330));ql(s,c)}}for(r=nl,nl=[],n=0;n<r.length;n+=2){a=r[n],s=r[n+1];try{var l=a.create;a.destroy=l()}catch(c){if(null===s)throw Error(i(330));ql(s,c)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Ao=t,Ka(),!0}function Fl(e,t,r){ds(e,t=fo(0,t=co(r,t),1)),t=fl(),null!==(e=gl(e,1))&&(Qt(e,1,t),vl(e,t))}function ql(e,t){if(3===e.tag)Fl(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){Fl(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Zo||!Zo.has(n))){var a=mo(r,e=co(t,e),1);if(ds(r,a),a=fl(),null!==(r=gl(r,1)))Qt(r,1,a),vl(r,a);else if("function"===typeof n.componentDidCatch&&(null===Zo||!Zo.has(n)))try{n.componentDidCatch(t,e)}catch(s){}break}}r=r.return}}function Bl(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=fl(),e.pingedLanes|=e.suspendedLanes&r,Lo===e&&(Mo&r)===r&&(4===Do||3===Do&&(62914560&Mo)===Mo&&500>Qa()-Ho?_l(e,0):Wo|=r),vl(e,t)}function Ql(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wa()?1:2:(0===cl&&(cl=qo),0===(t=qt(62914560&~cl))&&(t=4194304))),r=fl(),null!==(e=gl(e,t))&&(Qt(e,t,r),vl(e,r))}function Wl(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Vl(e,t,r,n){return new Wl(e,t,r,n)}function Hl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gl(e,t){var r=e.alternate;return null===r?((r=Vl(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Kl(e,t,r,n,a,s){var o=2;if(n=e,"function"===typeof e)Hl(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return $l(r.children,a,s,t);case M:o=8,a|=16;break;case _:o=8,a|=1;break;case S:return(e=Vl(12,r,t,8|a)).elementType=S,e.type=S,e.lanes=s,e;case T:return(e=Vl(13,r,t,a)).type=T,e.elementType=T,e.lanes=s,e;case R:return(e=Vl(19,r,t,a)).elementType=R,e.lanes=s,e;case z:return Jl(r,a,s,t);case U:return(e=Vl(24,r,t,a)).elementType=U,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case E:o=9;break e;case P:o=11;break e;case O:o=14;break e;case A:o=16,n=null;break e;case L:o=22;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Vl(o,r,t,a)).elementType=e,t.type=n,t.lanes=s,t}function $l(e,t,r,n){return(e=Vl(7,e,n,t)).lanes=r,e}function Jl(e,t,r,n){return(e=Vl(23,e,n,t)).elementType=z,e.lanes=r,e}function Yl(e,t,r){return(e=Vl(6,e,null,t)).lanes=r,e}function Xl(e,t,r){return(t=Vl(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zl(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function ec(e,t,r,n){var a=t.current,s=fl(),o=ml(a);e:if(r){t:{if(Je(r=r._reactInternals)!==r||1!==r.tag)throw Error(i(170));var l=r;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(va(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(i(171))}if(1===r.tag){var c=r.type;if(va(c)){r=ya(r,c,l);break e}}r=l}else r=ha;return null===t.context?t.context=r:t.pendingContext=r,(t=us(s,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),ds(a,t),pl(a,o,s),o}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function rc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function nc(e,t){rc(e,t),(e=e.alternate)&&rc(e,t)}function ac(e,t,r){var n=null!=r&&null!=r.hydrationOptions&&r.hydrationOptions.mutableSources||null;if(r=new Zl(e,t,null!=r&&!0===r.hydrate),t=Vl(3,null,null,2===t?7:1===t?3:0),r.current=t,t.stateNode=r,ls(t),e[ea]=r.current,On(8===e.nodeType?e.parentNode:e),n)for(e=0;e<n.length;e++){var a=(t=n[e])._getVersion;a=a(t._source),null==r.mutableSourceEagerHydrationData?r.mutableSourceEagerHydrationData=[t,a]:r.mutableSourceEagerHydrationData.push(t,a)}this._internalRoot=r}function sc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ic(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s._internalRoot;if("function"===typeof a){var o=a;a=function(){var e=tc(i);o.call(e)}}ec(t,i,e,a)}else{if(s=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new ac(e,0,t?{hydrate:!0}:void 0)}(r,n),i=s._internalRoot,"function"===typeof a){var l=a;a=function(){var e=tc(i);l.call(e)}}jl(function(){ec(t,i,e,a)})}return tc(i)}function oc(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!sc(t))throw Error(i(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)}$o=function(e,t,r){var n=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ma.current)Mi=!0;else{if(0===(r&n)){switch(Mi=!1,t.tag){case 3:Hi(t),Gs();break;case 5:Is(t);break;case 1:va(t.type)&&wa(t);break;case 4:As(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var a=t.type._context;da(Xa,a._currentValue),a._currentValue=n;break;case 13:if(null!==t.memoizedState)return 0!==(r&t.child.childLanes)?Xi(e,t,r):(da(zs,1&zs.current),null!==(t=so(e,t,r))?t.sibling:null);da(zs,1&zs.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(64&e.flags)){if(n)return ao(e,t,r);t.flags|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),da(zs,zs.current),n)break;return null;case 23:case 24:return t.lanes=0,qi(e,t,r)}return so(e,t,r)}Mi=0!==(16384&e.flags)}else Mi=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=ga(t,fa.current),ss(t,r),a=ii(null,t,n,e,a,r),t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,va(n)){var s=!0;wa(t)}else s=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,ls(t);var o=n.getDerivedStateFromProps;"function"===typeof o&&gs(t,n,o,e),a.updater=vs,t.stateNode=a,a._reactInternals=t,ws(t,n,e,r),t=Vi(null,t,n,!0,s,r)}else t.tag=0,zi(null,t,a,r),t=t.child;return t;case 16:a=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=(s=a._init)(a._payload),t.type=a,s=t.tag=function(e){if("function"===typeof e)return Hl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===O)return 14}return 2}(a),e=Ya(a,e),s){case 0:t=Qi(null,t,a,e,r);break e;case 1:t=Wi(null,t,a,e,r);break e;case 11:t=Ui(null,t,a,e,r);break e;case 14:t=Di(null,t,a,Ya(a.type,e),n,r);break e}throw Error(i(306,a,""))}return t;case 0:return n=t.type,a=t.pendingProps,Qi(e,t,n,a=t.elementType===n?a:Ya(n,a),r);case 1:return n=t.type,a=t.pendingProps,Wi(e,t,n,a=t.elementType===n?a:Ya(n,a),r);case 3:if(Hi(t),n=t.updateQueue,null===e||null===n)throw Error(i(282));if(n=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,cs(e,t),fs(t,n,null,r),(n=t.memoizedState.element)===a)Gs(),t=so(e,t,r);else{if((s=(a=t.stateNode).hydrate)&&(Fs=Kn(t.stateNode.containerInfo.firstChild),Ds=t,s=qs=!0),s){if(null!=(e=a.mutableSourceEagerHydrationData))for(a=0;a<e.length;a+=2)(s=e[a])._workInProgressVersionPrimary=e[a+1],Ks.push(s);for(r=Cs(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|1024,r=r.sibling}else zi(e,t,n,r),Gs();t=t.child}return t;case 5:return Is(t),null===e&&Ws(t),n=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,o=a.children,Wn(n,a)?o=null:null!==s&&Wn(n,s)&&(t.flags|=16),Bi(e,t),zi(e,t,o,r),t.child;case 6:return null===e&&Ws(t),null;case 13:return Xi(e,t,r);case 4:return As(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Ss(t,null,n,r):zi(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,Ui(e,t,n,a=t.elementType===n?a:Ya(n,a),r);case 7:return zi(e,t,t.pendingProps,r),t.child;case 8:case 12:return zi(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value;var l=t.type._context;if(da(Xa,l._currentValue),l._currentValue=s,null!==o)if(l=o.value,0===(s=un(l,s)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(l,s):1073741823))){if(o.children===a.children&&!ma.current){t=so(e,t,r);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){o=l.child;for(var u=c.firstContext;null!==u;){if(u.context===n&&0!==(u.observedBits&s)){1===l.tag&&((u=us(-1,r&-r)).tag=2,ds(l,u)),l.lanes|=r,null!==(u=l.alternate)&&(u.lanes|=r),as(l.return,r),c.lanes|=r;break}u=u.next}}else o=10===l.tag&&l.type===t.type?null:l.child;if(null!==o)o.return=l;else for(o=l;null!==o;){if(o===t){o=null;break}if(null!==(l=o.sibling)){l.return=o.return,o=l;break}o=o.return}l=o}zi(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=(s=t.pendingProps).children,ss(t,r),n=n(a=is(a,s.unstable_observedBits)),t.flags|=1,zi(e,t,n,r),t.child;case 14:return s=Ya(a=t.type,t.pendingProps),Di(e,t,a,s=Ya(a.type,s),n,r);case 15:return Fi(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ya(n,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,va(n)?(e=!0,wa(t)):e=!1,ss(t,r),bs(t,n,a),ws(t,n,a,r),Vi(null,t,n,!0,e,r);case 19:return ao(e,t,r);case 23:case 24:return qi(e,t,r)}throw Error(i(156,t.tag))},ac.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ac.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,function(){t[ea]=null})},tt=function(e){13===e.tag&&(pl(e,4,fl()),nc(e,4))},rt=function(e){13===e.tag&&(pl(e,67108864,fl()),nc(e,67108864))},nt=function(e){if(13===e.tag){var t=fl(),r=ml(e);pl(e,r,t),nc(e,r)}},at=function(e,t){return t()},Ce=function(e,t,r){switch(t){case"input":if(re(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=sa(n);if(!a)throw Error(i(90));Y(n),re(n,a)}}}break;case"textarea":ce(e,r);break;case"select":null!=(t=r.value)&&ie(e,!!r.multiple,t,!1)}},Ae=wl,Le=function(e,t,r,n,a){var s=Ao;Ao|=4;try{return Ha(98,e.bind(null,t,r,n,a))}finally{0===(Ao=s)&&(Ko(),Ka())}},Ie=function(){0===(49&Ao)&&(function(){if(null!==sl){var e=sl;sl=null,e.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,vl(e,Qa())})}Ka()}(),Ml())},Me=function(e,t){var r=Ao;Ao|=2;try{return e(t)}finally{0===(Ao=r)&&(Ko(),Ka())}};var lc={Events:[na,aa,sa,Re,Oe,Ml,{current:!1}]},cc={findFiberByHostInstance:ra,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},uc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{Na=dc.inject(uc),ka=dc}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lc,t.createPortal=oc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw Error(i(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var r=Ao;if(0!==(48&r))return e(t);Ao|=1;try{if(e)return Ha(99,e.bind(null,t))}finally{Ao=r,Ka()}},t.hydrate=function(e,t,r){if(!sc(t))throw Error(i(200));return ic(null,e,t,!0,r)},t.render=function(e,t,r){if(!sc(t))throw Error(i(200));return ic(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!sc(e))throw Error(i(40));return!!e._reactRootContainer&&(jl(function(){ic(null,null,e,!1,function(){e._reactRootContainer=null,e[ea]=null})}),!0)},t.unstable_batchedUpdates=wl,t.unstable_createPortal=function(e,t){return oc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!sc(r))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return ic(e,t,r,!1,n)},t.version="17.0.2"},736:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(374));class s extends a.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const r=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(r,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:r,type:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===n?a="pl":"phrase"===n?a="ph":"websearch"===n&&(a="w");const s=void 0===r?"":"(".concat(r,")");return this.url.searchParams.append(e,"".concat(a,"fts").concat(s,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,r]=e;this.url.searchParams.append(t,"eq.".concat(r))}),this}not(e,t,r){return this.url.searchParams.append(e,"not.".concat(t,".").concat(r)),this}or(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r?"".concat(r,".or"):"or";return this.url.searchParams.append(n,"(".concat(e,")")),this}filter(e,t,r){return this.url.searchParams.append(e,"".concat(t,".").concat(r)),this}}t.default=s},745:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const n=r(400);t.DEFAULT_HEADERS={"X-Client-Info":"postgrest-js/".concat(n.version)}},819:(e,t,r)=>{"use strict";r.d(t,{QueryClient:()=>n.E});var n=r(646),a=r(298);r.o(a,"QueryClientProvider")&&r.d(t,{QueryClientProvider:function(){return a.QueryClientProvider}}),r.o(a,"useMutation")&&r.d(t,{useMutation:function(){return a.useMutation}}),r.o(a,"useQuery")&&r.d(t,{useQuery:function(){return a.useQuery}}),r.o(a,"useQueryClient")&&r.d(t,{useQueryClient:function(){return a.useQueryClient}})},829:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(736));t.default=class{constructor(e,t){let{headers:r={},schema:n,fetch:a}=t;this.url=e,this.headers=r,this.schema=n,this.fetch=a}select(e){let{head:t=!1,count:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t?"HEAD":"GET";let s=!1;const i=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer="count=".concat(r)),new a.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push("count=".concat(t)),r||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=["resolution=".concat(r?"ignore":"merge","-duplicates")];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push("count=".concat(n)),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push("count=".concat(t)),this.headers.Prefer=r.join(","),new a.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push("count=".concat(e)),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new a.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},853:(e,t,r)=>{"use strict";e.exports=r(234)},870:(e,t,r)=>{"use strict";r.d(t,{BH:()=>b,Cp:()=>v,F$:()=>p,G6:()=>_,GR:()=>d,HN:()=>l,MK:()=>f,Od:()=>g,S$:()=>a,Zw:()=>i,b_:()=>h,f8:()=>y,gn:()=>o,j3:()=>c,jY:()=>S,lQ:()=>s,nJ:()=>m,vh:()=>u,yy:()=>k});var n=r(168),a="undefined"===typeof window;function s(){}function i(e,t){return"function"===typeof e?e(t):e}function o(e){return"number"===typeof e&&e>=0&&e!==1/0}function l(e){return Array.isArray(e)?e:[e]}function c(e,t){return Math.max(e+(t||0)-Date.now(),0)}function u(e,t,r){return N(e)?"function"===typeof t?(0,n.A)({},r,{queryKey:e,queryFn:t}):(0,n.A)({},t,{queryKey:e}):e}function d(e,t,r){return N(e)?"function"===typeof t?(0,n.A)({},r,{mutationKey:e,mutationFn:t}):(0,n.A)({},t,{mutationKey:e}):"function"===typeof e?(0,n.A)({},t,{mutationFn:e}):(0,n.A)({},e)}function h(e,t,r){return N(e)?[(0,n.A)({},t,{queryKey:e}),r]:[e||{},t]}function f(e,t){var r=e.active,n=e.exact,a=e.fetching,s=e.inactive,i=e.predicate,o=e.queryKey,l=e.stale;if(N(o))if(n){if(t.queryHash!==p(o,t.options))return!1}else if(!v(t.queryKey,o))return!1;var c=function(e,t){return!0===e&&!0===t||null==e&&null==t?"all":!1===e&&!1===t?"none":(null!=e?e:!t)?"active":"inactive"}(r,s);if("none"===c)return!1;if("all"!==c){var u=t.isActive();if("active"===c&&!u)return!1;if("inactive"===c&&u)return!1}return("boolean"!==typeof l||t.isStale()===l)&&(("boolean"!==typeof a||t.isFetching()===a)&&!(i&&!i(t)))}function m(e,t){var r=e.exact,n=e.fetching,a=e.predicate,s=e.mutationKey;if(N(s)){if(!t.options.mutationKey)return!1;if(r){if(g(t.options.mutationKey)!==g(s))return!1}else if(!v(t.options.mutationKey,s))return!1}return("boolean"!==typeof n||"loading"===t.state.status===n)&&!(a&&!a(t))}function p(e,t){return((null==t?void 0:t.queryKeyHashFn)||g)(e)}function g(e){var t,r=l(e);return t=r,JSON.stringify(t,function(e,t){return w(t)?Object.keys(t).sort().reduce(function(e,r){return e[r]=t[r],e},{}):t})}function v(e,t){return x(l(e),l(t))}function x(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&!Object.keys(t).some(function(r){return!x(e[r],t[r])}))}function b(e,t){if(e===t)return e;var r=Array.isArray(e)&&Array.isArray(t);if(r||w(e)&&w(t)){for(var n=r?e.length:Object.keys(e).length,a=r?t:Object.keys(t),s=a.length,i=r?[]:{},o=0,l=0;l<s;l++){var c=r?l:a[l];i[c]=b(e[c],t[c]),i[c]===e[c]&&o++}return n===s&&o===n?e:i}return t}function y(e,t){if(e&&!t||t&&!e)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}function w(e){if(!j(e))return!1;var t=e.constructor;if("undefined"===typeof t)return!0;var r=t.prototype;return!!j(r)&&!!r.hasOwnProperty("isPrototypeOf")}function j(e){return"[object Object]"===Object.prototype.toString.call(e)}function N(e){return"string"===typeof e||Array.isArray(e)}function k(e){return new Promise(function(t){setTimeout(t,e)})}function _(e){Promise.resolve().then(e).catch(function(e){return setTimeout(function(){throw e})})}function S(){if("function"===typeof AbortController)return new AbortController}},900:(e,t,r)=>{"use strict";r.d(t,{getSupabaseClient:()=>tr,z:()=>rr});class n extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",r=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=r}}class a extends n{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class s extends n{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class i extends n{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var o;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(o||(o={}));var l=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function o(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};class c{constructor(e){let{headers:t={},customFetch:n,region:a=o.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=a,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,630)).then(e=>{let{default:r}=e;return r(...t)})}:fetch),function(){return t(...arguments)}})(n)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;return l(this,void 0,void 0,function*(){try{const{headers:n,method:o,body:l}=t;let c={},{region:u}=t;u||(u=this.region);const d=new URL("".concat(this.url,"/").concat(e));let h;u&&"any"!==u&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u)),l&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&("undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=l):"string"===typeof l?(c["Content-Type"]="text/plain",h=l):"undefined"!==typeof FormData&&l instanceof FormData?h=l:(c["Content-Type"]="application/json",h=JSON.stringify(l)));const f=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),n),body:h}).catch(e=>{throw new a(e)}),m=f.headers.get("x-relay-error");if(m&&"true"===m)throw new s(f);if(!f.ok)throw new i(f);let p,g=(null!==(r=f.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return p="application/json"===g?yield f.json():"application/octet-stream"===g?yield f.blob():"text/event-stream"===g?f:"multipart/form-data"===g?yield f.formData():yield f.text(),{data:p,error:null,response:f}}catch(n){return{data:null,error:n,response:n instanceof i||n instanceof s?n.context:void 0}}})}}var u=r(980);const{PostgrestClient:d,PostgrestQueryBuilder:h,PostgrestFilterBuilder:f,PostgrestTransformBuilder:m,PostgrestBuilder:p,PostgrestError:g}=u;const v=class{static dynamicRequire(e){try{return"undefined"!==typeof process&&process.versions&&process.versions.node?r(986)(e):null}catch(t){return null}}static detectEnvironment(){var e,t;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof r.g&&"undefined"!==typeof r.g.WebSocket)return{type:"native",constructor:r.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process&&process.versions&&process.versions.node){const e=parseInt(process.versions.node.split(".")[0]);if(e>=22)try{if("undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};const e=this.dynamicRequire("undici");if(e&&e.WebSocket)return{type:"native",constructor:e.WebSocket};throw new Error("undici not available")}catch(n){return{type:"unsupported",error:"Node.js ".concat(e," detected but native WebSocket not found."),workaround:'Install the "ws" package or check your Node.js installation.'}}try{const e=this.dynamicRequire("ws");if(e)return{type:"ws",constructor:null!==(t=e.WebSocket)&&void 0!==t?t:e};throw new Error("ws package not available")}catch(n){return{type:"unsupported",error:"Node.js ".concat(e," detected without WebSocket support."),workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},x="realtime-js/".concat("2.15.0"),b=1e4;var y,w,j,N,k,_;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(y||(y={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(w||(w={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(j||(j={})),function(e){e.websocket="websocket"}(N||(N={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(k||(k={}));class S{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const n=t.getUint8(1),a=t.getUint8(2);let s=this.HEADER_LENGTH+2;const i=r.decode(e.slice(s,s+n));s+=n;const o=r.decode(e.slice(s,s+a));s+=a;return{ref:null,topic:i,event:o,payload:JSON.parse(r.decode(e.slice(s,e.byteLength)))}}}class C{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(_||(_={}));const E=function(e,t){var r;const n=null!==(r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce((r,a)=>(r[a]=P(a,e,t,n),r),{})},P=(e,t,r,n)=>{const a=t.find(t=>t.name===e),s=null===a||void 0===a?void 0:a.type,i=r[e];return s&&!n.includes(s)?T(s,i):R(i)},T=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return I(t,r)}switch(e){case _.bool:return O(t);case _.float4:case _.float8:case _.int2:case _.int4:case _.int8:case _.numeric:case _.oid:return A(t);case _.json:case _.jsonb:return L(t);case _.timestamp:return M(t);case _.abstime:case _.date:case _.daterange:case _.int4range:case _.int8range:case _.money:case _.reltime:case _.text:case _.time:case _.timestamptz:case _.timetz:case _.tsrange:case _.tstzrange:default:return R(t)}},R=e=>e,O=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},A=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},L=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},I=(e,t)=>{if("string"!==typeof e)return e;const r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n;const s=e.slice(1,r);try{n=JSON.parse("["+s+"]")}catch(a){n=s?s.split(","):[]}return n.map(e=>T(t,e))}return e},M=e=>"string"===typeof e?e.replace(" ","T"):e,z=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class U{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b;this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:r}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var D,F,q,B;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(D||(D={}));class Q{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Q.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=Q.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],n()}),this.channel._on(r.diff,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Q.syncDiff(this.state,e,t,r),n())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){const a=this.cloneDeep(e),s=this.transformState(t),i={},o={};return this.map(a,(e,t)=>{s[e]||(o[e]=t)}),this.map(s,(e,t)=>{const r=a[e];if(r){const n=t.map(e=>e.presence_ref),a=r.map(e=>e.presence_ref),s=t.filter(e=>a.indexOf(e.presence_ref)<0),l=r.filter(e=>n.indexOf(e.presence_ref)<0);s.length>0&&(i[e]=s),l.length>0&&(o[e]=l)}else i[e]=t}),this.syncDiff(a,{joins:i,leaves:o},r,n)}static syncDiff(e,t,r,n){const{joins:a,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(a,(t,n)=>{var a;const s=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(n),s.length>0){const r=e[t].map(e=>e.presence_ref),n=s.filter(e=>r.indexOf(e.presence_ref)<0);e[t].unshift(...n)}r(t,s,n)}),this.map(s,(t,r)=>{let a=e[t];if(!a)return;const s=r.map(e=>e.presence_ref);a=a.filter(e=>s.indexOf(e.presence_ref)<0),e[t]=a,n(t,a,r),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const n=e[r];return t[r]="metas"in n?n.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(F||(F={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(q||(q={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(B||(B={}));class W{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},r=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=w.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new U(this,j.join,this.params,this.timeout),this.rejoinTimer=new C(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=w.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=w.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=w.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=w.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=w.errored,this.rejoinTimer.scheduleTimeout())}),this._on(j.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new Q(this),this.broadcastEndpointURL=z(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var r,n;if(this.socket.isConnected()||this.socket.connect(),this.state==w.closed){const{config:{broadcast:a,presence:s,private:i}}=this.params,o=null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==n?n:[],l=!!this.bindings[q.PRESENCE]&&this.bindings[q.PRESENCE].length>0,c={},u={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:l}),postgres_changes:o,private:i};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(B.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(B.CLOSED)),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:r}=t;var n;if(this.socket.setAuth(),void 0!==r){const t=this.bindings.postgres_changes,a=null!==(n=null===t||void 0===t?void 0:t.length)&&void 0!==n?n:0,s=[];for(let n=0;n<a;n++){const a=t[n],{filter:{event:i,schema:o,table:l,filter:c}}=a,u=r&&r[n];if(!u||u.event!==i||u.schema!==o||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=w.errored,void(null===e||void 0===e||e(B.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=s,void(e&&e(B.SUBSCRIBED))}null===e||void 0===e||e(B.SUBSCRIBED)}).receive("error",t=>{this.state=w.errored,null===e||void 0===e||e(B.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(B.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===w.joined&&e===q.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var n,a,s;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(a=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===a?void 0:a.broadcast)||void 0===s?void 0:s.ack)||r("ok"),i.receive("ok",()=>r("ok")),i.receive("error",()=>r("error")),i.receive("timeout",()=>r("timed out"))});{const{event:s,payload:i}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(n=e.body)||void 0===n?void 0:n.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=w.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(j.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new U(this,j.leave,{},e),r.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null===r||void 0===r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=w.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const n=new AbortController,a=setTimeout(()=>n.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(a),s}_push(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let n=new U(this,e,t,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,a;const s=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=j;if(r&&[i,o,l,c].indexOf(s)>=0&&r!==this._joinRef())return;let u=this._onMessage(s,t,r);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter(e=>{var t,r,n;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===s}).map(e=>e.callback(u,r)):null===(a=this.bindings[s])||void 0===a||a.filter(e=>{var r,n,a,i,o,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,i=null===(r=e.filter)||void 0===r?void 0:r.event;return s&&(null===(n=t.ids)||void 0===n?void 0:n.includes(s))&&("*"===i||(null===i||void 0===i?void 0:i.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const r=null===(o=null===(i=null===e||void 0===e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===r||r===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:r,commit_timestamp:n,type:a,errors:s}=e,i={schema:t,table:r,commit_timestamp:n,eventType:a,new:{},old:{},errors:s};u=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(u,r)})}_isClosed(){return this.state===w.closed}_isJoined(){return this.state===w.joined}_isJoining(){return this.state===w.joining}_isLeaving(){return this.state===w.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,r){const n=e.toLocaleLowerCase(),a={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(a):this.bindings[n]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(e=>{var n;return!((null===(n=e.type)||void 0===n?void 0:n.toLocaleLowerCase())===r&&W.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(j.close,{},e)}_onError(e){this._on(j.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=w.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=E(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=E(e.columns,e.old_record)),t}}const V=()=>{},H=25e3,G=10,K=100,$=[1e3,2e3,5e3,1e4];class J{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=b,this.transport=null,this.heartbeatIntervalMs=H,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=V,this.ref=0,this.reconnectTimer=null,this.logger=V,this.conn=null,this.sendBuffer=[],this.serializer=new S,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,630)).then(e=>{let{default:r}=e;return r(...t)}).catch(e=>{throw new Error("Failed to load @supabase/node-fetch: ".concat(e.message,". ")+"This is required for HTTP requests in Node.js environments without native fetch.")})}:fetch),function(){return t(...arguments)}},!(null===(n=null===t||void 0===t?void 0:t.params)||void 0===n?void 0:n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(N.websocket),this.httpEndpoint=z(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=v.createWebSocket(this.endpointURL())}catch(e){throw this._setConnectionState("disconnected"),new Error("WebSocket not available: ".concat(e.message))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case y.connecting:return k.Connecting;case y.open:return k.Open;case y.closing:return k.Closing;default:return k.Closed}}isConnected(){return this.connectionState()===k.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const r="realtime:".concat(e),n=this.getChannels().find(e=>e.topic===r);if(n)return n;{const r=new W("realtime:".concat(e),t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:r,payload:n,ref:a}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(r," (").concat(a,")"),n),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},K);this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{"phoenix"===e.topic&&"phx_reply"===e.event&&this.heartbeatCallback("ok"===e.payload.status?"ok":"error"),e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:r,payload:n,ref:a}=e,s=a?"(".concat(a,")"):"",i=n.status||"";this.log("receive","".concat(i," ").concat(t," ").concat(r," ").concat(s).trim(),n),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,n,a)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(j.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return"".concat(e).concat(r).concat(n)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const r={access_token:e,version:x};e&&t.updateJoinPayload(r),t.joinedOnce&&t._isJoined()&&t._push(j.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error","error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(n){this.log("error","error in ".concat(e," callback"),n)}})}catch(r){this.log("error","error triggering ".concat(e," callbacks"),r)}}_setupReconnectionTimer(){this.reconnectTimer=new C(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},G)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,n,a,s,i,o,l;if(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(r=null===e||void 0===e?void 0:e.timeout)&&void 0!==r?r:b,this.heartbeatIntervalMs=null!==(n=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==n?n:H,this.worker=null!==(a=null===e||void 0===e?void 0:e.worker)&&void 0!==a&&a,this.accessToken=null!==(s=null===e||void 0===e?void 0:e.accessToken)&&void 0!==s?s:null,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(i=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==i?i:e=>$[e-1]||1e4,this.encode=null!==(o=null===e||void 0===e?void 0:e.encode)&&void 0!==o?o:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(l=null===e||void 0===e?void 0:e.decode)&&void 0!==l?l:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}class Y extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function X(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class Z extends Y{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ee extends Y{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var te=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function o(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};const re=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,630)).then(e=>{let{default:r}=e;return r(...t)})}:fetch),function(){return t(...arguments)}},ne=e=>{if(Array.isArray(e))return e.map(e=>ne(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[r,n]=e;const a=r.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=ne(n)}),t};var ae=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function o(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};const se=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ie=(e,t,n)=>ae(void 0,void 0,void 0,function*(){const a=yield te(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(r.bind(r,630))).Response:Response});e instanceof a&&!(null===n||void 0===n?void 0:n.noResolveJson)?e.json().then(r=>{const n=e.status||500,a=(null===r||void 0===r?void 0:r.statusCode)||n+"";t(new Z(se(r),n,a))}).catch(e=>{t(new ee(se(e),e))}):t(new ee(se(e),e))}),oe=(e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&n?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(n)?(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function le(e,t,r,n,a,s){return ae(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(r,oe(t,n,a,s)).then(e=>{if(!e.ok)throw e;return(null===n||void 0===n?void 0:n.noResolveJson)?e:e.json()}).then(e=>i(e)).catch(e=>ie(e,o,n))})})}function ce(e,t,r,n){return ae(this,void 0,void 0,function*(){return le(e,"GET",t,r,n)})}function ue(e,t,r,n,a){return ae(this,void 0,void 0,function*(){return le(e,"POST",t,n,a,r)})}function de(e,t,r,n,a){return ae(this,void 0,void 0,function*(){return le(e,"PUT",t,n,a,r)})}function he(e,t,r,n,a){return ae(this,void 0,void 0,function*(){return le(e,"DELETE",t,n,a,r)})}var fe=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function o(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};const me={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pe={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ge{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=r,this.fetch=re(n)}uploadOrUpdate(e,t,r,n){return fe(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},pe),n);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});const o=s.metadata;"undefined"!==typeof Blob&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(a=r,a.append("cacheControl",s.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=r,i["cache-control"]="max-age=".concat(s.cacheControl),i["content-type"]=s.contentType,o&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===n||void 0===n?void 0:n.headers)&&(i=Object.assign(Object.assign({},i),n.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?de:ue)(this.fetch,"".concat(this.url,"/object/").concat(c),a,Object.assign({headers:i},(null===s||void 0===s?void 0:s.duplex)?{duplex:s.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(a){if(X(a))return{data:null,error:a};throw a}})}upload(e,t,r){return fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,n){return fe(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),i=new URL(this.url+"/object/upload/sign/".concat(s));i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:pe.upsert},n),s=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,s["cache-control"]="max-age=".concat(t.cacheControl),s["content-type"]=t.contentType);return{data:{path:a,fullPath:(yield de(this.fetch,i.toString(),e,{headers:s})).Key},error:null}}catch(o){if(X(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,t){return fe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(n["x-upsert"]="true");const a=yield ue(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(r),{},{headers:n}),s=new URL(this.url+a.url),i=s.searchParams.get("token");if(!i)throw new Y("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:i},error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}})}update(e,t,r){return fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return fe(this,void 0,void 0,function*(){try{return{data:yield ue(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}})}copy(e,t,r){return fe(this,void 0,void 0,function*(){try{return{data:{path:(yield ue(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,r){return fe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),a=yield ue(this.fetch,"".concat(this.url,"/object/sign/").concat(n),Object.assign({expiresIn:t},(null===r||void 0===r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const s=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"";return a={signedUrl:encodeURI("".concat(this.url).concat(a.signedURL).concat(s))},{data:a,error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,r){return fe(this,void 0,void 0,function*(){try{const n=yield ue(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),a=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"";return{data:n.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(a)):null})),error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}})}download(e,t){return fe(this,void 0,void 0,function*(){const r="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=n?"?".concat(n):"";try{const t=this._getFinalPath(e),n=yield ce(this.fetch,"".concat(this.url,"/").concat(r,"/").concat(t).concat(a),{headers:this.headers,noResolveJson:!0});return{data:yield n.blob(),error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}})}info(e){return fe(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield ce(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:ne(e),error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}})}exists(e){return fe(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,r,n){return ae(this,void 0,void 0,function*(){return le(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(r){if(X(r)&&r instanceof ee){const e=r.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==a&&n.push(a);const s="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==i&&n.push(i);let o=n.join("&");return""!==o&&(o="?".concat(o)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(s,"/public/").concat(r).concat(o))}}}remove(e){return fe(this,void 0,void 0,function*(){try{return{data:yield he(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(X(t))return{data:null,error:t};throw t}})}list(e,t,r){return fe(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},me),t),{prefix:e||""});return{data:yield ue(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),n,{headers:this.headers},r),error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const ve={"X-Client-Info":"storage-js/".concat("2.10.4")};var xe=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function o(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};class be{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;const a=new URL(e);if(null===n||void 0===n?void 0:n.useNewHostname){/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."))}this.url=a.href,this.headers=Object.assign(Object.assign({},ve),t),this.fetch=re(r)}listBuckets(){return xe(this,void 0,void 0,function*(){try{return{data:yield ce(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(X(e))return{data:null,error:e};throw e}})}getBucket(e){return xe(this,void 0,void 0,function*(){try{return{data:yield ce(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(X(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return xe(this,void 0,void 0,function*(){try{return{data:yield ue(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return xe(this,void 0,void 0,function*(){try{return{data:yield de(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}})}emptyBucket(e){return xe(this,void 0,void 0,function*(){try{return{data:yield ue(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(X(t))return{data:null,error:t};throw t}})}deleteBucket(e){return xe(this,void 0,void 0,function*(){try{return{data:yield he(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(X(t))return{data:null,error:t};throw t}})}}class ye extends be{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new ge(this.url,this.headers,e,this.fetch)}}let we="";we="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const je={headers:{"X-Client-Info":"supabase-js-".concat(we,"/").concat("2.54.0")}},Ne={schema:"public"},ke={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_e={};var Se=r(630),Ce=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function o(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};const Ee=e=>{let t;return t=e||("undefined"===typeof fetch?Se.default:fetch),function(){return t(...arguments)}},Pe=(e,t,r)=>{const n=Ee(r),a="undefined"===typeof Headers?Se.Headers:Headers;return(r,s)=>Ce(void 0,void 0,void 0,function*(){var i;const o=null!==(i=yield t())&&void 0!==i?i:e;let l=new a(null===s||void 0===s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(o)),n(r,Object.assign(Object.assign({},s),{headers:l}))})};var Te=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function o(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};const Re="2.71.1",Oe=3e4,Ae=9e4,Le={"X-Client-Info":"gotrue-js/".concat(Re)},Ie="X-Supabase-Api-Version",Me={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},ze=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Ue extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function De(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class Fe extends Ue{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class qe extends Ue{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Be extends Ue{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class Qe extends Be{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class We extends Be{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ve extends Be{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class He extends Be{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ge extends Be{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ke extends Be{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function $e(e){return De(e)&&"AuthRetryableFetchError"===e.name}class Je extends Be{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Ye extends Be{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ze=" \t\n\r=".split(""),et=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ze.length;t+=1)e[Ze[t].charCodeAt(0)]=-2;for(let t=0;t<Xe.length;t+=1)e[Xe[t].charCodeAt(0)]=t;return e})();function tt(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(Xe[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(Xe[e]),t.queuedBits-=6}}function rt(e,t,r){const n=et[e];if(!(n>-1)){if(-2===n)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function nt(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(0===(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,n,r)};for(let i=0;i<e.length;i+=1)rt(e.charCodeAt(i),a,s);return t.join("")}function at(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function st(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const t=1024*(n-55296)&65535;n=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}at(n,t)}}function it(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)rt(e.charCodeAt(a),r,n);return new Uint8Array(t)}function ot(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};return e.forEach(e=>tt(e,r,n)),tt(null,r,n),t.join("")}const lt=()=>"undefined"!==typeof window&&"undefined"!==typeof document,ct={tested:!1,writable:!1},ut=()=>{if(!lt())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(ct.tested)return ct.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ct.tested=!0,ct.writable=!0}catch(t){ct.tested=!0,ct.writable=!1}return ct.writable};const dt=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,630)).then(e=>{let{default:r}=e;return r(...t)})}:fetch),function(){return t(...arguments)}},ht=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ft=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(n){return r}},mt=async(e,t)=>{await e.removeItem(t)};class pt{constructor(){this.promise=new pt.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function gt(e){const t=e.split(".");if(3!==t.length)throw new Ye("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!ze.test(t[r]))throw new Ye("JWT not in base64url format");return{header:JSON.parse(nt(t[0])),payload:JSON.parse(nt(t[1])),signature:it(t[2]),raw:{header:t[0],payload:t[1]}}}function vt(e){return("0"+e.toString(16)).substr(-2)}async function xt(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bt(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,vt).join("")}();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await ht(e,"".concat(t,"-code-verifier"),a);const s=await xt(n);return[s,n===s?"plain":"s256"]}pt.promiseConstructor=Promise;const yt=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const wt=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jt(e){if(!wt.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Nt(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function kt(e){return JSON.parse(JSON.stringify(e))}var _t=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};const St=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ct=[502,503,504];async function Et(e){var t,r;if(!("object"===typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"===typeof r.json))throw new Ke(St(e),0);if(Ct.includes(e.status))throw new Ke(St(e),e.status);let n,a;try{n=await e.json()}catch(i){throw new qe(St(i),i)}const s=function(e){const t=e.headers.get(Ie);if(!t)return null;if(!t.match(yt))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(i){return null}}(e);if(s&&s.getTime()>=Me.timestamp&&"object"===typeof n&&n&&"string"===typeof n.code?a=n.code:"object"===typeof n&&n&&"string"===typeof n.error_code&&(a=n.error_code),a){if("weak_password"===a)throw new Je(St(n),e.status,(null===(t=n.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new Qe}else if("object"===typeof n&&n&&"object"===typeof n.weak_password&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new Je(St(n),e.status,n.weak_password.reasons);throw new Fe(St(n),e.status||500,a)}async function Pt(e,t,r,n){var a;const s=Object.assign({},null===n||void 0===n?void 0:n.headers);s[Ie]||(s[Ie]=Me.name),(null===n||void 0===n?void 0:n.jwt)&&(s.Authorization="Bearer ".concat(n.jwt));const i=null!==(a=null===n||void 0===n?void 0:n.query)&&void 0!==a?a:{};(null===n||void 0===n?void 0:n.redirectTo)&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,r,n,a,s){const i=((e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))})(t,n,a,s);let o;try{o=await e(r,Object.assign({},i))}catch(l){throw console.error(l),new Ke(St(l),0)}o.ok||await Et(o);if(null===n||void 0===n?void 0:n.noResolveJson)return o;try{return await o.json()}catch(l){await Et(l)}}(e,t,r+o,{headers:s,noResolveJson:null===n||void 0===n?void 0:n.noResolveJson},{},null===n||void 0===n?void 0:n.body);return(null===n||void 0===n?void 0:n.xform)?null===n||void 0===n?void 0:n.xform(l):{data:Object.assign({},l),error:null}}function Tt(e){var t;let r=null;var n;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(n=e.expires_in,Math.round(Date.now()/1e3)+n)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Rt(e){const t=Tt(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Ot(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function At(e){return{data:e,error:null}}function Lt(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,i=_t(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},user:Object.assign({},i)},error:null}}function It(e){return e}const Mt=["global","local","others"];var zt=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};class Ut{constructor(e){let{url:t="",headers:r={},fetch:n}=e;this.url=t,this.headers=r,this.fetch=dt(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mt[0];if(Mt.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(Mt.join(", ")));try{return await Pt(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await Pt(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ot})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=zt(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=null===r||void 0===r?void 0:r.newEmail,delete n.newEmail),await Pt(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:n,headers:this.headers,xform:Lt,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(De(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Pt(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:Ot})}catch(t){if(De(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,n,a,s,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Pt(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(a=null===(n=null===e||void 0===e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==a?a:""},xform:It});if(c.error)throw c.error;const u=await c.json(),d=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(r,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(De(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){jt(e);try{return await Pt(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:Ot})}catch(t){if(De(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){jt(e);try{return await Pt(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:Ot})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];jt(e);try{return await Pt(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:Ot})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){jt(e.userId);try{const{data:t,error:r}=await Pt(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(De(t))return{data:null,error:t};throw t}}async _deleteFactor(e){jt(e.userId),jt(e.id);try{return{data:await Pt(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(De(t))return{data:null,error:t};throw t}}}function Dt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ft=!!(globalThis&&ut()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class qt extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Bt extends qt{}async function Qt(e,t,r){Ft&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ft&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async n=>{if(!n){if(0===t)throw Ft&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Bt('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(Ft)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}Ft&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{Ft&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const Wt={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Le,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Vt(e,t,r){return await r()}const Ht={};class Gt{constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gt.nextInstanceID,Gt.nextInstanceID+=1,this.instanceID>0&&lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Wt),e);if(this.logDebugMessages=!!n.debug,"function"===typeof n.debug&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Ut({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=dt(n.fetch),this.lock=n.lock||Vt,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:lt()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Qt:this.lock=Vt,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:ut()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Dt(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=Dt(this.memoryStorage)),lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=Ht[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Ht[this.storageKey]=Object.assign(Object.assign({},Ht[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Ht[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ht[this.storageKey]=Object.assign(Object.assign({},Ht[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(Re,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(n){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),lt()&&this.detectSessionInUrl&&"none"!==r){const{data:n,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return De(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:i}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return De(t)?{error:t}:{error:new qe("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{const a=await Pt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(r=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken}},xform:Tt}),{data:s,error:i}=a;if(i||!s)return{data:{user:null,session:null},error:i};const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(De(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,r,n;try{let a;if("email"in e){const{email:r,password:n,options:s}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await bt(this.storage,this.storageKey)),a=await Pt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo,body:{email:r,password:n,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:o},xform:Tt})}else{if(!("phone"in e))throw new Ve("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:i}=e;a=await Pt(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:s,data:null!==(r=null===i||void 0===i?void 0:i.data)&&void 0!==r?r:{},channel:null!==(n=null===i||void 0===i?void 0:i.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:Tt})}}const{data:s,error:i}=a;if(i||!s)return{data:{user:null,session:null},error:i};const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(De(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:n,options:a}=e;t=await Pt(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:Rt})}else{if(!("phone"in e))throw new Ve("You must provide either an email or phone number and a password");{const{phone:r,password:n,options:a}=e;t=await Pt(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:Rt})}}const{data:r,error:n}=t;return n?{data:{user:null,session:null},error:n}:r&&r.session&&r.user?(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n}):{data:{user:null,session:null},error:new We}}catch(t){if(De(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,n,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}async signInWithSolana(e){var t,r,n,a,s,i,o,l,c,u,d,h;let f,m;if("message"in e)f=e.message,m=e.signature;else{const{chain:d,wallet:h,statement:p,options:g}=e;let v;if(lt())if("object"===typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const x=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),p?{statement:p}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),m=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=["".concat(x.host," wants you to sign in with your Solana account:"),v.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1","URI: ".concat(x.href),"Issued At: ".concat(null!==(n=null===(r=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===r?void 0:r.issuedAt)&&void 0!==n?n:(new Date).toISOString()),...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=e}}try{const{data:t,error:r}=await Pt(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:ot(m)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:Tt});if(r)throw r;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:r}):{data:{user:null,session:null},error:new We}}catch(p){if(De(p))return{data:{user:null,session:null},error:p};throw p}}async _exchangeCodeForSession(e){const t=await ft(this.storage,"".concat(this.storageKey,"-code-verifier")),[r,n]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:a}=await Pt(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Tt});if(await mt(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==n&&void 0!==n?n:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new We}}catch(a){if(De(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:n,access_token:a,nonce:s}=e,i=await Pt(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:r,id_token:n,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:Tt}),{data:o,error:l}=i;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new We}}catch(t){if(De(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,n,a,s;try{if("email"in e){const{email:n,options:a}=e;let s=null,i=null;"pkce"===this.flowType&&([s,i]=await bt(this.storage,this.storageKey));const{error:o}=await Pt(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:n,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(r=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:i},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:r}=e,{data:i,error:o}=await Pt(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(n=null===r||void 0===r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(a=null===r||void 0===r?void 0:r.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken},channel:null!==(s=null===r||void 0===r?void 0:r.channel)&&void 0!==s?s:"sms"}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o}}throw new Ve("You must provide either an email or phone number.")}catch(i){if(De(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,r;try{let n,a;"options"in e&&(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:s,error:i}=await Pt(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:n,xform:Tt});if(i)throw i;if(!s)throw new Error("An error occurred on token verification.");const o=s.session,l=s.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(n){if(De(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var t,r,n;try{let a=null,s=null;return"pkce"===this.flowType&&([a,s]=await bt(this.storage,this.storageKey)),await Pt(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:At})}catch(a){if(De(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Qe;const{error:n}=await Pt(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(De(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:r,type:n,options:a}=e,{error:s}=await Pt(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:r,type:n,options:a}=e,{data:s,error:i}=await Pt(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:i}}throw new Ve("You must provide either an email or phone number and a type")}catch(t){if(De(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(e){}})()),r}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await ft(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<Ae;if(this._debug("#__loadSession()","session has".concat(r?"":" not"," expired"),"expires_at",e.expires_at),!r){if(this.userStorage){const t=await ft(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=Nt()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,r,n)=>(t||"user"!==r||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,r,n))})}return{data:{session:e},error:null}}const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await Pt(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:Ot}):await this._useSession(async e=>{var t,r,n;const{data:a,error:s}=e;if(s)throw s;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Pt(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,xform:Ot}):{data:{user:null},error:new Qe}})}catch(t){if(De(t))return function(e){return De(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await mt(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async r=>{const{data:n,error:a}=r;if(a)throw a;if(!n.session)throw new Qe;const s=n.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await bt(this.storage,this.storageKey));const{data:l,error:c}=await Pt(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:s.access_token,xform:Ot});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qe;const t=Date.now()/1e3;let r=t,n=!0,a=null;const{payload:s}=gt(e.access_token);if(s.exp&&(r=s.exp,n=r<=t),n){const{session:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:n,error:s}=await this._getUser(e.access_token);if(s)throw s;a={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(De(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:n,error:a}=t;if(a)throw a;e=null!==(r=n.session)&&void 0!==r?r:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new Qe;const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(De(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!lt())throw new He("No browser detected.");if(e.error||e.error_description||e.error_code)throw new He(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Ge("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new He("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ge("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:a,refresh_token:s,expires_in:i,expires_at:o,token_type:l}=e;if(!a||!i||!s||!l)throw new He("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(i);let d=c+u;o&&(d=parseInt(o));const h=d-c;1e3*h<=Oe&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:m,error:p}=await this._getUser(a);if(p)throw p;const g={provider_token:r,provider_refresh_token:n,access_token:a,expires_in:u,expires_at:d,refresh_token:s,token_type:l,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(De(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ft(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var r;const{data:n,error:a}=t;if(a)return{error:a};const s=null===(r=n.session)||void 0===r?void 0:r.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!function(e){return De(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await mt(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,n;try{const{data:{session:n},error:a}=t;if(a)throw a;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(a){await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,n=null;"pkce"===this.flowType&&([r,n]=await bt(this.storage,this.storageKey,!0));try{return await Pt(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(De(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(De(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:n}=await this._useSession(async t=>{var r,n,a,s,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await Pt(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(s=o.session)||void 0===s?void 0:s.access_token)&&void 0!==i?i:void 0})});if(n)throw n;return lt()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===r||void 0===r?void 0:r.url),{data:{provider:e.provider,url:null===r||void 0===r?void 0:r.url},error:null}}catch(r){if(De(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,n;const{data:a,error:s}=t;if(s)throw s;return await Pt(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})})}catch(t){if(De(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const a=Date.now();return await(r=async r=>(r>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await Pt(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:Tt})),n=(e,t)=>{const r=200*Math.pow(2,e);return t&&$e(t)&&Date.now()+r-a<Oe},new Promise((e,t)=>{(async()=>{for(let s=0;s<1/0;s++)try{const t=await r(s);if(!n(s,null,t))return void e(t)}catch(a){if(!n(s,a))return void t(a)}})()}))}catch(a){if(this._debug(t,"error",a),De(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}var r,n}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),lt()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await ft(this.storage,this.storageKey);if(a&&this.userStorage){let t=await ft(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:a.user},await ht(this.userStorage,this.storageKey+"-user",t)),a.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:Nt()}else if(a&&!a.user&&!a.user){const e=await ft(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await mt(this.storage,this.storageKey+"-user"),await ht(this.storage,this.storageKey,a)):a.user=Nt()}if(this._debug(r,"session from storage",a),!this._isValidSession(a))return this._debug(r,"session is not valid"),void(null!==a&&await this._removeSession());const s=1e3*(null!==(t=a.expires_at)&&void 0!==t?t:1/0)-Date.now()<Ae;if(this._debug(r,"session has".concat(s?"":" not"," expired with margin of ").concat(Ae,"s")),s){if(this.autoRefreshToken&&a.refresh_token){const{error:e}=await this._callRefreshToken(a.refresh_token);e&&(console.error(e),$e(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(a.user&&!0===a.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(a.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(n){console.error("Error getting user data:",n),this._debug(r,"error getting user data, skipping SIGNED_IN notification",n)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){return this._debug(r,"error",a),void console.error(a)}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Qe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(n,"begin");try{this.refreshingDeferred=new pt;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new Qe;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const n={session:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(a){if(this._debug(n,"error",a),De(a)){const e={session:null,error:a};return $e(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n="#_notifyAllSubscribers(".concat(e,")");this._debug(n,"begin",t,"broadcast = ".concat(r));try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],a=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(a){n.push(a)}});if(await Promise.all(a),n.length>0){for(let e=0;e<n.length;e+=1)console.error(n[e]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&await ht(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const n=kt(e);await ht(this.storage,this.storageKey,n)}else{const e=kt(t);await ht(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await mt(this.storage,this.storageKey),await mt(this.storage,this.storageKey+"-code-verifier"),await mt(this.storage,this.storageKey+"-user"),this.userStorage&&await mt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&lt()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Oe);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:r}}=e;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const n=Math.floor((1e3*r.expires_at-t)/Oe);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(n," ticks, a tick lasts ").concat(Oe,"ms, refresh threshold is ").concat(3," ticks")),n<=3&&await this._callRefreshToken(r.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof qt))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lt()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const n=["provider=".concat(encodeURIComponent(t))];if((null===r||void 0===r?void 0:r.redirectTo)&&n.push("redirect_to=".concat(encodeURIComponent(r.redirectTo))),(null===r||void 0===r?void 0:r.scopes)&&n.push("scopes=".concat(encodeURIComponent(r.scopes))),"pkce"===this.flowType){const[e,t]=await bt(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});n.push(r.toString())}if(null===r||void 0===r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null===r||void 0===r?void 0:r.skipBrowserRedirect)&&n.push("skip_http_redirect=".concat(r.skipBrowserRedirect)),"".concat(e,"?").concat(n.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;return a?{data:null,error:a}:await Pt(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(t){if(De(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,n;const{data:a,error:s}=t;if(s)return{data:null,error:s};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await Pt(this.fetch,"POST","".concat(this.url,"/factors"),{body:i,headers:this.headers,jwt:null===(r=null===a||void 0===a?void 0:a.session)||void 0===r?void 0:r.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(n=null===o||void 0===o?void 0:o.totp)||void 0===n?void 0:n.qr_code)&&(o.totp.qr_code="data:image/svg+xml;utf-8,".concat(o.totp.qr_code)),{data:o,error:null})})}catch(t){if(De(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;if(a)return{data:null,error:a};const{data:s,error:i}=await Pt(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:i})})}catch(t){if(De(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:a}=t;return a?{data:null,error:a}:await Pt(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(t){if(De(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(null===e||void 0===e?void 0:e.factors)||[],n=r.filter(e=>"totp"===e.factor_type&&"verified"===e.status),a=r.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:r,totp:n,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:n},error:a}=e;if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=gt(n.access_token);let i=null;s.aal&&(i=s.aal);let o=i;(null!==(r=null===(t=n.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==r?r:[]).length>0&&(o="aal2");return{data:{currentLevel:i,nextLevel:o,currentAuthenticationMethods:s.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const r=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>r)return t;const{data:n,error:a}=await Pt(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(a)throw a;return n.keys&&0!==n.keys.length?(this.jwks=n,this.jwks_cached_at=r,t=n.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};r=e.session.access_token}const{header:n,payload:a,signature:s,raw:{header:i,payload:o}}=gt(r);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp);const l=n.alg&&!n.alg.startsWith("HS")&&n.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(n.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:a,header:n,signature:s},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(n.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,s,function(e){const t=[];return st(e,e=>t.push(e)),new Uint8Array(t)}("".concat(i,".").concat(o))))throw new Ye("Invalid JWT signature");return{data:{claims:a,header:n,signature:s},error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}}Gt.nextInstanceID=0;const Kt=Gt;class $t extends Kt{constructor(e){super(e)}}var Jt=function(e,t,r,n){return new(r||(r=Promise))(function(a,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function o(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};class Yt{constructor(e,t,r){var n,a,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const i=(o=e).endsWith("/")?o:o+"/";var o;const l=new URL(i);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c="sb-".concat(l.hostname.split(".")[0],"-auth-token"),u=function(e,t){var r,n;const{db:a,auth:s,realtime:i,global:o}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),i),storage:{},global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},null!==(r=null===d||void 0===d?void 0:d.headers)&&void 0!==r?r:{}),null!==(n=null===o||void 0===o?void 0:o.headers)&&void 0!==n?n:{})}),accessToken:()=>Te(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==r&&void 0!==r?r:{},{db:Ne,realtime:_e,auth:Object.assign(Object.assign({},ke),{storageKey:c}),global:je});this.storageKey=null!==(n=u.auth.storageKey)&&void 0!==n?n:"",this.headers=null!==(a=u.global.headers)&&void 0!==a?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(s=u.auth)&&void 0!==s?s:{},this.headers,u.global.fetch),this.fetch=Pe(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new d(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new ye(this.storageUrl.href,this.headers,this.fetch,null===r||void 0===r?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new c(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,r)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Jt(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient(e,t,r){let{autoRefreshToken:n,persistSession:a,detectSessionInUrl:s,storage:i,storageKey:o,flowType:l,lock:c,debug:u}=e;const d={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new $t({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:o,autoRefreshToken:n,persistSession:a,detectSessionInUrl:s,storage:i,flowType:l,lock:c,debug:u,fetch:r,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new J(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=r}}(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Xt="https://xesymgdccvekhsuotpbd.supabase.co",Zt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhlc3ltZ2RjY3Zla2hzdW90cGJkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ3NzAyNTcsImV4cCI6MjA3MDM0NjI1N30.AhhdK0Y8-Osr9_PHv2t6zjxMXsMvsIvmVv1bslg81VE";let er=null;function tr(){if(!er)throw new Error("Supabase no configurado. Define REACT_APP_SUPABASE_URL y REACT_APP_SUPABASE_ANON_KEY");return er}function rr(){return er}Xt&&Zt?er=((e,t,r)=>new Yt(e,t,r))(Xt,Zt):console.warn("Supabase no configurado. Define REACT_APP_SUPABASE_URL y REACT_APP_SUPABASE_ANON_KEY")},907:(e,t,r)=>{"use strict";r.d(t,{QueryClient:()=>n.QueryClient,QueryClientProvider:()=>a.QueryClientProvider,useMutation:()=>a.useMutation,useQuery:()=>a.useQuery,useQueryClient:()=>a.useQueryClient});var n=r(819);r.o(n,"QueryClientProvider")&&r.d(t,{QueryClientProvider:function(){return n.QueryClientProvider}}),r.o(n,"useMutation")&&r.d(t,{useMutation:function(){return n.useMutation}}),r.o(n,"useQuery")&&r.d(t,{useQuery:function(){return n.useQuery}}),r.o(n,"useQueryClient")&&r.d(t,{useQueryClient:function(){return n.useQueryClient}});var a=r(490)},950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(730)},964:(e,t,r)=>{"use strict";r.d(t,{$:()=>c,s:()=>l});var n=r(168),a=r(75),s=r(991),i=r(990),o=r(870),l=function(){function e(e){this.options=(0,n.A)({},e.defaultOptions,e.options),this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.observers=[],this.state=e.state||c(),this.meta=e.meta}var t=e.prototype;return t.setState=function(e){this.dispatch({type:"setState",state:e})},t.addObserver=function(e){-1===this.observers.indexOf(e)&&this.observers.push(e)},t.removeObserver=function(e){this.observers=this.observers.filter(function(t){return t!==e})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(o.lQ).catch(o.lQ)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var e,t=this,r="loading"===this.state.status,n=Promise.resolve();return r||(this.dispatch({type:"loading",variables:this.options.variables}),n=n.then(function(){null==t.mutationCache.config.onMutate||t.mutationCache.config.onMutate(t.state.variables,t)}).then(function(){return null==t.options.onMutate?void 0:t.options.onMutate(t.state.variables)}).then(function(e){e!==t.state.context&&t.dispatch({type:"loading",context:e,variables:t.state.variables})})),n.then(function(){return t.executeMutation()}).then(function(r){e=r,null==t.mutationCache.config.onSuccess||t.mutationCache.config.onSuccess(e,t.state.variables,t.state.context,t)}).then(function(){return null==t.options.onSuccess?void 0:t.options.onSuccess(e,t.state.variables,t.state.context)}).then(function(){return null==t.options.onSettled?void 0:t.options.onSettled(e,null,t.state.variables,t.state.context)}).then(function(){return t.dispatch({type:"success",data:e}),e}).catch(function(e){return null==t.mutationCache.config.onError||t.mutationCache.config.onError(e,t.state.variables,t.state.context,t),(0,a.t)().error(e),Promise.resolve().then(function(){return null==t.options.onError?void 0:t.options.onError(e,t.state.variables,t.state.context)}).then(function(){return null==t.options.onSettled?void 0:t.options.onSettled(void 0,e,t.state.variables,t.state.context)}).then(function(){throw t.dispatch({type:"error",error:e}),e})})},t.executeMutation=function(){var e,t=this;return this.retryer=new i.eJ({fn:function(){return t.options.mutationFn?t.options.mutationFn(t.state.variables):Promise.reject("No mutationFn found")},onFail:function(){t.dispatch({type:"failed"})},onPause:function(){t.dispatch({type:"pause"})},onContinue:function(){t.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(e){var t=this;this.state=function(e,t){switch(t.type){case"failed":return(0,n.A)({},e,{failureCount:e.failureCount+1});case"pause":return(0,n.A)({},e,{isPaused:!0});case"continue":return(0,n.A)({},e,{isPaused:!1});case"loading":return(0,n.A)({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return(0,n.A)({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return(0,n.A)({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return(0,n.A)({},e,t.state);default:return e}}(this.state,e),s.j.batch(function(){t.observers.forEach(function(t){t.onMutationUpdate(e)}),t.mutationCache.notify(t)})},e}();function c(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}},980:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const a=n(r(210));t.PostgrestClient=a.default;const s=n(r(829));t.PostgrestQueryBuilder=s.default;const i=n(r(736));t.PostgrestFilterBuilder=i.default;const o=n(r(374));t.PostgrestTransformBuilder=o.default;const l=n(r(286));t.PostgrestBuilder=l.default;const c=n(r(611));t.PostgrestError=c.default,t.default={PostgrestClient:a.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default}},986:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=986,e.exports=t},990:(e,t,r)=>{"use strict";r.d(t,{dd:()=>o,eJ:()=>u,wm:()=>c});var n=r(244),a=r(317),s=r(870);function i(e){return Math.min(1e3*Math.pow(2,e),3e4)}function o(e){return"function"===typeof(null==e?void 0:e.cancel)}var l=function(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent};function c(e){return e instanceof l}var u=function(e){var t,r,c,u,d=this,h=!1;this.abort=e.abort,this.cancel=function(e){return null==t?void 0:t(e)},this.cancelRetry=function(){h=!0},this.continueRetry=function(){h=!1},this.continue=function(){return null==r?void 0:r()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(e,t){c=e,u=t});var f=function(t){d.isResolved||(d.isResolved=!0,null==e.onSuccess||e.onSuccess(t),null==r||r(),c(t))},m=function(t){d.isResolved||(d.isResolved=!0,null==e.onError||e.onError(t),null==r||r(),u(t))};!function c(){if(!d.isResolved){var u;try{u=e.fn()}catch(p){u=Promise.reject(p)}t=function(e){if(!d.isResolved&&(m(new l(e)),null==d.abort||d.abort(),o(u)))try{u.cancel()}catch(t){}},d.isTransportCancelable=o(u),Promise.resolve(u).then(f).catch(function(t){var o,l;if(!d.isResolved){var u=null!=(o=e.retry)?o:3,f=null!=(l=e.retryDelay)?l:i,p="function"===typeof f?f(d.failureCount,t):f,g=!0===u||"number"===typeof u&&d.failureCount<u||"function"===typeof u&&u(d.failureCount,t);!h&&g?(d.failureCount++,null==e.onFail||e.onFail(d.failureCount,t),(0,s.yy)(p).then(function(){if(!n.m.isFocused()||!a.t.isOnline())return new Promise(function(t){r=t,d.isPaused=!0,null==e.onPause||e.onPause()}).then(function(){r=void 0,d.isPaused=!1,null==e.onContinue||e.onContinue()})}).then(function(){h?m(t):c()})):m(t)}})}}()}},991:(e,t,r)=>{"use strict";r.d(t,{j:()=>a});var n=r(870),a=new(function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(e){e()},this.batchNotifyFn=function(e){e()}}var t=e.prototype;return t.batch=function(e){var t;this.transactions++;try{t=e()}finally{this.transactions--,this.transactions||this.flush()}return t},t.schedule=function(e){var t=this;this.transactions?this.queue.push(e):(0,n.G6)(function(){t.notifyFn(e)})},t.batchCalls=function(e){var t=this;return function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];t.schedule(function(){e.apply(void 0,n)})}},t.flush=function(){var e=this,t=this.queue;this.queue=[],t.length&&(0,n.G6)(function(){e.batchNotifyFn(function(){t.forEach(function(t){e.notifyFn(t)})})})},t.setNotifyFunction=function(e){this.notifyFn=e},t.setBatchNotifyFunction=function(e){this.batchNotifyFn=e},e}())}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var s=Object.create(null);r.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&n;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>n[e]);return i.default=()=>n,r.d(s,i),s}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e,t=r(43),n=r.t(t,2),a=r(950),s=r.t(a,2);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const o="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,r,n){return void 0===r&&(r=null),i({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function f(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function m(t,r,n,a){void 0===a&&(a={});let{window:s=document.defaultView,v5Compat:c=!1}=a,f=s.history,m=e.Pop,p=null,g=v();function v(){return(f.state||{idx:null}).idx}function x(){m=e.Pop;let t=v(),r=null==t?null:t-g;g=t,p&&p({action:m,location:y.location,delta:r})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,r="string"===typeof e?e:h(e);return r=r.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==g&&(g=0,f.replaceState(i({},f.state,{idx:g}),""));let y={get action(){return m},get location(){return t(s,f)},listen(e){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(o,x),p=e,()=>{s.removeEventListener(o,x),p=null}},createHref:e=>r(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,r){m=e.Push;let a=d(y.location,t,r);n&&n(a,t),g=v()+1;let i=u(a,g),o=y.createHref(a);try{f.pushState(i,"",o)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;s.location.assign(o)}c&&p&&p({action:m,location:y.location,delta:1})},replace:function(t,r){m=e.Replace;let a=d(y.location,t,r);n&&n(a,t),g=v();let s=u(a,g),i=y.createHref(a);f.replaceState(s,"",i),c&&p&&p({action:m,location:y.location,delta:0})},go:e=>f.go(e)};return y}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,r){return void 0===r&&(r="/"),v(e,t,r,!1)}function v(e,t,r,n){let a=R(("string"===typeof t?f(t):t).pathname||"/",r);if(null==a)return null;let s=x(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=T(a);i=E(s[o],e,n)}return i}function x(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let a=(e,a,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(l(i.relativePath.startsWith(n),'Absolute route path "'+i.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(n.length));let o=M([n,i.relativePath]),c=r.concat(i);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),x(e.children,t,c,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:c})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of b(e.path))a(e,t,n);else a(e,t)}),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===n.length)return a?[s,""]:[s];let i=b(n.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),a&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const y=/^:[\w-]+$/,w=3,j=2,N=1,k=10,_=-2,S=e=>"*"===e;function C(e,t){let r=e.split("/"),n=r.length;return r.some(S)&&(n+=_),t&&(n+=j),r.filter(e=>!S(e)).reduce((e,t)=>e+(y.test(t)?w:""===t?N:k),n)}function E(e,t,r){void 0===r&&(r=!1);let{routesMeta:n}=e,a={},s="/",i=[];for(let o=0;o<n.length;++o){let e=n[o],l=o===n.length-1,c="/"===s?t:t.slice(s.length)||"/",u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&r&&!n[n.length-1].route.index&&(u=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),i.push({params:a,pathname:M([s,u.pathname]),pathnameBase:z(M([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=M([s,u.pathnameBase]))}return i}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,n]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=o[r]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[r];return e[n]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function T(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function O(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function A(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function L(e,t){let r=A(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function I(e,t,r,n){let a;void 0===n&&(n=!1),"string"===typeof e?a=f(e):(a=i({},e),l(!a.pathname||!a.pathname.includes("?"),O("?","pathname","search",a)),l(!a.pathname||!a.pathname.includes("#"),O("#","pathname","hash",a)),l(!a.search||!a.search.includes("#"),O("#","search","hash",a)));let s,o=""===e||""===a.pathname,c=o?"/":a.pathname;if(null==c)s=r;else{let e=t.length-1;if(!n&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:a=""}="string"===typeof e?f(e):e,s=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:s,search:U(n),hash:D(a)}}(a,s),d=c&&"/"!==c&&c.endsWith("/"),h=(o||"."===c)&&r.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const M=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",D=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function F(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],B=(new Set(q),["get",...q]);new Set(B),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q.apply(this,arguments)}const W=t.createContext(null);const V=t.createContext(null);const H=t.createContext(null);const G=t.createContext(null);const K=t.createContext({outlet:null,matches:[],isDataRoute:!1});const $=t.createContext(null);function J(){return null!=t.useContext(G)}function Y(){return J()||l(!1),t.useContext(G).location}function X(e){t.useContext(H).static||t.useLayoutEffect(e)}function Z(){let{isDataRoute:e}=t.useContext(K);return e?function(){let{router:e}=ue(le.UseNavigateStable),r=he(ce.UseNavigateStable),n=t.useRef(!1);return X(()=>{n.current=!0}),t.useCallback(function(t,a){void 0===a&&(a={}),n.current&&("number"===typeof t?e.navigate(t):e.navigate(t,Q({fromRouteId:r},a)))},[e,r])}():function(){J()||l(!1);let e=t.useContext(W),{basename:r,future:n,navigator:a}=t.useContext(H),{matches:s}=t.useContext(K),{pathname:i}=Y(),o=JSON.stringify(L(s,n.v7_relativeSplatPath)),c=t.useRef(!1);return X(()=>{c.current=!0}),t.useCallback(function(t,n){if(void 0===n&&(n={}),!c.current)return;if("number"===typeof t)return void a.go(t);let s=I(t,JSON.parse(o),i,"path"===n.relative);null==e&&"/"!==r&&(s.pathname="/"===s.pathname?r:M([r,s.pathname])),(n.replace?a.replace:a.push)(s,n.state,n)},[r,a,o,i,e])}()}function ee(){let{matches:e}=t.useContext(K),r=e[e.length-1];return r?r.params:{}}function te(e,r){let{relative:n}=void 0===r?{}:r,{future:a}=t.useContext(H),{matches:s}=t.useContext(K),{pathname:i}=Y(),o=JSON.stringify(L(s,a.v7_relativeSplatPath));return t.useMemo(()=>I(e,JSON.parse(o),i,"path"===n),[e,o,i,n])}function re(r,n,a,s){J()||l(!1);let{navigator:i}=t.useContext(H),{matches:o}=t.useContext(K),c=o[o.length-1],u=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let h,m=Y();if(n){var p;let e="string"===typeof n?f(n):n;"/"===d||(null==(p=e.pathname)?void 0:p.startsWith(d))||l(!1),h=e}else h=m;let v=h.pathname||"/",x=v;if("/"!==d){let e=d.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=g(r,{pathname:x});let y=oe(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:M([d,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:M([d,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,a,s);return n&&y?t.createElement(G.Provider,{value:{location:Q({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:e.Pop}},y):y}function ne(){let e=function(){var e;let r=t.useContext($),n=de(ce.UseRouteError),a=he(ce.UseRouteError);if(void 0!==r)return r;return null==(e=n.errors)?void 0:e[a]}(),r=F(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},r),n?t.createElement("pre",{style:s},n):null,null)}const ae=t.createElement(ne,null);class se extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(K.Provider,{value:this.props.routeContext},t.createElement($.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:r,match:n,children:a}=e,s=t.useContext(W);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),t.createElement(K.Provider,{value:r},a)}function oe(e,r,n,a){var s;if(void 0===r&&(r=[]),void 0===n&&(n=null),void 0===a&&(a=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=a)&&i.v7_partialHydration&&0===r.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,c=null==(s=n)?void 0:s.errors;if(null!=c){let e=o.findIndex(e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id]));e>=0||l(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,d=-1;if(n&&a&&a.v7_partialHydration)for(let t=0;t<o.length;t++){let e=o[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=t),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){u=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((e,a,s)=>{let i,l=!1,h=null,f=null;var m;n&&(i=c&&a.route.id?c[a.route.id]:void 0,h=a.route.errorElement||ae,u&&(d<0&&0===s?(m="route-fallback",!1||fe[m]||(fe[m]=!0),l=!0,f=null):d===s&&(l=!0,f=a.route.hydrateFallbackElement||null)));let p=r.concat(o.slice(0,s+1)),g=()=>{let r;return r=i?h:l?f:a.route.Component?t.createElement(a.route.Component,null):a.route.element?a.route.element:e,t.createElement(ie,{match:a,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:r})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===s)?t.createElement(se,{location:n.location,revalidation:n.revalidation,component:h,error:i,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let r=t.useContext(W);return r||l(!1),r}function de(e){let r=t.useContext(V);return r||l(!1),r}function he(e){let r=function(){let e=t.useContext(K);return e||l(!1),e}(),n=r.matches[r.matches.length-1];return n.route.id||l(!1),n.route.id}const fe={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}n.startTransition;function pe(e){let{to:r,replace:n,state:a,relative:s}=e;J()||l(!1);let{future:i,static:o}=t.useContext(H),{matches:c}=t.useContext(K),{pathname:u}=Y(),d=Z(),h=I(r,L(c,i.v7_relativeSplatPath),u,"path"===s),f=JSON.stringify(h);return t.useEffect(()=>d(JSON.parse(f),{replace:n,state:a,relative:s}),[d,f,s,n,a]),null}function ge(e){l(!1)}function ve(r){let{basename:n="/",children:a=null,location:s,navigationType:i=e.Pop,navigator:o,static:c=!1,future:u}=r;J()&&l(!1);let d=n.replace(/^\/*/,"/"),h=t.useMemo(()=>({basename:d,navigator:o,static:c,future:Q({v7_relativeSplatPath:!1},u)}),[d,u,o,c]);"string"===typeof s&&(s=f(s));let{pathname:m="/",search:p="",hash:g="",state:v=null,key:x="default"}=s,b=t.useMemo(()=>{let e=R(m,d);return null==e?null:{location:{pathname:e,search:p,hash:g,state:v,key:x},navigationType:i}},[d,m,p,g,v,x,i]);return null==b?null:t.createElement(H.Provider,{value:h},t.createElement(G.Provider,{children:a,value:b}))}function xe(e){let{children:t,location:r}=e;return re(be(t),r)}new Promise(()=>{});t.Component;function be(e,r){void 0===r&&(r=[]);let n=[];return t.Children.forEach(e,(e,a)=>{if(!t.isValidElement(e))return;let s=[...r,a];if(e.type===t.Fragment)return void n.push.apply(n,be(e.props.children,s));e.type!==ge&&l(!1),e.props.index&&e.props.children&&l(!1);let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=be(e.props.children,s)),n.push(i)}),n}function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ye.apply(this,arguments)}function we(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function je(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(e=>[r,e]):[[r,n]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(nr){}new Map;const ke=n.startTransition;s.flushSync,n.useId;function _e(e){let{basename:r,children:n,future:a,window:s}=e,i=t.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),m(function(e,t){let{pathname:r,search:n,hash:a}=e.location;return d("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:h(t)},null,o)));let l=i.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:f}=a||{},p=t.useCallback(e=>{f&&ke?ke(()=>u(e)):u(e)},[u,f]);return t.useLayoutEffect(()=>l.listen(p),[l,p]),t.useEffect(()=>me(a),[a]),t.createElement(ve,{basename:r,children:n,location:c.location,navigationType:c.action,navigator:l,future:a})}const Se="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=t.forwardRef(function(e,r){let n,{onClick:a,relative:s,reloadDocument:i,replace:o,state:c,target:u,to:d,preventScrollReset:f,viewTransition:m}=e,p=we(e,Ne),{basename:g}=t.useContext(H),v=!1;if("string"===typeof d&&Ce.test(d)&&(n=d,Se))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),r=R(t.pathname,g);t.origin===e.origin&&null!=r?d=r+t.search+t.hash:v=!0}catch(nr){}let x=function(e,r){let{relative:n}=void 0===r?{}:r;J()||l(!1);let{basename:a,navigator:s}=t.useContext(H),{hash:i,pathname:o,search:c}=te(e,{relative:n}),u=o;return"/"!==a&&(u="/"===o?a:M([a,o])),s.createHref({pathname:u,search:c,hash:i})}(d,{relative:s}),b=function(e,r){let{target:n,replace:a,state:s,preventScrollReset:i,relative:o,viewTransition:l}=void 0===r?{}:r,c=Z(),u=Y(),d=te(e,{relative:o});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let r=void 0!==a?a:h(u)===h(d);c(e,{replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,a,s,n,e,i,o,l])}(d,{replace:o,state:c,target:u,preventScrollReset:f,relative:s,viewTransition:m});return t.createElement("a",ye({},p,{href:n||x,onClick:v||i?a:function(e){a&&a(e),e.defaultPrevented||b(e)},ref:r,target:u}))});var Pe,Te;function Re(e){let r=t.useRef(je(e)),n=t.useRef(!1),a=Y(),s=t.useMemo(()=>function(e,t){let r=je(e);return t&&t.forEach((e,n)=>{r.has(n)||t.getAll(n).forEach(e=>{r.append(n,e)})}),r}(a.search,n.current?null:r.current),[a.search]),i=Z(),o=t.useCallback((e,t)=>{const r=je("function"===typeof e?e(s):e);n.current=!0,i("?"+r,t)},[i,s]);return[s,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Te||(Te={}));var Oe=r(907),Ae=r(579);function Le(){return(0,Ae.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,Ae.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-800 via-gray-800 to-slate-900"}),(0,Ae.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,Ae.jsx)("div",{className:"absolute top-0 left-0 w-96 h-96 bg-gradient-to-br from-emerald-600/10 to-transparent rounded-full blur-3xl"}),(0,Ae.jsx)("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-gradient-to-tl from-cyan-600/10 to-transparent rounded-full blur-3xl"}),(0,Ae.jsxs)("svg",{className:"absolute bottom-0 w-full h-3/4",viewBox:"0 0 1920 800",preserveAspectRatio:"xMidYMax slice",children:[(0,Ae.jsx)("path",{d:"M0,600 L600,350 L1200,400 L1920,380 L1920,800 L0,800 Z",fill:"rgba(71, 85, 105, 0.3)"}),(0,Ae.jsx)("path",{d:"M0,700 L800,450 L1400,500 L1920,480 L1920,800 L0,800 Z",fill:"rgba(55, 65, 81, 0.4)"})]}),(0,Ae.jsx)("div",{className:"absolute bottom-0 w-full h-20 bg-gradient-to-b from-transparent to-slate-900/50",style:{bottom:"-80px"}}),(0,Ae.jsxs)("svg",{className:"absolute w-full h-20",style:{bottom:"-80px"},viewBox:"0 0 1920 100",preserveAspectRatio:"xMidYMax slice",children:[(0,Ae.jsx)("path",{d:"M0,0 L600,0 L1200,20 L1920,15 L1920,100 L0,100 Z",fill:"rgba(71, 85, 105, 0.2)"}),(0,Ae.jsx)("path",{d:"M0,30 L800,10 L1400,25 L1920,20 L1920,100 L0,100 Z",fill:"rgba(55, 65, 81, 0.25)"})]})]})}function Ie(){return(0,Ae.jsxs)("button",{onClick:()=>{const e="https://wa.me/".concat("5491123456789","?text=").concat(encodeURIComponent("\xa1Hola! Me interesa conocer m\xe1s sobre las experiencias de pesca en la Patagonia."));window.open(e,"_blank")},className:"fixed bottom-6 right-6 z-50 bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-2xl transform transition-all duration-300 hover:scale-110 hover:shadow-green-500/50 animate-pulse","aria-label":"Contactar por WhatsApp",children:[(0,Ae.jsx)("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ae.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.570-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.890-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.106"})}),(0,Ae.jsx)("div",{className:"absolute inset-0 rounded-full border-2 border-green-400 animate-ping opacity-75"})]})}const Me=JSON.parse('[{"id":"sp1","name":"Patagonia Fishing Co.","logo":"/images/sponsors/patagonia-fishing-logo.png","website":"https://patagoniafishing.com","category":"Equipamiento","description":"L\xedder en equipamiento de pesca deportiva en la Patagonia"},{"id":"sp2","name":"R\xedo Grande Outfitters","logo":"/images/sponsors/rio-grande-logo.png","website":"https://riograndeoutfitters.cl","category":"Outfitters","description":"Especialistas en expediciones de pesca en la Patagonia chilena"},{"id":"sp3","name":"Mosca Austral","logo":"/images/sponsors/mosca-austral-logo.png","website":"https://moscaaustral.com","category":"Moscas Artesanales","description":"Moscas artesanales atadas por maestros locales patag\xf3nicos"},{"id":"sp4","name":"Turismo Chile Patagonia","logo":"/images/sponsors/turismo-chile-logo.png","website":"https://chile.travel","category":"Turismo","description":"Promoci\xf3n oficial del turismo en la Patagonia chilena"},{"id":"sp5","name":"Lodge Austral","logo":"/images/sponsors/lodge-austral-logo.png","website":"https://lodgeaustral.cl","category":"Alojamiento","description":"Lodges premium para pescadores en la Regi\xf3n de los Lagos"},{"id":"sp6","name":"Scientific Anglers Chile","logo":"/images/sponsors/scientific-anglers-logo.png","website":"https://scientificanglers.cl","category":"L\xedneas y Equipos","description":"L\xedneas de fly fishing y equipamiento t\xe9cnico profesional"}]'),ze=()=>(0,Ae.jsx)("section",{className:"py-16 bg-slate-100",children:(0,Ae.jsxs)("div",{className:"container mx-auto px-4",children:[(0,Ae.jsxs)("div",{className:"text-center mb-12",children:[(0,Ae.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-slate-800 mb-4",children:"Nuestros Aliados"}),(0,Ae.jsx)("p",{className:"text-slate-600 max-w-2xl mx-auto",children:"Colaboramos con las mejores marcas y empresas de la Patagonia para ofrecerte una experiencia de pesca excepcional y equipamiento de primera calidad."})]}),(0,Ae.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8 items-center",children:Me.map(e=>(0,Ae.jsxs)("div",{className:"group flex flex-col items-center p-6 bg-white rounded-lg shadow-sm hover:shadow-md transition-all duration-300 hover:scale-105",children:[(0,Ae.jsxs)("div",{className:"w-24 h-24 mb-4 flex items-center justify-center bg-slate-50 rounded-lg group-hover:bg-slate-100 transition-colors",children:[(0,Ae.jsx)("img",{src:e.logo,alt:e.name,className:"max-w-full max-h-full object-contain filter grayscale group-hover:grayscale-0 transition-all duration-300",onError:t=>{const r=t.target;r.style.display="none",r.nextElementSibling.textContent=e.name}}),(0,Ae.jsx)("span",{className:"text-sm font-semibold text-slate-600 text-center hidden",children:e.name})]}),(0,Ae.jsx)("h3",{className:"text-sm font-semibold text-slate-800 text-center mb-1",children:e.name}),(0,Ae.jsx)("span",{className:"text-xs text-blue-600 font-medium mb-2",children:e.category}),(0,Ae.jsx)("p",{className:"text-xs text-slate-500 text-center line-clamp-2",children:e.description}),e.website&&(0,Ae.jsx)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"mt-3 text-xs text-blue-600 hover:text-blue-700 font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:"Visitar sitio \u2192"})]},e.id))}),(0,Ae.jsx)("div",{className:"text-center mt-12",children:(0,Ae.jsxs)("p",{className:"text-slate-500 text-sm",children:["\xbfInteresado en ser nuestro aliado?"," ",(0,Ae.jsx)("a",{href:"/contacto",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Cont\xe1ctanos"})]})})]})}),Ue=e=>{let{price:t,className:r="",showBothCurrencies:n=!0,size:a="md"}=e;const s=Math.round(t/900),i={sm:"text-sm",md:"text-lg",lg:"text-2xl",xl:"text-3xl"};return n?(0,Ae.jsxs)("div",{className:"".concat(r),children:[(0,Ae.jsxs)("div",{className:"font-bold text-emerald-600 ".concat(i[a]),children:["$",t.toLocaleString()," CLP"]}),(0,Ae.jsxs)("div",{className:"text-slate-500 ".concat({sm:"text-xs",md:"text-sm",lg:"text-base",xl:"text-lg"}[a]," mt-1"),children:["~$",s," USD"]})]}):(0,Ae.jsxs)("div",{className:"font-bold ".concat(r," ").concat(i[a]),children:["$",t.toLocaleString()," CLP"]})},De=JSON.parse('[{"id":"1","name":"Carlos Mendoza","age":42,"avatar":"/images/pexels-d123x-848737.jpg","coverImage":"/images/pexels-d123x-848737.jpg","specialties":["Pesca con Mosca","Truchas","Pesca en R\xedos"],"experience":15,"location":"Puerto Varas, Regi\xf3n de los Lagos","rating":4.9,"totalReviews":127,"pricePerDay":25000,"languages":["Espa\xf1ol","Ingl\xe9s","Portugu\xe9s"],"bio":"Gu\xeda especializado en pesca con mosca con m\xe1s de 15 a\xf1os de experiencia en los lagos y r\xedos de la Regi\xf3n de los Lagos. Experto en truchas marrones y arco\xedris en el Lago Llanquihue y R\xedo Petrohu\xe9. Carlos comenz\xf3 su pasi\xf3n por la pesca a los 8 a\xf1os y ha dedicado su vida a perfeccionar las t\xe9cnicas de fly fishing en las aguas cristalinas de la Patagonia chilena.","services":[{"id":"s1","title":"Pesca con Mosca - D\xeda Completo","description":"Jornada completa de pesca con mosca en los mejores r\xedos de Bariloche. Incluye t\xe9cnicas avanzadas de casting y lectura de aguas.","price":25000,"duration":"8 horas","difficulty":"Intermedio","maxPeople":4,"includes":["Equipo completo","Almuerzo gourmet","Transporte","Fotograf\xedas profesionales"]},{"id":"s2","title":"Clase de Casting","description":"Aprende las t\xe9cnicas b\xe1sicas y avanzadas de lanzamiento con mosca. Perfecto para principiantes.","price":8000,"duration":"2 horas","difficulty":"Principiante","maxPeople":6,"includes":["Ca\xf1a y reel","Moscas","Instrucci\xf3n personalizada","Manual de t\xe9cnicas"]},{"id":"s3","title":"Expedici\xf3n de 3 D\xedas","description":"Aventura completa en r\xedos remotos con camping y pesca intensiva.","price":75000,"duration":"3 d\xedas","difficulty":"Avanzado","maxPeople":4,"includes":["Camping completo","Todas las comidas","Equipo profesional","Gu\xeda 24/7"]}],"certifications":["Gu\xeda Habilitado Nahuel Huapi","Instructor de Pesca Deportiva","Primeros Auxilios"],"availability":{},"gallery":["/images/pexels-d123x-848737.jpg","/images/pexels-cottonbro-4830248.jpg","/images/pexels-pixabay-301738.jpg"],"contactInfo":{"phone":"+54 9 294 456-7890","email":"carlos.mendoza@patagoniafishing.com","whatsapp":"+5492944567890"}},{"id":"2","name":"Mar\xeda Rodr\xedguez","age":38,"avatar":"/images/pexels-cottonbro-4828253.jpg","coverImage":"/images/pexels-cottonbro-4828253.jpg","specialties":["Spinning","Pesca Marina","Pesca desde Costa"],"experience":12,"location":"Punta Arenas, Regi\xf3n de Magallanes","rating":4.8,"totalReviews":89,"pricePerDay":22000,"languages":["Espa\xf1ol","Ingl\xe9s","Portugu\xe9s"],"bio":"Primera mujer gu\xeda certificada de la regi\xf3n austral de Chile. Especialista en pesca marina y t\xe9cnicas de spinning para salmones en las aguas del Estrecho de Magallanes. Mar\xeda rompi\xf3 barreras en el mundo de la pesca deportiva y es reconocida por su innovaci\xf3n en t\xe9cnicas de pesca costera patag\xf3nica.","services":[{"id":"s4","title":"Pesca Marina - D\xeda Completo","description":"Expedici\xf3n marina para especies patag\xf3nicas desde embarcaci\xf3n.","price":22000,"duration":"8 horas","difficulty":"Intermedio","maxPeople":6,"includes":["Embarcaci\xf3n","Equipo de pesca","Almuerzo","Bebidas"]},{"id":"s5","title":"Pesca desde Costa","description":"T\xe9cnicas de spinning desde la costa para principiantes.","price":15000,"duration":"6 horas","difficulty":"Principiante","maxPeople":8,"includes":["Equipo b\xe1sico","Se\xf1uelos","Instrucci\xf3n","Snack"]}],"certifications":["Gu\xeda de Pesca Marina","Primeros Auxilios","Patr\xf3n de Embarcaci\xf3n"],"availability":{},"gallery":["/images/pexels-cottonbro-4828253.jpg","/images/pexels-gasparzaldo-11250845.jpg"],"contactInfo":{"phone":"+54 9 280 123-4567","email":"maria.rodriguez@patagoniafishing.com","whatsapp":"+5492801234567"}},{"id":"3","name":"Jorge Silva","age":55,"avatar":"/images/pexels-gasparzaldo-11250845.jpg","coverImage":"/images/pexels-gasparzaldo-11250845.jpg","specialties":["Salmones","Pesca en Lagos","Trolling"],"experience":28,"location":"Villa La Angostura, Patagonia Chile","rating":5,"totalReviews":156,"pricePerDay":30000,"languages":["Espa\xf1ol","Ingl\xe9s","Alem\xe1n"],"bio":"Veterano con 28 a\xf1os de experiencia. Conoce cada rinc\xf3n de los lagos patag\xf3nicos chilenos y sus secretos para la pesca de salmones. Jorge es una leyenda viviente, ha capturado r\xe9cords personales y ense\xf1ado a generaciones de pescadores en las aguas pr\xedstinas de la Patagonia austral.","services":[{"id":"s6","title":"Pesca de Salmones Premium","description":"Experiencia exclusiva de pesca de salmones en lagos premium.","price":30000,"duration":"8 horas","difficulty":"Avanzado","maxPeople":4,"includes":["Embarcaci\xf3n premium","Equipo especializado","Almuerzo gourmet","Champagne"]},{"id":"s7","title":"Trolling Profesional","description":"T\xe9cnicas avanzadas de trolling en lagos patag\xf3nicos.","price":28000,"duration":"8 horas","difficulty":"Intermedio","maxPeople":6,"includes":["Embarcaci\xf3n","Equipo profesional","Almuerzo","Coaching personalizado"]}],"certifications":["Gu\xeda Master Patag\xf3nico","Capit\xe1n de Pesca Deportiva","Record Holder Regional"],"availability":{},"gallery":["/images/pexels-gasparzaldo-11250845.jpg","/images/pexels-lum3n-44775-294674.jpg","/images/pexels-pixabay-39854.jpg"],"contactInfo":{"phone":"+54 9 294 567-8901","email":"jorge.silva@patagoniafishing.com","whatsapp":"+5492945678901"}},{"id":"4","name":"Luc\xeda Fern\xe1ndez","age":29,"avatar":"/images/pexels-arch-1165125.jpg","coverImage":"/images/pexels-arch-1165125.jpg","specialties":["Pesca con Mosca","Truchas","Pesca en Lagos"],"experience":8,"location":"San Mart\xedn de los Andes, Patagonia Argentina","rating":4.7,"totalReviews":64,"pricePerDay":20000,"languages":["Espa\xf1ol","Ingl\xe9s"],"bio":"Apasionada por la pesca con mosca y educadora por vocaci\xf3n. Luc\xeda se especializa en ense\xf1ar a principiantes en lagos de aguas claras.","services":[{"id":"s8","title":"Fly Fishing Intro","description":"Introducci\xf3n a la mosca","price":18000,"duration":"6 horas","difficulty":"Principiante","maxPeople":4,"includes":["Equipo b\xe1sico","Moscas","Snack"]}],"certifications":["Gu\xeda Habilitada","Primeros Auxilios"],"availability":{},"gallery":["/images/pexels-arch-1165125.jpg"],"contactInfo":{"phone":"+54 9 2972 111-222","email":"lucia.fernandez@patagoniafishing.com","whatsapp":"+5492972111222"}},{"id":"5","name":"Sebasti\xe1n Torres","age":34,"avatar":"/images/pexels-pixabay-301738.jpg","coverImage":"/images/pexels-pixabay-301738.jpg","specialties":["Spinning","Pesca en R\xedos","Trolling"],"experience":10,"location":"Bariloche, R\xedo Negro","rating":4.6,"totalReviews":72,"pricePerDay":23000,"languages":["Espa\xf1ol"],"bio":"Conocedor experto del Limay y el Manso. Sebasti\xe1n domina t\xe9cnicas de spinning y trolling con resultados constantes.","services":[{"id":"s9","title":"Spinning en R\xedo Limay","description":"Jornada completa en correderas","price":23000,"duration":"8 horas","difficulty":"Intermedio","maxPeople":3,"includes":["Se\xf1uelos","Transporte","Almuerzo"]}],"certifications":["Gu\xeda Regional","Primeros Auxilios"],"availability":{},"gallery":["/images/pexels-pixabay-301738.jpg"],"contactInfo":{"phone":"+54 9 294 222-3333","email":"sebastian.torres@patagoniafishing.com","whatsapp":"+5492942223333"}},{"id":"6","name":"Ana Quiroga","age":31,"avatar":"/images/pexels-szafran-18894390.jpg","coverImage":"/images/pexels-szafran-18894390.jpg","specialties":["Pesca en Lagos","Pesca desde Costa","Truchas"],"experience":9,"location":"Esquel, Chubut","rating":4.8,"totalReviews":98,"pricePerDay":21000,"languages":["Espa\xf1ol","Ingl\xe9s"],"bio":"Gu\xeda entusiasta con atenci\xf3n al detalle. Ana prioriza seguridad y experiencia personalizada en lagos cordilleranos.","services":[{"id":"s10","title":"Costa en Lago Futalaufquen","description":"Wading y lectura de orillas","price":21000,"duration":"7 horas","difficulty":"Intermedio","maxPeople":4,"includes":["Equipo","Refrigerio"]}],"certifications":["Habilitaci\xf3n Provincial","RCP"],"availability":{},"gallery":["/images/pexels-szafran-18894390.jpg"],"contactInfo":{"phone":"+54 9 2945 333-444","email":"ana.quiroga@patagoniafishing.com","whatsapp":"+5492945333444"}},{"id":"7","name":"Tom\xe1s Villalba","age":45,"avatar":"/images/pexels-pixabay-39854.jpg","coverImage":"/images/pexels-pixabay-39854.jpg","specialties":["Salmones","Trolling","Pesca en Lagos"],"experience":20,"location":"Coyhaique, Ays\xe9n","rating":4.9,"totalReviews":134,"pricePerDay":29000,"languages":["Espa\xf1ol"],"bio":"Especialista en salmones chinook y coho en lagos profundos. Tom\xe1s lidera salidas t\xe9cnicas con alto rendimiento.","services":[{"id":"s11","title":"Salmones T\xe9cnicos","description":"Downriggers y l\xedneas plomadas","price":29000,"duration":"9 horas","difficulty":"Avanzado","maxPeople":3,"includes":["Embarcaci\xf3n","Equipo","Almuerzo"]}],"certifications":["Capit\xe1n Deportivo","Seguridad N\xe1utica"],"availability":{},"gallery":["/images/pexels-pixabay-39854.jpg"],"contactInfo":{"phone":"+56 9 9999 8888","email":"tomas.villalba@patagoniafishing.com","whatsapp":"+56999998888"}}]');var Fe=r(900);async function qe(){try{var e,t;const r=(0,Fe.getSupabaseClient)(),{data:n}=await r.auth.getSession(),a=null===n||void 0===n||null===(e=n.session)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.id;if(!a)return console.log("No hay sesi\xf3n activa"),null;console.log("Buscando perfil para usuario:",a);const{data:s,error:i}=await r.from("user_profiles").select("*").eq("user_id",a).limit(1);if(i){if(console.error("Error al obtener perfil:",i),"PGRST116"===i.code)return console.log("Perfil no encontrado, creando uno por defecto"),await Be(a);throw i}return s&&0!==s.length?(console.log("Perfil encontrado:",s[0]),s[0]):(console.log("No se encontr\xf3 perfil, creando uno por defecto"),await Be(a))}catch(r){return console.error("Error en getCurrentUserProfile:",r),null}}async function Be(e){try{var t;const r=(0,Fe.getSupabaseClient)(),n=await async function(){const e=(0,Fe.getSupabaseClient)(),{data:{user:t},error:r}=await e.auth.getUser();if(r)throw r;return t}(),a={user_id:e,email:(null===n||void 0===n?void 0:n.email)||null,full_name:(null===n||void 0===n||null===(t=n.user_metadata)||void 0===t?void 0:t.full_name)||null,role:"user"};console.log("Creando perfil con datos:",a);const{data:s,error:i}=await r.from("user_profiles").insert(a).select().single();if(i)throw console.error("Error al crear perfil:",i),i;return console.log("Perfil creado exitosamente:",s),s}catch(r){throw console.error("Error en createDefaultUserProfile:",r),r}}const Qe=(0,t.createContext)({session:null,loading:!0,profile:null,role:"user",isAdmin:!1,isGuide:!1,canAccessAdmin:!1});function We(e){var r,n;let{children:a}=e;const s=(0,Fe.z)(),[i,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(!0),{data:u}=(0,Oe.useQuery)(["user-profile",null===i||void 0===i||null===(r=i.user)||void 0===r?void 0:r.id],()=>{var e;return null!==i&&void 0!==i&&null!==(e=i.user)&&void 0!==e&&e.id?qe():null},{enabled:!(null===i||void 0===i||null===(n=i.user)||void 0===n||!n.id),retry:2,staleTime:3e5});(0,t.useEffect)(()=>{if(!s)return void c(!1);s.auth.getSession().then(e=>{let{data:t}=e;o(t.session),c(!1)});const{data:e}=s.auth.onAuthStateChange(async(e,t)=>{var r;console.log("Auth state change:",e,null===t||void 0===t||null===(r=t.user)||void 0===r?void 0:r.email),"SIGNED_IN"===e&&t?console.log("Usuario autenticado exitosamente"):"SIGNED_OUT"===e&&console.log("Usuario cerr\xf3 sesi\xf3n"),o(t)});return()=>{e.subscription.unsubscribe()}},[s]);const d=(0,t.useMemo)(()=>({session:i,loading:l,profile:u||null,role:(null===u||void 0===u?void 0:u.role)||"user",isAdmin:"admin"===(null===u||void 0===u?void 0:u.role),isGuide:"guide"===(null===u||void 0===u?void 0:u.role)||"admin"===(null===u||void 0===u?void 0:u.role),canAccessAdmin:"admin"===(null===u||void 0===u?void 0:u.role)||"guide"===(null===u||void 0===u?void 0:u.role)}),[i,l,u]);return(0,Ae.jsx)(Qe.Provider,{value:d,children:a})}function Ve(){return(0,t.useContext)(Qe)}const He=()=>{const[e]=Re(),n=Z(),{session:a,profile:s}=Ve(),[i,o]=t.useState(!1),[l,c]=t.useState(!1),[u,d]=t.useState(!1);t.useEffect(()=>{const t=e.get("error_code"),r=(e.get("error_description"),e.get("message"));t&&(o(!0),setTimeout(()=>{o(!1),window.history.replaceState({},document.title,window.location.pathname)},5e3)),"profile_creation_pending"!==r||!a||s||u||(c(!0),sessionStorage.getItem("profile_creation_attempted")?(console.log("Ya se intent\xf3 crear el perfil anteriormente"),setTimeout(()=>{window.history.replaceState({},document.title,window.location.pathname),c(!1)},3e3)):(d(!0),sessionStorage.setItem("profile_creation_attempted","true"),h()))},[e,a,s,u]);const h=async()=>{if(null!==a&&void 0!==a&&a.user)try{var e;const{getSupabaseClient:t}=await Promise.resolve().then(r.bind(r,900)),n=t();console.log("Creando perfil para:",a.user.email);const{error:s}=await n.from("user_profiles").insert([{user_id:a.user.id,email:a.user.email,full_name:(null===(e=a.user.user_metadata)||void 0===e?void 0:e.full_name)||"Usuario",role:"user"}]);s?(console.error("Error creando perfil:",s),"23505"===s.code?(console.log("El perfil ya existe, problema de permisos RLS"),c(!1),alert("Tu perfil existe pero hay un problema de permisos. Contacta al administrador.")):c(!0)):(console.log("Perfil creado exitosamente"),c(!1),sessionStorage.removeItem("profile_creation_attempted"),setTimeout(()=>{window.location.reload()},1e3))}catch(t){console.error("Error en createUserProfile:",t),c(!0)}finally{d(!1),window.history.replaceState({},document.title,window.location.pathname)}},f=De.sort((e,t)=>t.rating-e.rating).slice(0,3);return(0,Ae.jsxs)("main",{className:"bg-gradient-to-b from-slate-800 via-gray-800 to-slate-900 min-h-screen font-sans",children:[i&&(0,Ae.jsx)("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg",children:(0,Ae.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ae.jsx)("span",{children:"\u26a0\ufe0f"}),(0,Ae.jsx)("span",{children:"Error de autenticaci\xf3n. El enlace ha expirado o es inv\xe1lido."}),(0,Ae.jsx)("button",{onClick:()=>n("/admin/login"),className:"underline hover:no-underline",children:"Ir al login"})]})}),l&&(0,Ae.jsx)("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-blue-500 text-white px-6 py-3 rounded-lg shadow-lg",children:(0,Ae.jsx)("div",{className:"flex items-center space-x-2",children:u?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Ae.jsx)("span",{children:"Creando tu perfil..."})]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("span",{children:"\u2705"}),(0,Ae.jsx)("span",{children:"Autenticaci\xf3n exitosa. Configurando tu cuenta..."})]})})}),(0,Ae.jsxs)("section",{className:"relative flex flex-col items-center justify-center h-[70vh] text-center overflow-hidden",children:[(0,Ae.jsx)("img",{src:"/images/pexels-cottonbro-4830248.jpg",alt:"Pesca en la Patagonia",className:"absolute inset-0 w-full h-full object-cover opacity-30"}),(0,Ae.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-black/40 to-black/60"}),(0,Ae.jsxs)("div",{className:"relative z-20 max-w-4xl mx-auto px-6",children:[(0,Ae.jsx)("h1",{className:"text-5xl md:text-7xl font-bold mb-6 bg-gradient-to-r from-emerald-300 via-cyan-300 to-emerald-300 bg-clip-text text-transparent drop-shadow-2xl",children:"Gu\xedas de Pesca Patag\xf3nica"}),(0,Ae.jsx)("p",{className:"text-xl md:text-2xl text-gray-200 mb-8 max-w-3xl mx-auto leading-relaxed drop-shadow-lg",children:"Conecta con gu\xedas expertos especializados en diferentes t\xe9cnicas de pesca. Desde principiantes hasta maestros, encuentra tu gu\xeda perfecto para la aventura de tu vida."}),(0,Ae.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Ae.jsx)(Ee,{to:"/guias",className:"px-8 py-4 bg-gradient-to-r from-emerald-600 to-cyan-600 text-white text-lg font-semibold rounded-full shadow-lg hover:from-emerald-500 hover:to-cyan-500 transition-all duration-300 transform hover:scale-105 animate-pulse hover:animate-none",children:"Encontrar tu Gu\xeda Ideal"}),(0,Ae.jsx)("a",{href:"#como-funciona",className:"px-8 py-4 border-2 border-emerald-400 text-emerald-300 text-lg font-semibold rounded-full hover:bg-emerald-400 hover:text-slate-900 transition-all duration-300 transform hover:scale-105",children:"C\xf3mo Funciona"}),(0,Ae.jsx)(Ee,{to:"/admin",className:"px-8 py-4 border-2 border-cyan-400 text-cyan-300 text-lg font-semibold rounded-full hover:bg-cyan-400 hover:text-slate-900 transition-all duration-300 transform hover:scale-105",children:"Ir al Admin"})]})]})]}),(0,Ae.jsx)("section",{id:"como-funciona",className:"py-20 bg-gradient-to-br from-slate-900 via-gray-900 to-slate-800",children:(0,Ae.jsxs)("div",{className:"max-w-6xl mx-auto px-6",children:[(0,Ae.jsx)("h2",{className:"text-4xl md:text-5xl font-bold text-center mb-16",children:(0,Ae.jsx)("span",{className:"bg-gradient-to-r from-emerald-300 to-cyan-300 bg-clip-text text-transparent",children:"C\xf3mo Funciona"})}),(0,Ae.jsxs)("div",{className:"grid md:grid-cols-4 gap-8",children:[(0,Ae.jsxs)("div",{className:"text-center group",children:[(0,Ae.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-cyan-500 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300",children:(0,Ae.jsx)("span",{className:"text-2xl font-bold text-white",children:"1"})}),(0,Ae.jsx)("h3",{className:"text-xl font-semibold text-white mb-3",children:"Explora Gu\xedas"}),(0,Ae.jsx)("p",{className:"text-gray-300",children:"Navega por nuestro cat\xe1logo de gu\xedas especializados y lee sus perfiles detallados."})]}),(0,Ae.jsxs)("div",{className:"text-center group",children:[(0,Ae.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-cyan-500 to-teal-500 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300",children:(0,Ae.jsx)("span",{className:"text-2xl font-bold text-white",children:"2"})}),(0,Ae.jsx)("h3",{className:"text-xl font-semibold text-white mb-3",children:"Elige tu Experiencia"}),(0,Ae.jsx)("p",{className:"text-gray-300",children:"Selecciona el tipo de pesca, nivel de dificultad y duraci\xf3n que prefieras."})]}),(0,Ae.jsxs)("div",{className:"text-center group",children:[(0,Ae.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-teal-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300",children:(0,Ae.jsx)("span",{className:"text-2xl font-bold text-white",children:"3"})}),(0,Ae.jsx)("h3",{className:"text-xl font-semibold text-white mb-3",children:"Reserva F\xe1cil"}),(0,Ae.jsx)("p",{className:"text-gray-300",children:"Reserva directamente con el gu\xeda y coordina todos los detalles de tu expedici\xf3n."})]}),(0,Ae.jsxs)("div",{className:"text-center group",children:[(0,Ae.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-cyan-500 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300",children:(0,Ae.jsx)("span",{className:"text-2xl font-bold text-white",children:"4"})}),(0,Ae.jsx)("h3",{className:"text-xl font-semibold text-white mb-3",children:"Vive la Aventura"}),(0,Ae.jsx)("p",{className:"text-gray-300",children:"Disfruta de tu experiencia y comparte tu feedback para ayudar a otros pescadores."})]})]}),(0,Ae.jsx)("div",{className:"text-center mt-12",children:(0,Ae.jsxs)(Ee,{to:"/guia-practica",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-emerald-600 to-cyan-600 text-white font-bold rounded-2xl shadow-xl hover:from-emerald-500 hover:to-cyan-500 transition-all duration-300 transform hover:scale-105 hover:shadow-2xl border-2 border-white/20",children:[(0,Ae.jsx)("svg",{className:"mr-3 w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ae.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Gu\xeda Pr\xe1ctica para Reservar",(0,Ae.jsx)("svg",{className:"ml-3 w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ae.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})}),(0,Ae.jsxs)("section",{id:"guias-destacados",className:"py-20 relative overflow-hidden",children:[(0,Ae.jsx)(Le,{}),(0,Ae.jsx)("h2",{className:"text-4xl md:text-5xl font-bold mb-16 text-center relative z-10",children:(0,Ae.jsx)("span",{className:"bg-gradient-to-r from-emerald-300 to-cyan-300 bg-clip-text text-transparent drop-shadow-2xl",children:"Gu\xedas Destacados"})}),(0,Ae.jsx)("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-10 px-4 relative z-10",children:f.map(e=>(0,Ae.jsxs)("div",{className:"group bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl overflow-hidden hover:scale-105 transition-all duration-500 border border-white/20 hover:bg-white/95 hover:shadow-3xl",children:[(0,Ae.jsxs)("div",{className:"w-full h-48 overflow-hidden relative",children:[(0,Ae.jsx)("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500"}),(0,Ae.jsxs)("div",{className:"absolute top-4 right-4 bg-amber-500 text-white px-3 py-1 rounded-full text-sm font-bold shadow-lg",children:["\u2b50 ",e.rating]})]}),(0,Ae.jsxs)("div",{className:"p-8 flex flex-col items-center",children:[(0,Ae.jsx)("h3",{className:"text-2xl font-bold text-slate-800 mb-2 group-hover:text-emerald-800 transition-colors",children:e.name}),(0,Ae.jsx)("p",{className:"text-emerald-600 font-medium mb-3",children:e.location}),(0,Ae.jsxs)("p",{className:"text-slate-600 text-center leading-relaxed group-hover:text-slate-700 transition-colors mb-4 line-clamp-3",children:[e.bio.substring(0,120),"..."]}),(0,Ae.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:e.specialties.slice(0,2).map((e,t)=>(0,Ae.jsx)("span",{className:"px-3 py-1 bg-gradient-to-r from-emerald-500/20 to-teal-500/20 rounded-full text-sm font-medium text-emerald-700",children:e},t))}),(0,Ae.jsxs)("div",{className:"mb-4 space-y-3",children:[(0,Ae.jsxs)("div",{className:"text-slate-600 text-sm",children:[e.experience," a\xf1os de experiencia"]}),(0,Ae.jsx)("div",{className:"bg-gradient-to-r from-emerald-50 to-cyan-50 p-3 rounded-xl border border-emerald-200",children:(0,Ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ae.jsx)(Ue,{price:e.pricePerDay,size:"md",showBothCurrencies:!0}),(0,Ae.jsx)("span",{className:"text-slate-600 text-sm font-medium",children:"/d\xeda"})]})})]}),(0,Ae.jsx)(Ee,{to:"/guia/".concat(e.id),className:"w-full bg-gradient-to-r from-emerald-600 to-cyan-600 text-white py-3 rounded-xl font-semibold hover:from-emerald-500 hover:to-cyan-500 transition-all duration-300 text-center block",children:"Ver Perfil"})]})]},e.id))}),(0,Ae.jsx)("div",{className:"text-center mt-12 relative z-10",children:(0,Ae.jsxs)(Ee,{to:"/guias",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-emerald-600 to-cyan-600 text-white font-semibold rounded-full shadow-lg hover:from-emerald-500 hover:to-cyan-500 transition-all duration-300 transform hover:scale-105",children:["Ver Todos los Gu\xedas",(0,Ae.jsx)("svg",{className:"ml-2 w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ae.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]}),(0,Ae.jsxs)("section",{className:"py-20 bg-gradient-to-br from-slate-800 via-gray-800 to-slate-900 relative overflow-hidden",children:[(0,Ae.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,Ae.jsx)("div",{className:"absolute top-0 left-0 w-96 h-96 bg-gradient-to-br from-emerald-600/10 to-transparent rounded-full blur-3xl"}),(0,Ae.jsx)("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-gradient-to-tl from-cyan-600/10 to-transparent rounded-full blur-3xl"}),(0,Ae.jsxs)("div",{className:"relative z-10",children:[(0,Ae.jsx)("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-16 text-center",children:(0,Ae.jsx)("span",{className:"bg-gradient-to-r from-emerald-300 to-cyan-300 bg-clip-text text-transparent",children:"Testimonios"})}),(0,Ae.jsxs)("div",{className:"max-w-6xl mx-auto grid md:grid-cols-3 gap-8 px-6",children:[(0,Ae.jsx)("div",{className:"group h-full",children:(0,Ae.jsxs)("blockquote",{className:"bg-white/5 backdrop-blur-md rounded-3xl shadow-2xl p-8 border border-white/10 hover:bg-white/10 transition-all duration-500 transform hover:-translate-y-2 h-full flex flex-col",children:[(0,Ae.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Ae.jsx)("img",{src:"/images/pexels-cottonbro-4830248.jpg",alt:"Juan",className:"w-16 h-16 rounded-full object-cover border-4 border-emerald-400/50"}),(0,Ae.jsxs)("div",{className:"ml-4",children:[(0,Ae.jsx)("h4",{className:"text-emerald-300 font-bold text-lg",children:"Juan P."}),(0,Ae.jsx)("p",{className:"text-gray-300 text-sm",children:"Buenos Aires"})]})]}),(0,Ae.jsx)("p",{className:"text-gray-200 text-lg leading-relaxed italic flex-grow",children:'"Una experiencia inolvidable, la Patagonia es m\xe1gica y el gu\xeda hizo todo perfecto. Los paisajes son de otro mundo."'}),(0,Ae.jsx)("div",{className:"flex mt-6",children:[...Array(5)].map((e,t)=>(0,Ae.jsx)("svg",{className:"w-5 h-5 text-emerald-400 fill-current",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{d:"M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"})},t))})]})}),(0,Ae.jsx)("div",{className:"group h-full",children:(0,Ae.jsxs)("blockquote",{className:"bg-white/5 backdrop-blur-md rounded-3xl shadow-2xl p-8 border border-white/10 hover:bg-white/10 transition-all duration-500 transform hover:-translate-y-2 h-full flex flex-col",children:[(0,Ae.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Ae.jsx)("img",{src:"/images/pexels-gasparzaldo-11250845.jpg",alt:"Mar\xeda",className:"w-16 h-16 rounded-full object-cover border-4 border-cyan-400/50"}),(0,Ae.jsxs)("div",{className:"ml-4",children:[(0,Ae.jsx)("h4",{className:"text-cyan-300 font-bold text-lg",children:"Mar\xeda L."}),(0,Ae.jsx)("p",{className:"text-gray-300 text-sm",children:"C\xf3rdoba"})]})]}),(0,Ae.jsx)("p",{className:"text-gray-200 text-lg leading-relaxed italic flex-grow",children:'"Pescar en estos paisajes fue un sue\xf1o hecho realidad. \xa1La atenci\xf3n al detalle es incre\xedble! Volver\xe9 sin dudas."'}),(0,Ae.jsx)("div",{className:"flex mt-6",children:[...Array(5)].map((e,t)=>(0,Ae.jsx)("svg",{className:"w-5 h-5 text-cyan-400 fill-current",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{d:"M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"})},t))})]})}),(0,Ae.jsx)("div",{className:"group h-full",children:(0,Ae.jsxs)("blockquote",{className:"bg-white/5 backdrop-blur-md rounded-3xl shadow-2xl p-8 border border-white/10 hover:bg-white/10 transition-all duration-500 transform hover:-translate-y-2 h-full flex flex-col",children:[(0,Ae.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Ae.jsx)("img",{src:"/images/hombre-pescando-en-el-rio.jpg",alt:"Carlos",className:"w-16 h-16 rounded-full object-cover border-4 border-teal-400/50"}),(0,Ae.jsxs)("div",{className:"ml-4",children:[(0,Ae.jsx)("h4",{className:"text-teal-300 font-bold text-lg",children:"Carlos R."}),(0,Ae.jsx)("p",{className:"text-gray-300 text-sm",children:"Mendoza"})]})]}),(0,Ae.jsx)("p",{className:"text-gray-200 text-lg leading-relaxed italic flex-grow",children:'"Profesionalismo de primera. Conoce cada rinc\xf3n y sabe exactamente d\xf3nde est\xe1n los mejores peces. Recomendado 100%"'}),(0,Ae.jsx)("div",{className:"flex mt-6",children:[...Array(5)].map((e,t)=>(0,Ae.jsx)("svg",{className:"w-5 h-5 text-teal-400 fill-current",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{d:"M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"})},t))})]})})]}),(0,Ae.jsx)("div",{className:"text-center mt-12",children:(0,Ae.jsxs)(Ee,{to:"/testimonios",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-emerald-600 to-cyan-600 text-white font-semibold rounded-full shadow-lg hover:from-emerald-500 hover:to-cyan-500 transition-all duration-300 transform hover:scale-105 hover:shadow-xl",children:[(0,Ae.jsx)("span",{children:"Ver M\xe1s Testimonios"}),(0,Ae.jsx)("svg",{className:"ml-2 w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ae.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]})]}),(0,Ae.jsxs)("section",{className:"py-24 bg-gradient-to-br from-slate-900 via-gray-800 to-slate-900",children:[(0,Ae.jsx)("h2",{className:"text-4xl md:text-5xl font-bold text-center mb-16",children:(0,Ae.jsx)("span",{className:"bg-gradient-to-r from-emerald-400 to-cyan-400 bg-clip-text text-transparent",children:"Galer\xeda de Experiencias"})}),(0,Ae.jsxs)("div",{className:"max-w-7xl mx-auto px-6",children:[(0,Ae.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 auto-rows-max",children:[(0,Ae.jsx)("div",{className:"col-span-2 row-span-2 group",children:(0,Ae.jsxs)("div",{className:"relative overflow-hidden rounded-2xl shadow-2xl h-80 transform transition-all duration-500 hover:scale-105 hover:shadow-emerald-500/25",children:[(0,Ae.jsx)("img",{src:"/images/silueta-de-un-hombre-pescando-en-la-playa-al-atardecer.jpg",alt:"Atardecer Patag\xf3nico",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),(0,Ae.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,Ae.jsx)("div",{className:"absolute bottom-4 left-4 text-white font-semibold text-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:"Atardecer M\xe1gico"})]})}),(0,Ae.jsx)("div",{className:"col-span-1 row-span-2 group",children:(0,Ae.jsxs)("div",{className:"relative overflow-hidden rounded-2xl shadow-lg h-80 transform transition-all duration-500 hover:scale-105",children:[(0,Ae.jsx)("img",{src:"/images/hombre-pescando-en-el-rio.jpg",alt:"Pesca en r\xedo",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),(0,Ae.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-emerald-600/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})}),(0,Ae.jsx)("div",{className:"col-span-1 row-span-1 group",children:(0,Ae.jsxs)("div",{className:"relative overflow-hidden rounded-xl shadow-lg h-36 transform transition-all duration-500 hover:scale-105",children:[(0,Ae.jsx)("img",{src:"/images/pexels-cottonbro-4830248.jpg",alt:"Equipo de pesca",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),(0,Ae.jsx)("div",{className:"absolute inset-0 bg-cyan-500/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})}),(0,Ae.jsx)("div",{className:"col-span-2 row-span-1 group",children:(0,Ae.jsxs)("div",{className:"relative overflow-hidden rounded-xl shadow-lg h-36 transform transition-all duration-500 hover:scale-105",children:[(0,Ae.jsx)("img",{src:"/images/pexels-gasparzaldo-11250845.jpg",alt:"Paisaje patag\xf3nico",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),(0,Ae.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500/30 to-cyan-500/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})}),(0,Ae.jsx)("div",{className:"col-span-1 row-span-1 group",children:(0,Ae.jsxs)("div",{className:"relative overflow-hidden rounded-xl shadow-lg h-36 transform transition-all duration-500 hover:scale-105",children:[(0,Ae.jsx)("img",{src:"/images/pexels-pixabay-39854.jpg",alt:"Lago cristalino",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),(0,Ae.jsx)("div",{className:"absolute inset-0 bg-blue-500/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})}),(0,Ae.jsx)("div",{className:"col-span-2 row-span-1 group",children:(0,Ae.jsxs)("div",{className:"relative overflow-hidden rounded-xl shadow-lg h-36 transform transition-all duration-500 hover:scale-105",children:[(0,Ae.jsx)("img",{src:"/images/pexels-gasparzaldo-11315286.jpg",alt:"Monta\xf1as nevadas",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),(0,Ae.jsx)("div",{className:"absolute inset-0 bg-gradient-to-l from-purple-500/30 to-pink-500/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})}),(0,Ae.jsx)("div",{className:"col-span-1 row-span-1 group",children:(0,Ae.jsxs)("div",{className:"relative overflow-hidden rounded-xl shadow-lg h-36 transform transition-all duration-500 hover:scale-105",children:[(0,Ae.jsx)("img",{src:"/images/pexels-pixabay-301738.jpg",alt:"Trucha capturada",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),(0,Ae.jsx)("div",{className:"absolute inset-0 bg-orange-500/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})}),(0,Ae.jsx)("div",{className:"col-span-2 row-span-1 group",children:(0,Ae.jsxs)("div",{className:"relative overflow-hidden rounded-xl shadow-lg h-36 transform transition-all duration-500 hover:scale-105",children:[(0,Ae.jsx)("img",{src:"/images/hombre-mayor-pesca-por-un-lago.jpg",alt:"Experiencia guiada",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),(0,Ae.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/30 to-blue-500/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})}),(0,Ae.jsx)("div",{className:"col-span-1 row-span-1 group",children:(0,Ae.jsxs)("div",{className:"relative overflow-hidden rounded-xl shadow-lg h-36 transform transition-all duration-500 hover:scale-105",children:[(0,Ae.jsx)("img",{src:"/images/pexels-thomas-svensson-1505611-3004745.jpg",alt:"T\xe9cnica de pesca",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),(0,Ae.jsx)("div",{className:"absolute inset-0 bg-teal-500/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})}),(0,Ae.jsx)("div",{className:"col-span-1 row-span-1 group",children:(0,Ae.jsxs)("div",{className:"relative overflow-hidden rounded-xl shadow-lg h-36 transform transition-all duration-500 hover:scale-105",children:[(0,Ae.jsx)("img",{src:"/images/pexels-d123x-848737.jpg",alt:"Pesca nocturna",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),(0,Ae.jsx)("div",{className:"absolute inset-0 bg-purple-500/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})})]}),(0,Ae.jsxs)("div",{className:"text-center mt-12",children:[(0,Ae.jsx)("p",{className:"text-gray-300 text-lg max-w-3xl mx-auto leading-relaxed mb-8",children:"Cada expedici\xf3n es \xfanica. Desde amaneceres dorados hasta atardeceres que pintan el cielo de colores impossibles, la Patagonia ofrece momentos que quedan grabados para siempre en la memoria."}),(0,Ae.jsxs)(Ee,{to:"/galeria",className:"group inline-flex items-center px-8 py-4 bg-gradient-to-r from-emerald-600 to-cyan-600 text-white font-semibold rounded-full shadow-lg hover:from-emerald-500 hover:to-cyan-500 transition-all duration-300 transform hover:scale-105 hover:shadow-xl",children:[(0,Ae.jsx)("span",{className:"mr-3",children:"Ver Galer\xeda Completa"}),(0,Ae.jsxs)("div",{className:"relative overflow-hidden",children:[(0,Ae.jsx)("svg",{className:"w-5 h-5 transform transition-transform duration-300 group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ae.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),(0,Ae.jsx)("svg",{className:"w-5 h-5 absolute top-0 left-0 transform translate-x-8 transition-transform duration-300 group-hover:translate-x-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ae.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})]}),(0,Ae.jsxs)("section",{className:"py-20 bg-gradient-to-br from-slate-800 via-gray-800 to-slate-900",children:[(0,Ae.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-8",children:(0,Ae.jsx)("span",{className:"bg-gradient-to-r from-emerald-300 to-cyan-300 bg-clip-text text-transparent",children:"Cont\xe1ctanos"})}),(0,Ae.jsxs)("form",{className:"max-w-xl mx-auto bg-white/5 backdrop-blur-md rounded-2xl shadow-2xl p-8 flex flex-col gap-6 border border-white/10",children:[(0,Ae.jsx)("input",{type:"text",placeholder:"Nombre",className:"p-3 rounded-lg border border-emerald-400/30 bg-white/10 backdrop-blur-sm text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:border-emerald-400"}),(0,Ae.jsx)("input",{type:"email",placeholder:"Correo electr\xf3nico",className:"p-3 rounded-lg border border-emerald-400/30 bg-white/10 backdrop-blur-sm text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:border-emerald-400"}),(0,Ae.jsx)("textarea",{placeholder:"\xbfEn qu\xe9 podemos ayudarte?",className:"p-3 rounded-lg border border-emerald-400/30 bg-white/10 backdrop-blur-sm text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:border-emerald-400 min-h-[100px]"}),(0,Ae.jsx)("button",{type:"submit",className:"bg-gradient-to-r from-emerald-600 to-teal-600 text-white font-bold py-3 rounded-lg shadow-lg hover:from-emerald-500 hover:to-teal-500 transition-all duration-500 transform hover:scale-105",children:"Enviar mensaje"})]})]}),(0,Ae.jsx)(ze,{}),(0,Ae.jsxs)("section",{className:"py-10 bg-gradient-to-r from-slate-900 via-gray-900 to-slate-800",children:[(0,Ae.jsx)("h2",{className:"text-2xl font-bold text-center mb-6",children:(0,Ae.jsx)("span",{className:"bg-gradient-to-r from-emerald-300 to-cyan-300 bg-clip-text text-transparent",children:"S\xedguenos en redes"})}),(0,Ae.jsxs)("div",{className:"flex justify-center gap-8 text-4xl",children:[(0,Ae.jsx)("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"hover:scale-125 transition-transform duration-300",children:(0,Ae.jsx)("svg",{className:"w-10 h-10 text-emerald-400",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ae.jsx)("path",{d:"M7.75 2h8.5A5.75 5.75 0 0 1 22 7.75v8.5A5.75 5.75 0 0 1 16.25 22h-8.5A5.75 5.75 0 0 1 2 16.25v-8.5A5.75 5.75 0 0 1 7.75 2zm0 1.5A4.25 4.25 0 0 0 3.5 7.75v8.5A4.25 4.25 0 0 0 7.75 20.5h8.5A4.25 4.25 0 0 0 20.5 16.25v-8.5A4.25 4.25 0 0 0 16.25 3.5zm4.25 2.25a5.25 5.25 0 1 1-5.25 5.25a5.25 5.25 0 0 1 5.25-5.25zm0 1.5a3.75 3.75 0 1 0 3.75 3.75a3.75 3.75 0 0 0-3.75-3.75zm5.25 1.25a1 1 0 1 1-2 0a1 1 0 0 1 2 0z"})})}),(0,Ae.jsx)("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"hover:scale-125 transition-transform duration-300",children:(0,Ae.jsx)("svg",{className:"w-10 h-10 text-cyan-400",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ae.jsx)("path",{d:"M17 2.1c-3.9 0-7 3.1-7 7v2H7v4h3v8h4v-8h3l1-4h-4V9c0-1.1.9-2 2-2h2V3.1c-.7-.1-1.4-.2-2-.2z"})})}),(0,Ae.jsx)("a",{href:"https://wa.me/5490000000000",target:"_blank",rel:"noopener noreferrer",className:"hover:scale-125 transition-transform duration-300",children:(0,Ae.jsx)("svg",{className:"w-10 h-10 text-teal-400",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ae.jsx)("path",{d:"M20.52 3.48A12.07 12.07 0 0 0 12 0C5.37 0 0 5.37 0 12c0 2.12.55 4.18 1.6 6.02L0 24l6.18-1.62A12.07 12.07 0 0 0 12 24c6.63 0 12-5.37 12-12c0-3.21-1.25-6.23-3.48-8.52zM12 22c-1.85 0-3.63-.5-5.18-1.44l-.37-.22l-3.67.96l.98-3.58l-.24-.37A9.98 9.98 0 0 1 2 12c0-5.52 4.48-10 10-10s10 4.48 10 10s-4.48 10-10 10zm5.2-7.6c-.28-.14-1.65-.81-1.9-.9c-.25-.09-.43-.14-.61.14c-.18.28-.7.9-.86 1.08c-.16.18-.32.2-.6.07c-.28-.14-1.18-.44-2.25-1.4c-.83-.74-1.39-1.65-1.55-1.93c-.16-.28-.02-.43.12-.57c.13-.13.28-.34.42-.51c.14-.17.18-.29.28-.48c.09-.19.05-.36-.02-.5c-.07-.14-.61-1.47-.84-2.01c-.22-.53-.45-.46-.61-.47c-.16-.01-.35-.01-.54-.01c-.19 0-.5.07-.76.34c-.26.27-1 1-1 2.43c0 1.43 1.03 2.81 1.18 3c.15.19 2.03 3.1 5.02 4.23c.7.24 1.25.38 1.68.48c.71.15 1.36.13 1.87.08c.57-.06 1.65-.67 1.89-1.32c.23-.65.23-1.2.16-1.32c-.07-.12-.25-.19-.53-.33z"})})}),(0,Ae.jsx)("a",{href:"mailto:info@patagoniafishing.com",className:"hover:scale-125 transition-transform duration-300",children:(0,Ae.jsx)("svg",{className:"w-10 h-10 text-emerald-300",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ae.jsx)("path",{d:"M2 4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4zm2 0v.01L12 13l8-8.99V4H4zm16 2.41l-7.29 7.3a1 1 0 0 1-1.42 0L4 6.41V20h16V6.41z"})})})]})]}),(0,Ae.jsx)(Ie,{})]})},Ge=e=>{let{to:t,label:r,className:n="inline-flex items-center text-emerald-300 hover:text-emerald-200 transition-colors mb-8"}=e;return(0,Ae.jsxs)(Ee,{to:t,className:n,children:[(0,Ae.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ae.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),r]})};function Ke(){const e=e=>({emerald:"border-emerald-400/50 text-emerald-300",cyan:"border-cyan-400/50 text-cyan-300",teal:"border-teal-400/50 text-teal-300",purple:"border-purple-400/50 text-purple-300",blue:"border-blue-400/50 text-blue-300",green:"border-green-400/50 text-green-300",indigo:"border-indigo-400/50 text-indigo-300",pink:"border-pink-400/50 text-pink-300",orange:"border-orange-400/50 text-orange-300"}[e]||"border-emerald-400/50 text-emerald-300");return(0,Ae.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 via-gray-800 to-slate-900",children:[(0,Ae.jsxs)("div",{className:"relative overflow-hidden",children:[(0,Ae.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,Ae.jsx)("div",{className:"absolute top-0 left-0 w-96 h-96 bg-gradient-to-br from-emerald-600/10 to-transparent rounded-full blur-3xl"}),(0,Ae.jsx)("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-gradient-to-tl from-cyan-600/10 to-transparent rounded-full blur-3xl"}),(0,Ae.jsx)("div",{className:"relative z-10 pt-20 pb-16 px-6",children:(0,Ae.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Ae.jsx)("div",{className:"text-left mb-8",children:(0,Ae.jsx)(Ge,{to:"/",label:"Volver al inicio"})}),(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsx)("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:(0,Ae.jsx)("span",{className:"bg-gradient-to-r from-emerald-300 to-cyan-300 bg-clip-text text-transparent",children:"Testimonios"})}),(0,Ae.jsx)("p",{className:"text-xl text-gray-300 leading-relaxed",children:"Descubre las experiencias de nuestros clientes en la Patagonia"})]})]})})]}),(0,Ae.jsx)("section",{className:"py-16 px-6",children:(0,Ae.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,Ae.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{id:1,nombre:"Juan P.",ciudad:"Buenos Aires",imagen:"/images/pexels-cottonbro-4830248.jpg",testimonio:"Una experiencia inolvidable, la Patagonia es m\xe1gica y el gu\xeda hizo todo perfecto. Los paisajes son de otro mundo.",rating:5,fecha:"Marzo 2024",servicio:"Pesca con Mosca",color:"emerald"},{id:2,nombre:"Mar\xeda L.",ciudad:"C\xf3rdoba",imagen:"/images/pexels-gasparzaldo-11250845.jpg",testimonio:"Pescar en estos paisajes fue un sue\xf1o hecho realidad. \xa1La atenci\xf3n al detalle es incre\xedble! Volver\xe9 sin dudas.",rating:5,fecha:"Febrero 2024",servicio:"Expedici\xf3n de Pesca",color:"cyan"},{id:3,nombre:"Carlos R.",ciudad:"Mendoza",imagen:"/images/hombre-pescando-en-el-rio.jpg",testimonio:"Profesionalismo de primera. Conoce cada rinc\xf3n y sabe exactamente d\xf3nde est\xe1n los mejores peces. Recomendado 100%",rating:5,fecha:"Enero 2024",servicio:"Gu\xeda Personalizada",color:"teal"},{id:4,nombre:"Ana S.",ciudad:"Rosario",imagen:"/images/pexels-martin-que-243128669-30179791.jpg",testimonio:"Mi primera vez pescando con mosca y no pudo haber sido mejor. El gu\xeda me ense\xf1\xf3 todo con mucha paciencia y captur\xe9 mi primera trucha.",rating:5,fecha:"Abril 2024",servicio:"Curso de Pesca con Mosca",color:"purple"},{id:5,nombre:"Roberto M.",ciudad:"La Plata",imagen:"/images/hombre-mayor-pesca-por-un-lago.jpg",testimonio:"A\xf1os pescando y nunca hab\xeda tenido una experiencia tan completa. La combinaci\xf3n de paisajes, t\xe9cnica y resultados fue perfecta.",rating:5,fecha:"Diciembre 2023",servicio:"Expedici\xf3n Avanzada",color:"blue"},{id:6,nombre:"Luc\xeda F.",ciudad:"Santa Fe",imagen:"/images/pexels-arch-1165125.jpg",testimonio:"Vinimos en familia y todos pudimos disfrutar. El gu\xeda adapt\xf3 la experiencia para que mis hijos de 12 y 15 a\xf1os tambi\xe9n participaran.",rating:5,fecha:"Noviembre 2023",servicio:"Pesca Familiar",color:"green"},{id:7,nombre:"Diego A.",ciudad:"Tucum\xe1n",imagen:"/images/pexels-lum3n-44775-294674.jpg",testimonio:"La organizaci\xf3n fue impecable desde el primer contacto. Transporte, equipos, comida, todo de primera calidad.",rating:5,fecha:"Octubre 2023",servicio:"Paquete Completo",color:"indigo"},{id:8,nombre:"Patricia L.",ciudad:"Salta",imagen:"/images/pexels-szafran-18894390.jpg",testimonio:"Como fot\xf3grafa, qued\xe9 maravillada con los lugares que visitamos. Las truchas fueron un bonus, pero los paisajes... incre\xedbles.",rating:5,fecha:"Septiembre 2023",servicio:"Tour Fotogr\xe1fico + Pesca",color:"pink"},{id:9,nombre:"Mart\xedn K.",ciudad:"Neuqu\xe9n",imagen:"/images/pexels-pixabay-39854.jpg",testimonio:"Local de la zona, pero nunca hab\xeda pescado con un gu\xeda profesional. Descubr\xed lugares que no conoc\xeda y t\xe9cnicas nuevas.",rating:5,fecha:"Agosto 2023",servicio:"Gu\xeda T\xe9cnica Local",color:"orange"}].map(t=>(0,Ae.jsx)("div",{className:"group h-full",children:(0,Ae.jsxs)("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl shadow-2xl p-8 border border-white/10 hover:bg-white/10 transition-all duration-500 transform hover:-translate-y-2 h-full flex flex-col",children:[(0,Ae.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Ae.jsx)("img",{src:t.imagen,alt:t.nombre,className:"w-16 h-16 rounded-full object-cover border-4 ".concat(e(t.color).split(" ")[0])}),(0,Ae.jsxs)("div",{className:"ml-4 flex-grow",children:[(0,Ae.jsx)("h4",{className:"font-bold text-lg ".concat(e(t.color).split(" ")[1]),children:t.nombre}),(0,Ae.jsx)("p",{className:"text-gray-300 text-sm",children:t.ciudad}),(0,Ae.jsx)("p",{className:"text-gray-400 text-xs",children:t.fecha})]})]}),(0,Ae.jsx)("div",{className:"mb-4",children:(0,Ae.jsx)("span",{className:"inline-block px-3 py-1 bg-white/10 rounded-full text-xs text-gray-300 font-medium",children:t.servicio})}),(0,Ae.jsxs)("p",{className:"text-gray-200 text-lg leading-relaxed italic flex-grow mb-6",children:['"',t.testimonio,'"']}),(0,Ae.jsx)("div",{className:"flex",children:[...Array(t.rating)].map((e,r)=>{return(0,Ae.jsx)("svg",{className:"w-5 h-5 ".concat((n=t.color,{emerald:"text-emerald-400",cyan:"text-cyan-400",teal:"text-teal-400",purple:"text-purple-400",blue:"text-blue-400",green:"text-green-400",indigo:"text-indigo-400",pink:"text-pink-400",orange:"text-orange-400"}[n]||"text-emerald-400")," fill-current"),viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{d:"M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"})},r);var n})})]})},t.id))})})}),(0,Ae.jsx)("section",{className:"py-16 px-6",children:(0,Ae.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,Ae.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:(0,Ae.jsx)("span",{className:"bg-gradient-to-r from-emerald-300 to-cyan-300 bg-clip-text text-transparent",children:"\xbfListo para tu pr\xf3xima aventura?"})}),(0,Ae.jsx)("p",{className:"text-xl text-gray-300 mb-8 leading-relaxed",children:"\xdanete a estos pescadores satisfechos y vive tu propia experiencia inolvidable en la Patagonia."}),(0,Ae.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Ae.jsx)("a",{href:"/#contacto",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-emerald-600 to-cyan-600 text-white font-semibold rounded-full shadow-lg hover:from-emerald-500 hover:to-cyan-500 transition-all duration-300 transform hover:scale-105",children:"Reservar Experiencia"}),(0,Ae.jsx)("a",{href:"/",className:"inline-flex items-center px-8 py-4 border-2 border-emerald-400 text-emerald-300 font-semibold rounded-full hover:bg-emerald-400 hover:text-slate-900 transition-all duration-300",children:"Ver Servicios"})]})]})}),(0,Ae.jsx)(Ie,{})]})}function $e(e){return $e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$e(e)}function Je(e){var t=function(e,t){if("object"!=$e(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$e(t)?t:t+""}function Ye(e,t,r){return(t=Je(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(r),!0).forEach(function(t){Ye(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xe(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function et(){const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)(!1),[s,i]=(0,t.useState)(1),[o,l]=(0,t.useState)(!0),[c,u]=(0,t.useState)(null),d=(0,t.useRef)(),h=[{id:1,src:"/images/silueta-de-un-hombre-pescando-en-la-playa-al-atardecer.jpg",alt:"Atardecer Patag\xf3nico",category:"Paisajes"},{id:2,src:"/images/hombre-pescando-en-el-rio.jpg",alt:"Pesca en r\xedo",category:"Acci\xf3n"},{id:3,src:"/images/pexels-cottonbro-4830248.jpg",alt:"Equipo de pesca",category:"Equipos"},{id:4,src:"/images/pexels-gasparzaldo-11250845.jpg",alt:"Paisaje patag\xf3nico",category:"Paisajes"},{id:5,src:"/images/pexels-pixabay-39854.jpg",alt:"Lago cristalino",category:"Paisajes"},{id:6,src:"/images/pexels-gasparzaldo-11315286.jpg",alt:"Monta\xf1as nevadas",category:"Paisajes"},{id:7,src:"/images/pexels-pixabay-301738.jpg",alt:"Trucha capturada",category:"Capturas"},{id:8,src:"/images/hombre-mayor-pesca-por-un-lago.jpg",alt:"Experiencia guiada",category:"Acci\xf3n"},{id:9,src:"/images/pexels-thomas-svensson-1505611-3004745.jpg",alt:"T\xe9cnica de pesca",category:"Acci\xf3n"},{id:10,src:"/images/pexels-d123x-848737.jpg",alt:"Pesca nocturna",category:"Paisajes"},{id:11,src:"/images/pexels-arch-1165125.jpg",alt:"R\xedo serpenteante",category:"Paisajes"},{id:12,src:"/images/pexels-martin-que-243128669-30179791.jpg",alt:"Amanecer en el lago",category:"Paisajes"},{id:13,src:"/images/pexels-lum3n-44775-294674.jpg",alt:"Pesca desde embarcaci\xf3n",category:"Acci\xf3n"},{id:14,src:"/images/pexels-szafran-18894390.jpg",alt:"Vista panor\xe1mica",category:"Paisajes"}],f=(()=>{const e=[];for(let t=0;t<100;t++){const r=h[t%h.length];e.push(Ze(Ze({},r),{},{id:t+1}))}return e})(),m=(0,t.useCallback)(async()=>{if(n||!o)return;a(!0),await new Promise(e=>setTimeout(e,500));const e=20*(s-1),t=e+20,c=f.slice(e,t);c.length>0&&(r(e=>[...e,...c]),i(e=>e+1)),t>=f.length&&l(!1),a(!1)},[s,n,o,f]),p=(0,t.useCallback)(e=>{n||(d.current&&d.current.disconnect(),d.current=new IntersectionObserver(e=>{e[0].isIntersecting&&o&&m()}),e&&d.current.observe(e))},[n,o,m]);(0,t.useEffect)(()=>{m()},[]);const[g,v]=(0,t.useState)("Todas"),x=["Todas","Paisajes","Acci\xf3n","Capturas","Equipos"],b="Todas"===g?e:e.filter(e=>e.category===g);return(0,Ae.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 via-gray-800 to-slate-900",children:[(0,Ae.jsxs)("div",{className:"relative overflow-hidden",children:[(0,Ae.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,Ae.jsx)("div",{className:"absolute top-0 left-0 w-96 h-96 bg-gradient-to-br from-emerald-600/10 to-transparent rounded-full blur-3xl"}),(0,Ae.jsx)("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-gradient-to-tl from-cyan-600/10 to-transparent rounded-full blur-3xl"}),(0,Ae.jsx)("div",{className:"relative z-10 pt-20 pb-16 px-6",children:(0,Ae.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Ae.jsx)("div",{className:"mb-8",children:(0,Ae.jsx)(Ge,{to:"/",label:"Volver al inicio"})}),(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsx)("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:(0,Ae.jsx)("span",{className:"bg-gradient-to-r from-emerald-300 to-cyan-300 bg-clip-text text-transparent",children:"Galer\xeda de Experiencias"})}),(0,Ae.jsx)("p",{className:"text-xl text-gray-300 leading-relaxed max-w-3xl mx-auto mb-8",children:"Descubre la belleza de la Patagonia a trav\xe9s de nuestra colecci\xf3n de momentos capturados durante las expediciones de pesca."}),(0,Ae.jsxs)("div",{className:"flex flex-wrap justify-center gap-8 text-center",children:[(0,Ae.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl px-6 py-4 border border-white/20",children:[(0,Ae.jsx)("div",{className:"text-2xl font-bold text-emerald-300",children:e.length}),(0,Ae.jsx)("div",{className:"text-sm text-gray-400",children:"Im\xe1genes Cargadas"})]}),(0,Ae.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl px-6 py-4 border border-white/20",children:[(0,Ae.jsx)("div",{className:"text-2xl font-bold text-cyan-300",children:x.length-1}),(0,Ae.jsx)("div",{className:"text-sm text-gray-400",children:"Categor\xedas"})]}),(0,Ae.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-xl px-6 py-4 border border-white/20",children:[(0,Ae.jsx)("div",{className:"text-2xl font-bold text-teal-300",children:f.length}),(0,Ae.jsx)("div",{className:"text-sm text-gray-400",children:"Total Disponibles"})]})]})]})]})})]}),(0,Ae.jsx)("section",{className:"py-8 px-6",children:(0,Ae.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,Ae.jsx)("div",{className:"flex flex-wrap justify-center gap-4",children:x.map(e=>(0,Ae.jsx)("button",{onClick:()=>v(e),className:"px-6 py-3 rounded-full font-medium transition-all duration-300 transform hover:scale-105 ".concat(g===e?"bg-gradient-to-r from-emerald-600 to-cyan-600 text-white shadow-lg":"bg-white/10 text-gray-300 hover:bg-white/20 hover:text-white"),children:e},e))})})}),(0,Ae.jsx)("section",{className:"pb-20 px-6",children:(0,Ae.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Ae.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 auto-rows-max",children:b.map((e,t)=>(0,Ae.jsx)("div",{ref:t===b.length-1?p:null,className:"group cursor-pointer transform transition-all duration-500 hover:scale-105 animate-fadeInUp",style:{animationDelay:"".concat(t%20*50,"ms"),animationFillMode:"both"},onClick:()=>u(e),children:(0,Ae.jsxs)("div",{className:"relative overflow-hidden rounded-2xl shadow-2xl hover:shadow-emerald-500/25 transition-shadow duration-500",children:[(0,Ae.jsx)("div",{className:"".concat(t%3===0?"aspect-[4/5]":t%5===0?"aspect-square":"aspect-[3/4]"),children:(0,Ae.jsx)("img",{src:e.src,alt:e.alt,className:"w-full h-full object-cover transform transition-transform duration-700 group-hover:scale-110",loading:"lazy"})}),(0,Ae.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,Ae.jsxs)("div",{className:"absolute bottom-4 left-4 right-4",children:[(0,Ae.jsx)("h3",{className:"text-white font-semibold text-lg mb-1",children:e.alt}),(0,Ae.jsx)("span",{className:"inline-block px-3 py-1 bg-emerald-500/80 rounded-full text-xs text-white font-medium",children:e.category})]})}),(0,Ae.jsx)("div",{className:"absolute top-4 right-4 bg-black/50 rounded-full p-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,Ae.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ae.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"})})})]})},e.id))}),n&&(0,Ae.jsx)("div",{className:"flex justify-center items-center py-16",children:(0,Ae.jsxs)("div",{className:"relative",children:[(0,Ae.jsx)("div",{className:"w-16 h-16 border-4 border-emerald-500/30 border-t-emerald-500 rounded-full animate-spin"}),(0,Ae.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:(0,Ae.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-emerald-500 to-cyan-500 rounded-full opacity-80 animate-pulse"})})]})}),!o&&!n&&(0,Ae.jsx)("div",{className:"text-center py-16",children:(0,Ae.jsxs)("div",{className:"inline-flex items-center px-6 py-3 bg-white/10 rounded-full backdrop-blur-md",children:[(0,Ae.jsx)("svg",{className:"w-5 h-5 text-emerald-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ae.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,Ae.jsx)("span",{className:"text-gray-300 font-medium",children:"Has visto todas nuestras experiencias"})]})})]})}),c&&(0,Ae.jsx)("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fadeIn",onClick:()=>u(null),children:(0,Ae.jsxs)("div",{className:"relative max-w-4xl max-h-full",children:[(0,Ae.jsx)("button",{onClick:()=>u(null),className:"absolute top-4 right-4 bg-black/50 text-white rounded-full p-2 hover:bg-black/70 transition-colors z-10",children:(0,Ae.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ae.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,Ae.jsx)("img",{src:c.src,alt:c.alt,className:"max-w-full max-h-full object-contain rounded-2xl shadow-2xl animate-scaleIn",onClick:e=>e.stopPropagation()}),(0,Ae.jsxs)("div",{className:"absolute bottom-4 left-4 right-4 bg-black/70 backdrop-blur-md rounded-xl p-4",children:[(0,Ae.jsx)("h3",{className:"text-white font-semibold text-xl mb-2",children:c.alt}),(0,Ae.jsx)("span",{className:"inline-block px-3 py-1 bg-emerald-500 rounded-full text-sm text-white font-medium",children:c.category})]})]})}),(0,Ae.jsx)(Ie,{})]})}async function tt(){const e=(0,Fe.getSupabaseClient)(),{data:t,error:r}=await e.from("guides").select("\n      *,\n      user_profiles (\n        avatar_url,\n        hero_image_url\n      )\n    ").order("created_at",{ascending:!1});if(r)throw r;return null!==t&&void 0!==t?t:[]}async function rt(e){const t=(0,Fe.getSupabaseClient)(),{data:r,error:n}=await t.from("guides").select("\n      *,\n      user_profiles (\n        avatar_url,\n        hero_image_url\n      )\n    ").eq("id",e).single();if(n)throw n;return null!==r&&void 0!==r?r:null}async function nt(e){const t=(0,Fe.getSupabaseClient)();if(!e.id){var r,n,a,s,i,o,l,c,u;const{data:d}=await t.auth.getSession(),h=null===d||void 0===d||null===(r=d.session)||void 0===r||null===(n=r.user)||void 0===n?void 0:n.id;if(!h)throw new Error("No hay sesi\xf3n para crear el gu\xeda");const f={name:null!==(a=e.name)&&void 0!==a?a:"",location:null!==(s=e.location)&&void 0!==s?s:null,bio:null!==(i=e.bio)&&void 0!==i?i:null,price_per_day:null!==(o=e.price_per_day)&&void 0!==o?o:null,age:null!==(l=e.age)&&void 0!==l?l:null,languages:null!==(c=e.languages)&&void 0!==c?c:null,specialties:null!==(u=e.specialties)&&void 0!==u?u:null,user_id:h};console.log("upsertGuide - insertPayload:",f);const{data:m,error:p}=await t.from("guides").insert(f).select().single();if(p)throw console.error("upsertGuide - insert error:",p),new Error(p.message||"No se pudo crear el gu\xeda");return console.log("upsertGuide - insert success:",m),m}const d={name:e.name,location:e.location,bio:e.bio,price_per_day:e.price_per_day,age:e.age,languages:e.languages,specialties:e.specialties};console.log("upsertGuide - updatePayload:",d);const{data:h,error:f}=await t.from("guides").update(d).eq("id",e.id).select().single();if(f)throw console.error("upsertGuide - update error:",f),new Error(f.message||"No se pudo actualizar el gu\xeda");return console.log("upsertGuide - update success:",h),h}async function at(e){const t=(0,Fe.getSupabaseClient)(),{data:r,error:n}=await t.from("guide_services").select("*").eq("guide_id",e).order("title");if(n)throw n;return null!==r&&void 0!==r?r:[]}async function st(){var e,t;const r=(0,Fe.getSupabaseClient)(),{data:n}=await r.auth.getSession(),a=null===n||void 0===n||null===(e=n.session)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.id;if(console.log("getCurrentUserGuide - sessionUserId:",a),!a)throw new Error("No hay sesi\xf3n activa");const{data:s,error:i}=await r.from("guides").select("*").eq("user_id",a).order("created_at",{ascending:!1}).limit(1);if(console.log("getCurrentUserGuide - data:",s),console.log("getCurrentUserGuide - error:",i),i)throw i;return s&&s.length>0?s[0]:null}async function it(){var e,t;const r=(0,Fe.getSupabaseClient)(),{data:n}=await r.auth.getSession(),a=null===n||void 0===n||null===(e=n.session)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.id;if(!a)throw new Error("No hay sesi\xf3n activa");const{data:s,error:i}=await r.from("guides").select("*").eq("user_id",a).order("created_at",{ascending:!1});if(i)throw i;return null!==s&&void 0!==s?s:[]}const ot=()=>{const[e,r]=(0,t.useState)([]),[n,a]=(0,t.useState)([]),[s,i]=(0,t.useState)("Todos"),[o,l]=(0,t.useState)("Todas"),[c,u]=(0,t.useState)("Todos");(0,t.useEffect)(()=>{!async function(){try{const e=(await tt()||[]).map(e=>{var t,r,n,a,s,i,o,l,c,u,d;return{id:e.id,name:e.name,age:null!==(t=e.age)&&void 0!==t?t:0,experience:0,specialties:null!==(r=e.specialties)&&void 0!==r?r:[],location:null!==(n=e.location)&&void 0!==n?n:"Patagonia",bio:null!==(a=e.bio)&&void 0!==a?a:"",avatar:null!==(s=e.avatar_url)&&void 0!==s?s:"/images/pexels-pixabay-301738.jpg",coverImage:null!==(i=e.cover_url)&&void 0!==i?i:null!==(o=e.avatar_url)&&void 0!==o?o:"/images/pexels-pixabay-301738.jpg",rating:Number(null!==(l=e.rating)&&void 0!==l?l:0),totalReviews:Number(null!==(c=e.total_reviews)&&void 0!==c?c:0),pricePerDay:Number(null!==(u=e.price_per_day)&&void 0!==u?u:0),languages:null!==(d=e.languages)&&void 0!==d?d:[],certifications:[],services:[],availability:{},gallery:[],contactInfo:void 0}});r(e),a(e)}catch(e){r([]),a([])}}()},[]),(0,t.useEffect)(()=>{let t=e;"Todos"!==s&&(t=t.filter(e=>e.specialties.includes(s))),"Todas"!==o&&(t=t.filter(e=>e.location===o)),"Todos"!==c&&(t=t.filter(e=>{switch(c){case"budget":return e.pricePerDay<=2e4;case"mid":return e.pricePerDay>2e4&&e.pricePerDay<=27e3;case"premium":return e.pricePerDay>27e3;default:return!0}})),a(t)},[s,o,c,e]);return(0,Ae.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-slate-800 via-gray-800 to-slate-900",children:[(0,Ae.jsxs)("section",{className:"relative h-[42vh] min-h-[300px] overflow-hidden",children:[(0,Ae.jsxs)("div",{className:"absolute inset-0",children:[(0,Ae.jsx)("img",{src:"/images/pexels-cottonbro-4830248.jpg",alt:"Gu\xedas de Pesca Patag\xf3nica",className:"w-full h-full object-cover opacity-30"}),(0,Ae.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-900/80 to-slate-800/60"})]}),(0,Ae.jsx)("div",{className:"absolute z-20 top-6 left-6",children:(0,Ae.jsx)(Ge,{to:"/",label:"Volver al inicio",className:"inline-flex items-center text-emerald-300 hover:text-emerald-200 transition-colors"})}),(0,Ae.jsx)("div",{className:"relative z-10 max-w-6xl mx-auto px-4 h-full flex items-center justify-center",children:(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsxs)("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-6",children:["Nuestros",(0,Ae.jsx)("span",{className:"bg-gradient-to-r from-emerald-300 to-cyan-300 bg-clip-text text-transparent ml-4",children:"Gu\xedas Expertos"})]}),(0,Ae.jsx)("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"Conoce a los mejores gu\xedas de pesca de la Patagonia. Cada uno con su especialidad \xfanica y a\xf1os de experiencia en aguas locales."})]})})]}),(0,Ae.jsx)("section",{className:"py-8 bg-white/5 backdrop-blur-sm",children:(0,Ae.jsx)("div",{className:"max-w-6xl mx-auto px-4",children:(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Especialidad"}),(0,Ae.jsx)("select",{value:s,onChange:e=>i(e.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-emerald-500",children:["Todos","Pesca con Mosca","Spinning","Salmones","Pesca Marina","Truchas","Pesca en R\xedos","Pesca en Lagos","Trolling","Pesca desde Costa"].map(e=>(0,Ae.jsx)("option",{value:e,className:"bg-slate-800",children:e},e))})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ubicaci\xf3n"}),(0,Ae.jsx)("select",{value:o,onChange:e=>l(e.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-emerald-500",children:["Todas","Puerto Varas, Regi\xf3n de los Lagos","Punta Arenas, Regi\xf3n de Magallanes","Villa La Angostura, Patagonia Chile"].map(e=>(0,Ae.jsx)("option",{value:e,className:"bg-slate-800",children:e},e))})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Rango de Precio"}),(0,Ae.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[(0,Ae.jsx)("option",{value:"Todos",className:"bg-slate-800",children:"Todos"}),(0,Ae.jsx)("option",{value:"budget",className:"bg-slate-800",children:"Hasta $20,000"}),(0,Ae.jsx)("option",{value:"mid",className:"bg-slate-800",children:"$20,000 - $27,000"}),(0,Ae.jsx)("option",{value:"premium",className:"bg-slate-800",children:"M\xe1s de $27,000"})]})]}),(0,Ae.jsx)("div",{className:"flex items-end",children:(0,Ae.jsx)("button",{onClick:()=>{i("Todos"),l("Todas"),u("Todos")},className:"w-full px-4 py-2 bg-gradient-to-r from-emerald-600 to-cyan-600 text-white font-medium rounded-lg hover:from-emerald-500 hover:to-cyan-500 transition-all duration-300",children:"Limpiar Filtros"})})]})})}),(0,Ae.jsx)("section",{className:"py-16",children:(0,Ae.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,Ae.jsx)("div",{className:"mb-8",children:(0,Ae.jsxs)("p",{className:"text-gray-300 text-lg",children:["Mostrando ",n.length," gu\xeda",1!==n.length?"s":""," disponible",1!==n.length?"s":""]})}),(0,Ae.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(e=>(0,Ae.jsxs)("div",{className:"group bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl overflow-hidden hover:scale-105 transition-all duration-500 border border-white/20 hover:bg-white/95 hover:shadow-3xl h-full flex flex-col",children:[(0,Ae.jsxs)("div",{className:"relative",children:[(0,Ae.jsx)("img",{src:e.avatar,alt:e.name,className:"w-full h-56 object-cover transform group-hover:scale-110 transition-transform duration-500"}),(0,Ae.jsxs)("div",{className:"absolute top-4 right-4 bg-amber-500 text-white px-3 py-1 rounded-full text-sm font-bold shadow-lg",children:["\u2b50 ",e.rating]}),(0,Ae.jsxs)("div",{className:"absolute top-4 left-4 bg-black/60 text-white px-3 py-1 rounded-full text-sm font-medium",children:[e.experience," a\xf1os exp."]})]}),(0,Ae.jsxs)("div",{className:"p-6 flex flex-col flex-grow",children:[(0,Ae.jsx)("h3",{className:"text-2xl font-bold text-slate-800 mb-2 group-hover:text-emerald-800 transition-colors",children:e.name}),(0,Ae.jsxs)("p",{className:"text-emerald-600 font-medium mb-3 flex items-center",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),e.location]}),(0,Ae.jsxs)("p",{className:"text-slate-600 text-sm leading-relaxed mb-4 flex-grow",children:[e.bio.substring(0,120),"..."]}),(0,Ae.jsx)("div",{className:"flex flex-wrap gap-2 mb-4 min-h-[2.5rem]",children:e.specialties.slice(0,3).map((e,t)=>(0,Ae.jsx)("span",{className:"px-3 py-1 bg-gradient-to-r from-emerald-500/20 to-teal-500/20 rounded-full text-xs font-medium text-emerald-700",children:e},t))}),(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ae.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Ae.jsx)(Ue,{price:e.pricePerDay,size:"md",showBothCurrencies:!1,className:"text-slate-800"}),(0,Ae.jsx)("span",{className:"text-sm text-slate-600",children:"/d\xeda"})]}),(0,Ae.jsxs)("div",{className:"text-sm text-slate-600",children:[e.totalReviews," rese\xf1as"]})]}),(0,Ae.jsxs)("div",{className:"space-y-3 mt-auto",children:[(0,Ae.jsx)(Ee,{to:"/guia/".concat(e.id),className:"block w-full text-center px-6 py-3 bg-gradient-to-r from-emerald-600 to-cyan-600 text-white font-semibold rounded-xl hover:from-emerald-500 hover:to-cyan-500 transition-all duration-300 transform hover:scale-105",children:"Ver Perfil Completo"}),(0,Ae.jsx)(Ee,{to:"/reservar/".concat(e.id),className:"block w-full text-center px-6 py-3 bg-white border-2 border-emerald-600 text-emerald-600 font-semibold rounded-xl hover:bg-emerald-50 transition-all duration-300",children:"Reservar Ahora"})]})]})]},e.id))}),0===n.length&&(0,Ae.jsxs)("div",{className:"text-center py-16",children:[(0,Ae.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfa3"}),(0,Ae.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"No se encontraron gu\xedas"}),(0,Ae.jsx)("p",{className:"text-gray-300 mb-8",children:"Intenta ajustar los filtros para encontrar el gu\xeda perfecto para ti."}),(0,Ae.jsx)("button",{onClick:()=>{i("Todos"),l("Todas"),u("Todos")},className:"px-8 py-3 bg-gradient-to-r from-emerald-600 to-cyan-600 text-white font-semibold rounded-xl hover:from-emerald-500 hover:to-cyan-500 transition-all duration-300",children:"Limpiar Todos los Filtros"})]})]})})]})},lt=JSON.parse('[{"id":"r1","guideId":"1","userName":"Alejandra P\xe9rez","userAvatar":"/images/user1.jpg","rating":5,"comment":"Carlos es un gu\xeda excepcional. Su conocimiento de los r\xedos es impresionante y las t\xe9cnicas que me ense\xf1\xf3 mejoraron mi pesca inmediatamente. Recomendado 100%.","date":"2025-07-15","photos":["/images/pexels-d123x-848737.jpg"],"verified":true},{"id":"r2","guideId":"1","userName":"Roberto Gonz\xe1lez","userAvatar":"/images/user2.jpg","rating":5,"comment":"Una experiencia inolvidable. Carlos nos llev\xf3 a spots secretos donde pescamos truchas incre\xedbles. Su paciencia para ense\xf1ar es admirable.","date":"2025-07-02","photos":[],"verified":true},{"id":"r3","guideId":"2","userName":"Fernando Mart\xedn","userAvatar":"/images/user3.jpg","rating":5,"comment":"Mar\xeda es una profesional incre\xedble. Su conocimiento del mar y las t\xe9cnicas de spinning son de primer nivel. Pescamos salmones enormes.","date":"2025-07-20","photos":["/images/pexels-cottonbro-4828253.jpg"],"verified":true},{"id":"r4","guideId":"3","userName":"Carolina Silva","userAvatar":"/images/user4.jpg","rating":5,"comment":"Jorge es una leyenda. Su experiencia de 28 a\xf1os se nota en cada detalle. Los lagos que conoce son espectaculares y los salmones enormes.","date":"2025-07-10","photos":["/images/pexels-gasparzaldo-11250845.jpg"],"verified":true},{"id":"r5","guideId":"1","userName":"Mateo Rodriguez","userAvatar":"/images/user5.jpg","rating":4,"comment":"Excelente jornada de pesca. Carlos es muy profesional y conoce perfectamente la zona. Solo una peque\xf1a demora al inicio, pero el resto perfecto.","date":"2025-06-28","photos":[],"verified":true}]'),ct=()=>{var e,r,n,a,s;const{id:i}=ee(),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)(0),[f,m]=(0,t.useState)(!1);if((0,t.useEffect)(()=>{!async function(){if(i)try{const p=await rt(i);if(p){var e,t,r,n,a,s,o,c,d,h,f,m;const i={id:p.id,name:p.name,age:null!==(e=p.age)&&void 0!==e?e:0,experience:0,specialties:null!==(t=p.specialties)&&void 0!==t?t:[],location:null!==(r=p.location)&&void 0!==r?r:"Patagonia",bio:null!==(n=p.bio)&&void 0!==n?n:"",avatar:null!==(a=null===(s=p.user_profiles)||void 0===s?void 0:s.avatar_url)&&void 0!==a?a:"/images/pexels-pixabay-301738.jpg",coverImage:null!==(o=null===(c=p.user_profiles)||void 0===c?void 0:c.hero_image_url)&&void 0!==o?o:"/images/pexels-gasparzaldo-11250845.jpg",rating:Number(null!==(d=p.rating)&&void 0!==d?d:0),totalReviews:Number(null!==(h=p.total_reviews)&&void 0!==h?h:0),pricePerDay:Number(null!==(f=p.price_per_day)&&void 0!==f?f:0),languages:null!==(m=p.languages)&&void 0!==m?m:[],certifications:[],services:[],availability:{},gallery:[],contactInfo:void 0},u=await at(p.id);i.services=u.map(e=>{var t,r,n,a,s;return{id:e.id,title:e.title,description:null!==(t=e.description)&&void 0!==t?t:"",duration:null!==(r=e.duration)&&void 0!==r?r:"",difficulty:e.difficulty||"Intermedio",maxPeople:null!==(n=e.max_people)&&void 0!==n?n:1,price:null!==(a=e.price)&&void 0!==a?a:0,includes:null!==(s=e.includes)&&void 0!==s?s:[]}}),l(i)}const g=lt.filter(e=>e.guideId===i);u(g)}catch(nr){l(null)}}()},[i]),!o)return(0,Ae.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-800 via-gray-800 to-slate-900 flex items-center justify-center",children:(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfa3"}),(0,Ae.jsx)("h2",{className:"text-3xl font-bold text-white mb-4",children:"Gu\xeda no encontrado"}),(0,Ae.jsx)(Ee,{to:"/guias",className:"px-6 py-3 bg-gradient-to-r from-emerald-600 to-cyan-600 text-white font-semibold rounded-xl hover:from-emerald-500 hover:to-cyan-500 transition-all duration-300",children:"Ver Todos los Gu\xedas"})]})});const p=f?c:c.slice(0,3);return(0,Ae.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-slate-800 via-gray-800 to-slate-900",children:[(0,Ae.jsxs)("section",{className:"relative h-96 overflow-hidden",children:[(0,Ae.jsx)("img",{src:o.coverImage||o.avatar,alt:o.name,className:"w-full h-full object-cover"}),(0,Ae.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),(0,Ae.jsx)("div",{className:"absolute top-8 left-8 z-30",children:(0,Ae.jsx)(Ge,{to:"/guias",label:"Volver a gu\xedas"})}),(0,Ae.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-8",children:(0,Ae.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,Ae.jsxs)("div",{className:"flex items-end gap-6",children:[(0,Ae.jsx)("img",{src:o.avatar,alt:o.name,className:"w-32 h-32 rounded-full border-4 border-white shadow-2xl object-cover"}),(0,Ae.jsxs)("div",{className:"text-white",children:[(0,Ae.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-2",children:o.name}),(0,Ae.jsxs)("div",{className:"flex items-center gap-4 text-lg",children:[(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),o.location]}),(0,Ae.jsxs)("div",{className:"flex items-center text-amber-500 font-semibold",children:["\u2b50 ",o.rating," (",o.totalReviews," rese\xf1as)"]}),(0,Ae.jsxs)("div",{children:[o.experience," a\xf1os de experiencia"]}),o.languages&&(0,Ae.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM4.332 8.027a6.012 6.012 0 011.912-2.706C6.512 5.73 6.974 6 7.5 6A1.5 1.5 0 019 7.5V8a2 2 0 004 0 2 2 0 011.523-1.943A5.977 5.977 0 0116 10c0 .34-.028.675-.083 1H15a2 2 0 00-2 2v2.197A5.973 5.973 0 0110 16v-2a2 2 0 00-2-2 2 2 0 01-2-2 2 2 0 00-1.668-1.973z",clipRule:"evenodd"})}),(0,Ae.jsxs)("span",{className:"text-sm text-slate-600",children:["Idiomas: ",o.languages.join(", ")]})]})]})]})]})})})]}),(0,Ae.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-12",children:(0,Ae.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[(0,Ae.jsxs)("div",{className:"lg:col-span-2 space-y-12",children:[(0,Ae.jsxs)("section",{className:"bg-white/90 backdrop-blur-sm rounded-3xl p-8 shadow-2xl",children:[(0,Ae.jsxs)("h2",{className:"text-3xl font-bold text-slate-800 mb-6",children:["Sobre ",o.name]}),(0,Ae.jsx)("p",{className:"text-slate-600 leading-relaxed text-lg",children:o.bio}),(0,Ae.jsxs)("div",{className:"mt-6",children:[(0,Ae.jsx)("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Especialidades"}),(0,Ae.jsx)("div",{className:"flex flex-wrap gap-3",children:o.specialties.map((e,t)=>(0,Ae.jsx)("span",{className:"px-4 py-2 bg-gradient-to-r from-emerald-500/20 to-teal-500/20 rounded-full text-sm font-medium text-emerald-700 border border-emerald-200",children:e},t))})]}),(0,Ae.jsxs)("div",{className:"mt-6",children:[(0,Ae.jsx)("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Certificaciones"}),(0,Ae.jsx)("div",{className:"space-y-2",children:o.certifications.map((e,t)=>(0,Ae.jsxs)("div",{className:"flex items-center text-slate-600",children:[(0,Ae.jsx)("svg",{className:"w-5 h-5 text-emerald-600 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e]},t))})]}),(0,Ae.jsxs)("div",{className:"mt-6",children:[(0,Ae.jsx)("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Idiomas"}),(0,Ae.jsx)("div",{className:"flex gap-3",children:o.languages.map((e,t)=>(0,Ae.jsx)("span",{className:"px-3 py-1 bg-slate-100 rounded-full text-sm font-medium text-slate-700",children:e},t))})]})]}),(0,Ae.jsxs)("section",{className:"bg-white/90 backdrop-blur-sm rounded-3xl p-8 shadow-2xl",children:[(0,Ae.jsx)("h2",{className:"text-3xl font-bold text-slate-800 mb-6",children:"Servicios Disponibles"}),(0,Ae.jsx)("div",{className:"flex flex-wrap gap-2 mb-6",children:null===(e=o.services)||void 0===e?void 0:e.map((e,t)=>(0,Ae.jsx)("button",{onClick:()=>h(t),className:"px-4 py-2 rounded-full font-medium transition-all duration-300 ".concat(d===t?"bg-gradient-to-r from-emerald-600 to-cyan-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"),children:e.title},t))}),o.services&&o.services[d]&&(0,Ae.jsxs)("div",{className:"border border-emerald-200 rounded-2xl p-6 bg-gradient-to-r from-emerald-50 to-cyan-50",children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h3",{className:"text-2xl font-bold text-slate-800",children:o.services[d].title}),(0,Ae.jsx)("p",{className:"text-slate-600 mt-2",children:o.services[d].description})]}),(0,Ae.jsxs)("div",{className:"text-right",children:[(0,Ae.jsx)(Ue,{price:o.services[d].price,size:"lg",showBothCurrencies:!0}),(0,Ae.jsx)("div",{className:"text-sm text-slate-600 mt-1",children:"por servicio"})]})]}),(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Ae.jsxs)("div",{className:"flex items-center text-slate-600",children:[(0,Ae.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),o.services[d].duration]}),(0,Ae.jsxs)("div",{className:"flex items-center text-slate-600",children:[(0,Ae.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"})}),"M\xe1x. ",o.services[d].maxPeople," personas"]}),(0,Ae.jsxs)("div",{className:"flex items-center text-slate-600",children:[(0,Ae.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M10 2L3 8v10a2 2 0 002 2h4a2 2 0 002-2v-4a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 002 2h4a2 2 0 002-2V8l-7-6z",clipRule:"evenodd"})}),o.services[d].difficulty]})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h4",{className:"font-semibold text-slate-800 mb-3",children:"Incluye:"}),(0,Ae.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:null===(r=o.services[d].includes)||void 0===r?void 0:r.map((e,t)=>(0,Ae.jsxs)("div",{className:"flex items-center text-slate-600",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 text-emerald-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e]},t))})]}),(0,Ae.jsx)("div",{className:"mt-6",children:(0,Ae.jsxs)(Ee,{to:"/reservar/".concat(o.id,"?service=").concat(d),className:"inline-flex items-center px-8 py-3 bg-gradient-to-r from-emerald-600 to-cyan-600 text-white font-semibold rounded-xl hover:from-emerald-500 hover:to-cyan-500 transition-all duration-300 transform hover:scale-105",children:["Reservar Este Servicio",(0,Ae.jsx)("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ae.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})]}),(0,Ae.jsxs)("section",{className:"bg-white/90 backdrop-blur-sm rounded-3xl p-8 shadow-2xl",children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ae.jsxs)("h2",{className:"text-3xl font-bold text-slate-800",children:["Rese\xf1as (",c.length,")"]}),(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("div",{className:"text-3xl font-bold text-emerald-600 mr-2",children:o.rating}),(0,Ae.jsx)("div",{className:"text-amber-400 text-xl",children:"\u2b50\u2b50\u2b50\u2b50\u2b50"})]})]}),(0,Ae.jsx)("div",{className:"space-y-6",children:p.map(e=>(0,Ae.jsx)("div",{className:"border-b border-gray-200 pb-6 last:border-b-0",children:(0,Ae.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Ae.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-emerald-400 to-cyan-400 rounded-full flex items-center justify-center text-white font-bold",children:e.userName.charAt(0)}),(0,Ae.jsxs)("div",{className:"flex-1",children:[(0,Ae.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Ae.jsx)("h4",{className:"font-semibold text-slate-800",children:e.userName}),(0,Ae.jsx)("div",{className:"flex text-amber-400",children:[...Array(5)].map((t,r)=>(0,Ae.jsx)("span",{className:r<e.rating?"text-amber-400":"text-gray-300",children:"\u2b50"},r))}),e.verified&&(0,Ae.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Verificada"}),(0,Ae.jsx)("span",{className:"text-sm text-slate-500",children:new Date(e.date).toLocaleDateString()})]}),(0,Ae.jsx)("p",{className:"text-slate-600 leading-relaxed",children:e.comment})]})]})},e.id))}),c.length>3&&(0,Ae.jsx)("div",{className:"text-center mt-6",children:(0,Ae.jsx)("button",{onClick:()=>m(!f),className:"px-6 py-3 border border-emerald-600 text-emerald-600 font-semibold rounded-xl hover:bg-emerald-50 transition-all duration-300",children:f?"Ver Menos":"Ver Todas las Rese\xf1as (".concat(c.length,")")})})]})]}),(0,Ae.jsxs)("div",{className:"space-y-8 sticky top-8",children:[(0,Ae.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl p-6 shadow-2xl z-20",children:[(0,Ae.jsxs)("h3",{className:"text-2xl font-bold text-slate-800 mb-4",children:["Contactar a ",o.name]}),(0,Ae.jsx)("div",{className:"space-y-4 mb-6",children:(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsx)(Ue,{price:o.pricePerDay,size:"lg",showBothCurrencies:!0}),(0,Ae.jsx)("div",{className:"text-slate-600 mt-1",children:"por d\xeda"})]})}),(0,Ae.jsxs)("div",{className:"space-y-3",children:[(0,Ae.jsx)(Ee,{to:"/reservar/".concat(o.id),className:"block w-full text-center px-6 py-3 bg-gradient-to-r from-emerald-600 to-cyan-600 text-white font-semibold rounded-xl hover:from-emerald-500 hover:to-cyan-500 transition-all duration-300 transform hover:scale-105",children:"Reservar Ahora"}),(0,Ae.jsx)("a",{href:"https://wa.me/".concat(null===(n=o.contactInfo)||void 0===n||null===(a=n.whatsapp)||void 0===a?void 0:a.replace(/[^0-9]/g,"")),target:"_blank",rel:"noopener noreferrer",className:"block w-full text-center px-6 py-3 bg-green-600 text-white font-semibold rounded-xl hover:bg-green-500 transition-all duration-300",children:(0,Ae.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Ae.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ae.jsx)("path",{d:"M20.52 3.48A12.07 12.07 0 0 0 12 0C5.37 0 0 5.37 0 12c0 2.12.55 4.18 1.6 6.02L0 24l6.18-1.62A12.07 12.07 0 0 0 12 24c6.63 0 12-5.37 12-12c0-3.21-1.25-6.23-3.48-8.52zM12 22c-1.85 0-3.63-.5-5.18-1.44l-.37-.22l-3.67.96l.98-3.58l-.24-.37A9.98 9.98 0 0 1 2 12c0-5.52 4.48-10 10-10s10 4.48 10 10s-4.48 10-10 10zm5.2-7.6c-.28-.14-1.65-.81-1.9-.9c-.25-.09-.43-.14-.61.14c-.18.28-.7.9-.86 1.08c-.16.18-.32.2-.6.07c-.28-.14-1.18-.44-2.25-1.4c-.83-.74-1.39-1.65-1.55-1.93c-.16-.28-.02-.43.12-.57c.13-.13.28-.34.42-.51c.14-.17.18-.29.28-.48c.09-.19.05-.36-.02-.5c-.07-.14-.61-1.47-.84-2.01c-.22-.53-.45-.46-.61-.47c-.16-.01-.35-.01-.54-.01c-.19 0-.5.07-.76.34c-.26.27-1 1-1 2.43c0 1.43 1.03 2.81 1.18 3c.15.19 2.03 3.1 5.02 4.23c.7.24 1.25.38 1.68.48c.71.15 1.36.13 1.87.08c.57-.06 1.65-.67 1.89-1.32c.23-.65.23-1.2.16-1.32c-.07-.12-.25-.19-.53-.33z"})}),"WhatsApp"]})}),(0,Ae.jsx)("a",{href:"mailto:".concat(null===(s=o.contactInfo)||void 0===s?void 0:s.email),className:"block w-full text-center px-6 py-3 border-2 border-emerald-600 text-emerald-600 font-semibold rounded-xl hover:bg-emerald-50 transition-all duration-300",children:"Enviar Email"})]}),(0,Ae.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,Ae.jsxs)("div",{className:"text-sm text-slate-600 space-y-2",children:[(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Respuesta r\xe1pida"]}),(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Gu\xeda certificado"]}),(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Cancelaci\xf3n flexible"]})]})})]}),(0,Ae.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl p-6 shadow-2xl z-30",children:[(0,Ae.jsx)("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Estad\xedsticas"}),(0,Ae.jsxs)("div",{className:"space-y-4",children:[(0,Ae.jsxs)("div",{className:"flex justify-between",children:[(0,Ae.jsx)("span",{className:"text-slate-600",children:"Expediciones realizadas"}),(0,Ae.jsxs)("span",{className:"font-semibold text-slate-800",children:[2*o.totalReviews,"+"]})]}),(0,Ae.jsxs)("div",{className:"flex justify-between",children:[(0,Ae.jsx)("span",{className:"text-slate-600",children:"A\xf1os de experiencia"}),(0,Ae.jsx)("span",{className:"font-semibold text-slate-800",children:o.experience})]}),(0,Ae.jsxs)("div",{className:"flex justify-between",children:[(0,Ae.jsx)("span",{className:"text-slate-600",children:"Rating promedio"}),(0,Ae.jsxs)("span",{className:"font-semibold text-slate-800",children:[o.rating," \u2b50"]})]}),(0,Ae.jsxs)("div",{className:"flex justify-between",children:[(0,Ae.jsx)("span",{className:"text-slate-600",children:"Tasa de respuesta"}),(0,Ae.jsx)("span",{className:"font-semibold text-emerald-600",children:"98%"})]})]})]})]})]})}),(0,Ae.jsx)(Ie,{})]})};function ut(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const dt=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},ht=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var ft={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mt=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],pt=(0,t.forwardRef)((e,r)=>{let{color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:c}=e,u=ut(e,mt);return(0,t.createElement)("svg",Ze(Ze(Ze({ref:r},ft),{},{width:a,height:a,stroke:n,strokeWidth:i?24*Number(s)/Number(a):s,className:ht("lucide",o)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"}),u),[...c.map(e=>{let[r,n]=e;return(0,t.createElement)(r,n)}),...Array.isArray(l)?l:[l]])}),gt=["className"],vt=(e,r)=>{const n=(0,t.forwardRef)((n,a)=>{let{className:s}=n,i=ut(n,gt);return(0,t.createElement)(pt,Ze({ref:a,iconNode:r,className:ht("lucide-".concat((o=dt(e),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),s)},i));var o});return n.displayName=dt(e),n},xt=vt("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),bt=vt("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),yt=vt("fish",[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]]),wt=vt("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),jt=vt("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Nt=vt("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),kt=vt("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),_t=vt("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),St=vt("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ct=vt("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),Et=vt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Pt=()=>{var e,r;const{id:n}=ee(),a=Z(),[s,i]=(0,t.useState)(null),[o,l]=(0,t.useState)(!0),[c,u]=(0,t.useState)(1),[d,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)(!1),[p,g]=(0,t.useState)(!1),[v,x]=(0,t.useState)(!1),[b,y]=(0,t.useState)({guideId:n||"",serviceId:"",date:"",time:"",people:1,totalPrice:0,paymentMethod:"",customerInfo:{name:"",email:"",phone:"",specialRequests:""}}),w=new URLSearchParams(window.location.search).get("service");(0,t.useEffect)(()=>{(async()=>{if(l(!0),await new Promise(e=>setTimeout(e,500)),n){const e=De.find(e=>e.id===n);if(i(e||null),w&&null!==e&&void 0!==e&&e.services){const t=e.services.find(e=>e.id===w);t&&y(e=>Ze(Ze({},e),{},{serviceId:w,totalPrice:t.price}))}}l(!1)})()},[n,w]);const j=e=>{var t;const r=null===s||void 0===s||null===(t=s.services)||void 0===t?void 0:t.find(e=>e.id===b.serviceId);y(t=>Ze(Ze({},t),{},{people:e,totalPrice:r?r.price*e:0}))},N=null===s||void 0===s||null===(e=s.services)||void 0===e?void 0:e.find(e=>e.id===b.serviceId);return o?(0,Ae.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-800 via-gray-800 to-slate-900 flex items-center justify-center",children:(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,Ae.jsx)("p",{className:"text-white text-lg",children:"Cargando informaci\xf3n del gu\xeda..."})]})}):s?p?(0,Ae.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-green-800 via-green-700 to-green-900 flex items-center justify-center",children:(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsxs)("div",{className:"relative",children:[(0,Ae.jsx)("div",{className:"w-32 h-32 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-8 animate-bounce",children:(0,Ae.jsx)(bt,{className:"w-16 h-16 text-white"})}),(0,Ae.jsx)("div",{className:"absolute inset-0 w-32 h-32 bg-green-400 rounded-full mx-auto animate-ping opacity-20"})]}),(0,Ae.jsx)("h1",{className:"text-5xl font-bold text-white mb-4 animate-pulse",children:"\xa1Felicidades!"}),(0,Ae.jsx)("p",{className:"text-green-100 text-xl mb-8",children:"Tu reserva ha sido confirmada exitosamente"}),(0,Ae.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 max-w-md mx-auto mb-8",children:[(0,Ae.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Detalles de tu reserva:"}),(0,Ae.jsxs)("p",{className:"text-green-100",children:["Gu\xeda: ",s.name]}),(0,Ae.jsxs)("p",{className:"text-green-100",children:["Servicio: ",null===N||void 0===N?void 0:N.title]}),(0,Ae.jsxs)("p",{className:"text-green-100",children:["Fecha: ",b.date]}),(0,Ae.jsxs)("p",{className:"text-green-100",children:["Personas: ",b.people]}),(0,Ae.jsxs)("p",{className:"text-green-100 font-semibold",children:["Total: $",b.totalPrice.toLocaleString()]})]}),(0,Ae.jsx)("button",{onClick:()=>a("/guias"),className:"bg-white text-green-800 px-8 py-3 rounded-lg font-semibold hover:bg-green-50 transition-colors",children:"Volver a Gu\xedas"})]})}):(0,Ae.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-slate-800 via-gray-800 to-slate-900",children:[(0,Ae.jsx)("div",{className:"bg-slate-900/50 backdrop-blur-sm border-b border-slate-700",children:(0,Ae.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-4",children:(0,Ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ae.jsxs)("button",{onClick:()=>a("/guias"),className:"flex items-center gap-2 text-gray-300 hover:text-white transition-colors",children:[(0,Ae.jsx)(xt,{className:"w-5 h-5"}),"Volver a Gu\xedas"]}),(0,Ae.jsx)("div",{className:"flex items-center gap-4",children:[1,2,3,4].map(e=>(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ".concat(e<=c?"bg-blue-600 text-white":"bg-gray-600 text-gray-300"),children:e}),e<4&&(0,Ae.jsx)("div",{className:"w-8 h-0.5 ".concat(e<c?"bg-blue-600":"bg-gray-600")})]},e))})]})})}),(0,Ae.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:(0,Ae.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,Ae.jsxs)("div",{className:"lg:col-span-2",children:[1===c&&(0,Ae.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl p-6 border border-slate-700",children:[(0,Ae.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,Ae.jsx)(yt,{className:"w-6 h-6 text-blue-400"}),"Selecciona tu experiencia"]}),(0,Ae.jsx)("div",{className:"space-y-4",children:null===(r=s.services)||void 0===r?void 0:r.map(e=>(0,Ae.jsx)("div",{onClick:()=>(e=>{var t;const r=null===s||void 0===s||null===(t=s.services)||void 0===t?void 0:t.find(t=>t.id===e);r&&y(t=>Ze(Ze({},t),{},{serviceId:e,totalPrice:r.price*t.people}))})(e.id),className:"p-4 rounded-lg border-2 cursor-pointer transition-all hover:scale-[1.02] ".concat(b.serviceId===e.id?"border-blue-500 bg-blue-500/10":"border-slate-600 bg-slate-700/30 hover:border-slate-500"),children:(0,Ae.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Ae.jsxs)("div",{className:"flex-1",children:[(0,Ae.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:e.title}),(0,Ae.jsx)("p",{className:"text-gray-300 text-sm mb-3",children:e.description}),(0,Ae.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[(0,Ae.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Ae.jsx)(wt,{className:"w-4 h-4"}),e.duration]}),(0,Ae.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Ae.jsx)(jt,{className:"w-4 h-4"}),"Max ",e.maxPeople," personas"]})]})]}),(0,Ae.jsxs)("div",{className:"text-right",children:[(0,Ae.jsxs)("div",{className:"text-2xl font-bold text-green-400",children:["$",e.price.toLocaleString()]}),(0,Ae.jsx)("div",{className:"text-sm text-gray-400",children:"por persona"})]})]})},e.id))})]}),2===c&&(0,Ae.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl p-6 border border-slate-700",children:[(0,Ae.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,Ae.jsx)(Nt,{className:"w-6 h-6 text-blue-400"}),"Fecha y hora"]}),(0,Ae.jsxs)("div",{className:"space-y-6",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-white font-semibold mb-2",children:"Fecha de expedici\xf3n"}),(0,Ae.jsx)("input",{type:"date",value:b.date,onChange:e=>y(t=>Ze(Ze({},t),{},{date:e.target.value})),min:(new Date).toISOString().split("T")[0],className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all"})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-white font-semibold mb-2",children:"Hora de inicio"}),(0,Ae.jsxs)("select",{value:b.time,onChange:e=>y(t=>Ze(Ze({},t),{},{time:e.target.value})),className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all",children:[(0,Ae.jsx)("option",{value:"",children:"Selecciona una hora"}),(0,Ae.jsx)("option",{value:"06:00",children:"06:00 AM - Salida temprana"}),(0,Ae.jsx)("option",{value:"08:00",children:"08:00 AM - Ma\xf1ana"}),(0,Ae.jsx)("option",{value:"10:00",children:"10:00 AM - Media ma\xf1ana"}),(0,Ae.jsx)("option",{value:"14:00",children:"02:00 PM - Tarde"}),(0,Ae.jsx)("option",{value:"16:00",children:"04:00 PM - Media tarde"})]})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-white font-semibold mb-2",children:"N\xfamero de participantes"}),(0,Ae.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ae.jsx)("button",{onClick:()=>j(Math.max(1,b.people-1)),className:"w-10 h-10 bg-slate-700 border border-slate-600 rounded-lg text-white hover:bg-slate-600 transition-colors",children:"-"}),(0,Ae.jsx)("span",{className:"text-xl font-semibold text-white min-w-[2rem] text-center",children:b.people}),(0,Ae.jsx)("button",{onClick:()=>j(Math.min((null===N||void 0===N?void 0:N.maxPeople)||10,b.people+1)),className:"w-10 h-10 bg-slate-700 border border-slate-600 rounded-lg text-white hover:bg-slate-600 transition-colors",children:"+"}),(0,Ae.jsxs)("span",{className:"text-gray-400 ml-4",children:["M\xe1ximo ",null===N||void 0===N?void 0:N.maxPeople," personas"]})]})]})]})]}),3===c&&(0,Ae.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl p-6 border border-slate-700",children:[(0,Ae.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,Ae.jsx)(kt,{className:"w-6 h-6 text-blue-400"}),"Informaci\xf3n de contacto"]}),(0,Ae.jsxs)("div",{className:"space-y-4",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-white font-semibold mb-2",children:"Nombre completo *"}),(0,Ae.jsx)("input",{type:"text",value:b.customerInfo.name,onChange:e=>y(t=>Ze(Ze({},t),{},{customerInfo:Ze(Ze({},t.customerInfo),{},{name:e.target.value})})),className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all",placeholder:"Ingresa tu nombre completo"})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-white font-semibold mb-2",children:"Correo electr\xf3nico *"}),(0,Ae.jsx)("input",{type:"email",value:b.customerInfo.email,onChange:e=>y(t=>Ze(Ze({},t),{},{customerInfo:Ze(Ze({},t.customerInfo),{},{email:e.target.value})})),className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all",placeholder:"tu@email.com"})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-white font-semibold mb-2",children:"Tel\xe9fono *"}),(0,Ae.jsx)("input",{type:"tel",value:b.customerInfo.phone,onChange:e=>y(t=>Ze(Ze({},t),{},{customerInfo:Ze(Ze({},t.customerInfo),{},{phone:e.target.value})})),className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all",placeholder:"+56 9 1234 5678"})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-white font-semibold mb-2",children:"Solicitudes especiales"}),(0,Ae.jsx)("textarea",{value:b.customerInfo.specialRequests,onChange:e=>y(t=>Ze(Ze({},t),{},{customerInfo:Ze(Ze({},t.customerInfo),{},{specialRequests:e.target.value})})),rows:4,className:"w-full p-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all",placeholder:"Menciona cualquier necesidad especial, experiencia previa en pesca, etc."})]})]})]}),4===c&&(0,Ae.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl p-6 border border-slate-700",children:[(0,Ae.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,Ae.jsx)(_t,{className:"w-6 h-6 text-blue-400"}),"M\xe9todo de pago"]}),(0,Ae.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,Ae.jsx)("div",{onClick:()=>y(e=>Ze(Ze({},e),{},{paymentMethod:"credit-card"})),className:"p-4 rounded-lg border-2 cursor-pointer transition-all ".concat("credit-card"===b.paymentMethod?"border-blue-500 bg-blue-500/10":"border-slate-600 bg-slate-700/30 hover:border-slate-500"),children:(0,Ae.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ae.jsx)(_t,{className:"w-6 h-6 text-blue-400"}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h3",{className:"text-white font-semibold",children:"Tarjeta de Cr\xe9dito"}),(0,Ae.jsx)("p",{className:"text-gray-400 text-sm",children:"Visa, Mastercard, American Express"})]})]})}),(0,Ae.jsx)("div",{onClick:()=>y(e=>Ze(Ze({},e),{},{paymentMethod:"webpay"})),className:"p-4 rounded-lg border-2 cursor-pointer transition-all ".concat("webpay"===b.paymentMethod?"border-blue-500 bg-blue-500/10":"border-slate-600 bg-slate-700/30 hover:border-slate-500"),children:(0,Ae.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ae.jsx)("div",{className:"w-6 h-6 bg-red-600 rounded flex items-center justify-center",children:(0,Ae.jsx)("span",{className:"text-white text-xs font-bold",children:"W"})}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h3",{className:"text-white font-semibold",children:"WebPay Chile"}),(0,Ae.jsx)("p",{className:"text-gray-400 text-sm",children:"Pago seguro con WebPay Plus"})]})]})})]}),(0,Ae.jsx)("div",{className:"border-t border-slate-600 pt-6",children:(0,Ae.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,Ae.jsx)("input",{type:"checkbox",id:"terms",checked:v,onChange:e=>x(e.target.checked),className:"mt-1 w-4 h-4 text-blue-600 border-slate-600 rounded focus:ring-blue-500"}),(0,Ae.jsxs)("label",{htmlFor:"terms",className:"text-gray-300 text-sm",children:["Acepto los"," ",(0,Ae.jsx)("button",{onClick:()=>h(!0),className:"text-blue-400 hover:text-blue-300 underline",children:"t\xe9rminos y condiciones"})," ","y las"," ",(0,Ae.jsx)("button",{onClick:()=>m(!0),className:"text-blue-400 hover:text-blue-300 underline",children:"pol\xedticas de cancelaci\xf3n"})]})]})})]}),(0,Ae.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,Ae.jsx)("button",{onClick:()=>{c>1&&u(c-1)},disabled:1===c,className:"px-6 py-3 rounded-lg font-semibold transition-colors ".concat(1===c?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-slate-700 text-white hover:bg-slate-600"),children:"Anterior"}),c<4?(0,Ae.jsxs)("button",{onClick:()=>{c<4&&u(c+1)},disabled:1===c&&!b.serviceId||2===c&&(!b.date||!b.time)||3===c&&(!b.customerInfo.name||!b.customerInfo.email||!b.customerInfo.phone),className:"px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2 ".concat((1!==c||b.serviceId)&&(2!==c||b.date&&b.time)&&(3!==c||b.customerInfo.name&&b.customerInfo.email&&b.customerInfo.phone)?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:["Siguiente",(0,Ae.jsx)(St,{className:"w-4 h-4"})]}):(0,Ae.jsx)("button",{onClick:async()=>{v?(g(!0),await new Promise(e=>setTimeout(e,3e3)),console.log("Booking confirmed:",b)):alert("Debes aceptar los t\xe9rminos y condiciones para continuar")},disabled:!b.paymentMethod||!v,className:"px-8 py-3 rounded-lg font-semibold transition-colors ".concat(b.paymentMethod&&v?"bg-green-600 text-white hover:bg-green-700":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:"Confirmar Reserva"})]})]}),(0,Ae.jsx)("div",{className:"lg:col-span-1",children:(0,Ae.jsxs)("div",{className:"sticky top-8 space-y-6",children:[(0,Ae.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl p-6 border border-slate-700",children:[(0,Ae.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,Ae.jsx)("img",{src:s.avatar,alt:s.name,className:"w-16 h-16 rounded-full object-cover"}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h3",{className:"text-lg font-semibold text-white",children:s.name}),(0,Ae.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Ae.jsx)(Ct,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,Ae.jsx)("span",{className:"text-yellow-400 font-semibold",children:s.rating}),(0,Ae.jsxs)("span",{className:"text-gray-400",children:["(",s.totalReviews," rese\xf1as)"]})]})]})]}),(0,Ae.jsx)("p",{className:"text-gray-300 text-sm",children:s.bio})]}),N&&(0,Ae.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl p-6 border border-slate-700",children:[(0,Ae.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Resumen de reserva"}),(0,Ae.jsxs)("div",{className:"space-y-3",children:[(0,Ae.jsxs)("div",{className:"flex justify-between",children:[(0,Ae.jsx)("span",{className:"text-gray-300",children:"Servicio:"}),(0,Ae.jsx)("span",{className:"text-white font-semibold",children:N.title})]}),b.date&&(0,Ae.jsxs)("div",{className:"flex justify-between",children:[(0,Ae.jsx)("span",{className:"text-gray-300",children:"Fecha:"}),(0,Ae.jsx)("span",{className:"text-white",children:b.date})]}),b.time&&(0,Ae.jsxs)("div",{className:"flex justify-between",children:[(0,Ae.jsx)("span",{className:"text-gray-300",children:"Hora:"}),(0,Ae.jsx)("span",{className:"text-white",children:b.time})]}),(0,Ae.jsxs)("div",{className:"flex justify-between",children:[(0,Ae.jsx)("span",{className:"text-gray-300",children:"Participantes:"}),(0,Ae.jsx)("span",{className:"text-white",children:b.people})]}),(0,Ae.jsxs)("div",{className:"border-t border-slate-600 pt-3",children:[(0,Ae.jsxs)("div",{className:"flex justify-between",children:[(0,Ae.jsx)("span",{className:"text-gray-300",children:"Precio por persona:"}),(0,Ae.jsxs)("span",{className:"text-white",children:["$",N.price.toLocaleString()]})]}),(0,Ae.jsxs)("div",{className:"flex justify-between text-lg font-bold",children:[(0,Ae.jsx)("span",{className:"text-white",children:"Total:"}),(0,Ae.jsxs)("span",{className:"text-green-400",children:["$",b.totalPrice.toLocaleString()]})]})]})]})]})]})})]})}),d&&(0,Ae.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,Ae.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ae.jsx)("h2",{className:"text-xl font-bold text-white",children:"T\xe9rminos y Condiciones"}),(0,Ae.jsx)("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-white",children:(0,Ae.jsx)(Et,{className:"w-6 h-6"})})]}),(0,Ae.jsxs)("div",{className:"text-gray-300 space-y-4",children:[(0,Ae.jsx)("p",{children:"Al reservar nuestros servicios de gu\xeda de pesca, usted acepta los siguientes t\xe9rminos:"}),(0,Ae.jsx)("h3",{className:"text-white font-semibold",children:"1. Condiciones del Servicio"}),(0,Ae.jsx)("p",{children:"- El servicio incluye gu\xeda especializado, equipo de pesca b\xe1sico y transporte seg\xfan se especifique."}),(0,Ae.jsx)("p",{children:"- Los horarios pueden variar seg\xfan condiciones clim\xe1ticas."}),(0,Ae.jsx)("h3",{className:"text-white font-semibold",children:"2. Responsabilidad"}),(0,Ae.jsx)("p",{children:"- Los participantes deben seguir todas las instrucciones de seguridad."}),(0,Ae.jsx)("p",{children:"- La empresa no se hace responsable por accidentes debido a negligencia del cliente."}),(0,Ae.jsx)("h3",{className:"text-white font-semibold",children:"3. Equipamiento"}),(0,Ae.jsx)("p",{children:"- Se recomienda traer ropa adecuada para las condiciones clim\xe1ticas."}),(0,Ae.jsx)("p",{children:"- El equipo de pesca b\xe1sico est\xe1 incluido, equipo especializado tiene costo adicional."})]}),(0,Ae.jsx)("button",{onClick:()=>h(!1),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-semibold mt-6",children:"Entendido"})]})}),f&&(0,Ae.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,Ae.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ae.jsx)("h2",{className:"text-xl font-bold text-white",children:"Pol\xedticas de Cancelaci\xf3n"}),(0,Ae.jsx)("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-white",children:(0,Ae.jsx)(Et,{className:"w-6 h-6"})})]}),(0,Ae.jsxs)("div",{className:"text-gray-300 space-y-4",children:[(0,Ae.jsx)("h3",{className:"text-white font-semibold",children:"Cancelaci\xf3n por parte del Cliente"}),(0,Ae.jsxs)("p",{children:["- ",(0,Ae.jsx)("strong",{children:"M\xe1s de 48 horas antes:"})," Reembolso completo (100%)"]}),(0,Ae.jsxs)("p",{children:["- ",(0,Ae.jsx)("strong",{children:"24-48 horas antes:"})," Reembolso del 50%"]}),(0,Ae.jsxs)("p",{children:["- ",(0,Ae.jsx)("strong",{children:"Menos de 24 horas:"})," Sin reembolso"]}),(0,Ae.jsx)("h3",{className:"text-white font-semibold",children:"Cancelaci\xf3n por Condiciones Clim\xe1ticas"}),(0,Ae.jsx)("p",{children:"- En caso de condiciones clim\xe1ticas adversas, se ofrecer\xe1 reprogramaci\xf3n sin costo."}),(0,Ae.jsx)("p",{children:"- Si no es posible reprogramar, se reembolsar\xe1 el 100% del pago."}),(0,Ae.jsx)("h3",{className:"text-white font-semibold",children:"Proceso de Reembolso"}),(0,Ae.jsx)("p",{children:"- Los reembolsos se procesan en 5-7 d\xedas h\xe1biles."}),(0,Ae.jsx)("p",{children:"- Se reembolsar\xe1 al mismo m\xe9todo de pago utilizado."})]}),(0,Ae.jsx)("button",{onClick:()=>m(!1),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-semibold mt-6",children:"Entendido"})]})})]}):(0,Ae.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-800 via-gray-800 to-slate-900 flex items-center justify-center",children:(0,Ae.jsxs)("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[(0,Ae.jsx)("h1",{className:"text-4xl font-bold text-white mb-4",children:"Gu\xeda no encontrado"}),(0,Ae.jsx)("p",{className:"text-gray-300 mb-8",children:"No pudimos encontrar la informaci\xf3n del gu\xeda solicitado."}),(0,Ae.jsxs)("button",{onClick:()=>a("/guias"),className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-semibold transition-colors inline-flex items-center gap-2",children:[(0,Ae.jsx)(xt,{className:"w-5 h-5"}),"Volver a Gu\xedas"]})]})})},Tt=()=>(0,Ae.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-slate-800 via-gray-800 to-slate-900",children:[(0,Ae.jsxs)("section",{className:"relative h-[40vh] min-h-[280px] overflow-hidden",children:[(0,Ae.jsxs)("div",{className:"absolute inset-0",children:[(0,Ae.jsx)("img",{src:"/images/pexels-cottonbro-4830248.jpg",alt:"Gu\xeda pr\xe1ctica de pesca",className:"w-full h-full object-cover opacity-30"}),(0,Ae.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-900/80 to-slate-800/60"})]}),(0,Ae.jsx)("div",{className:"absolute z-20 top-6 left-6",children:(0,Ae.jsx)(Ge,{to:"/",label:"Volver al inicio",className:"inline-flex items-center text-emerald-300 hover:text-emerald-200 transition-colors"})}),(0,Ae.jsx)("div",{className:"relative z-10 max-w-4xl mx-auto px-4 h-full flex items-center justify-center",children:(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsxs)("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-6",children:["Gu\xeda Pr\xe1ctica",(0,Ae.jsx)("span",{className:"bg-gradient-to-r from-emerald-300 to-cyan-300 bg-clip-text text-transparent block",children:"para Reservar"})]}),(0,Ae.jsx)("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"Todo lo que necesitas saber para reservar tu aventura de pesca perfecta en la Patagonia"})]})})]}),(0,Ae.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-16 space-y-12",children:[(0,Ae.jsx)("section",{className:"bg-white/95 backdrop-blur-sm rounded-3xl p-8 shadow-2xl",children:(0,Ae.jsxs)("div",{className:"flex items-start gap-6",children:[(0,Ae.jsx)("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-r from-emerald-600 to-cyan-600 rounded-full flex items-center justify-center text-white font-bold text-xl",children:"1"}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h2",{className:"text-3xl font-bold text-slate-800 mb-4",children:"Elige tu Gu\xeda Ideal"}),(0,Ae.jsx)("p",{className:"text-slate-600 text-lg leading-relaxed mb-6",children:"Explora nuestros gu\xedas expertos y encuentra el que mejor se adapte a tus necesidades. Cada gu\xeda tiene especialidades \xfanicas y diferentes niveles de experiencia."}),(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,Ae.jsxs)("div",{className:"flex items-center text-slate-600",children:[(0,Ae.jsx)("svg",{className:"w-5 h-5 text-emerald-600 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Revisa las especialidades de cada gu\xeda"]}),(0,Ae.jsxs)("div",{className:"flex items-center text-slate-600",children:[(0,Ae.jsx)("svg",{className:"w-5 h-5 text-emerald-600 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Lee las rese\xf1as de otros pescadores"]}),(0,Ae.jsxs)("div",{className:"flex items-center text-slate-600",children:[(0,Ae.jsx)("svg",{className:"w-5 h-5 text-emerald-600 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Compara precios y servicios"]}),(0,Ae.jsxs)("div",{className:"flex items-center text-slate-600",children:[(0,Ae.jsx)("svg",{className:"w-5 h-5 text-emerald-600 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Verifica la ubicaci\xf3n y accesibilidad"]})]}),(0,Ae.jsxs)(Ee,{to:"/guias",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-emerald-600 to-cyan-600 text-white font-semibold rounded-xl hover:from-emerald-500 hover:to-cyan-500 transition-all duration-300",children:["Ver Todos los Gu\xedas",(0,Ae.jsx)("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ae.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})}),(0,Ae.jsx)("section",{className:"bg-white/95 backdrop-blur-sm rounded-3xl p-8 shadow-2xl",children:(0,Ae.jsxs)("div",{className:"flex items-start gap-6",children:[(0,Ae.jsx)("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-r from-emerald-600 to-cyan-600 rounded-full flex items-center justify-center text-white font-bold text-xl",children:"2"}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h2",{className:"text-3xl font-bold text-slate-800 mb-4",children:"Selecciona tu Experiencia"}),(0,Ae.jsx)("p",{className:"text-slate-600 text-lg leading-relaxed mb-6",children:"Cada gu\xeda ofrece diferentes tipos de servicios. Desde clases para principiantes hasta expediciones avanzadas de varios d\xedas."}),(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[(0,Ae.jsxs)("div",{className:"border border-emerald-200 rounded-2xl p-4 bg-emerald-50",children:[(0,Ae.jsx)("div",{className:"text-emerald-600 font-semibold mb-2",children:"\ud83c\udfa3 Principiante"}),(0,Ae.jsx)("div",{className:"text-sm text-slate-600",children:"Clases b\xe1sicas, pesca desde costa, equipamiento incluido"})]}),(0,Ae.jsxs)("div",{className:"border border-cyan-200 rounded-2xl p-4 bg-cyan-50",children:[(0,Ae.jsx)("div",{className:"text-cyan-600 font-semibold mb-2",children:"\ud83d\udea4 Intermedio"}),(0,Ae.jsx)("div",{className:"text-sm text-slate-600",children:"Pesca embarcada, t\xe9cnicas avanzadas, spots exclusivos"})]}),(0,Ae.jsxs)("div",{className:"border border-teal-200 rounded-2xl p-4 bg-teal-50",children:[(0,Ae.jsx)("div",{className:"text-teal-600 font-semibold mb-2",children:"\ud83c\udfd4\ufe0f Avanzado"}),(0,Ae.jsx)("div",{className:"text-sm text-slate-600",children:"Expediciones remotas, camping, pesca de trofeos"})]})]}),(0,Ae.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:(0,Ae.jsxs)("div",{className:"flex items-start",children:[(0,Ae.jsx)("svg",{className:"w-6 h-6 text-yellow-600 mr-3 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("div",{className:"font-semibold text-yellow-800",children:"Consejo"}),(0,Ae.jsx)("div",{className:"text-yellow-700",children:"Si es tu primera vez, te recomendamos empezar con servicios para principiantes. Los gu\xedas adaptar\xe1n la experiencia a tu nivel."})]})]})})]})]})}),(0,Ae.jsx)("section",{className:"bg-white/95 backdrop-blur-sm rounded-3xl p-8 shadow-2xl",children:(0,Ae.jsxs)("div",{className:"flex items-start gap-6",children:[(0,Ae.jsx)("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-r from-emerald-600 to-cyan-600 rounded-full flex items-center justify-center text-white font-bold text-xl",children:"3"}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h2",{className:"text-3xl font-bold text-slate-800 mb-4",children:"Elige Fecha y Hora"}),(0,Ae.jsx)("p",{className:"text-slate-600 text-lg leading-relaxed mb-6",children:"La pesca tiene sus mejores momentos. Nuestros gu\xedas te ayudar\xe1n a elegir el momento perfecto seg\xfan las condiciones clim\xe1ticas y la actividad de los peces."}),(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h4",{className:"font-semibold text-slate-800 mb-3",children:"\ud83c\udf05 Mejores horarios"}),(0,Ae.jsxs)("ul",{className:"space-y-2 text-slate-600",children:[(0,Ae.jsxs)("li",{className:"flex items-center",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 text-emerald-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Amanecer (6:00 - 8:00 AM): Pesca m\xe1s activa"]}),(0,Ae.jsxs)("li",{className:"flex items-center",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 text-emerald-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Atardecer (17:00 - 19:00 PM): Truchas activas"]}),(0,Ae.jsxs)("li",{className:"flex items-center",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 text-emerald-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"D\xedas nublados: Excelente actividad todo el d\xeda"]})]})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h4",{className:"font-semibold text-slate-800 mb-3",children:"\ud83d\udcc5 Mejores \xe9pocas"}),(0,Ae.jsxs)("ul",{className:"space-y-2 text-slate-600",children:[(0,Ae.jsxs)("li",{className:"flex items-center",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 text-emerald-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Nov - Mar: Temporada alta, truchas grandes"]}),(0,Ae.jsxs)("li",{className:"flex items-center",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 text-emerald-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Abr - May: Menos turistas, pesca tranquila"]}),(0,Ae.jsxs)("li",{className:"flex items-center",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 text-emerald-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Sep - Oct: Inicio de temporada, peces hambrientos"]})]})]})]})]})]})}),(0,Ae.jsx)("section",{className:"bg-white/95 backdrop-blur-sm rounded-3xl p-8 shadow-2xl",children:(0,Ae.jsxs)("div",{className:"flex items-start gap-6",children:[(0,Ae.jsx)("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-r from-emerald-600 to-cyan-600 rounded-full flex items-center justify-center text-white font-bold text-xl",children:"4"}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h2",{className:"text-3xl font-bold text-slate-800 mb-4",children:"Completa tu Informaci\xf3n"}),(0,Ae.jsx)("p",{className:"text-slate-600 text-lg leading-relaxed mb-6",children:"Proporciona tus datos de contacto y nivel de experiencia para que el gu\xeda pueda preparar la mejor experiencia personalizada para ti."}),(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h4",{className:"font-semibold text-slate-800 mb-3",children:"\ud83d\udccb Informaci\xf3n requerida"}),(0,Ae.jsxs)("ul",{className:"space-y-2 text-slate-600",children:[(0,Ae.jsxs)("li",{className:"flex items-center",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 text-emerald-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Nombre completo"]}),(0,Ae.jsxs)("li",{className:"flex items-center",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 text-emerald-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Email de contacto"]}),(0,Ae.jsxs)("li",{className:"flex items-center",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 text-emerald-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Tel\xe9fono/WhatsApp"]}),(0,Ae.jsxs)("li",{className:"flex items-center",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 text-emerald-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Nivel de experiencia"]})]})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h4",{className:"font-semibold text-slate-800 mb-3",children:"\ud83d\udca1 Consejos \xfatiles"}),(0,Ae.jsxs)("ul",{className:"space-y-2 text-slate-600",children:[(0,Ae.jsxs)("li",{className:"flex items-center",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 text-emerald-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Menciona alergias alimentarias"]}),(0,Ae.jsxs)("li",{className:"flex items-center",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 text-emerald-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Indica necesidades especiales"]}),(0,Ae.jsxs)("li",{className:"flex items-center",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 text-emerald-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Preferencias de pesca"]}),(0,Ae.jsxs)("li",{className:"flex items-center",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 text-emerald-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Objetivos de aprendizaje"]})]})]})]})]})]})}),(0,Ae.jsx)("section",{className:"bg-white/95 backdrop-blur-sm rounded-3xl p-8 shadow-2xl",children:(0,Ae.jsxs)("div",{className:"flex items-start gap-6",children:[(0,Ae.jsx)("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-r from-emerald-600 to-cyan-600 rounded-full flex items-center justify-center text-white font-bold text-xl",children:"5"}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h2",{className:"text-3xl font-bold text-slate-800 mb-4",children:"Confirma y Paga"}),(0,Ae.jsx)("p",{className:"text-slate-600 text-lg leading-relaxed mb-6",children:"Revisa todos los detalles de tu reserva y elige tu m\xe9todo de pago preferido. Ofrecemos flexibilidad para que puedas pagar como m\xe1s te convenga."}),(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h4",{className:"font-semibold text-slate-800 mb-3",children:"\ud83d\udcb3 Opciones de pago"}),(0,Ae.jsxs)("ul",{className:"space-y-2 text-slate-600",children:[(0,Ae.jsxs)("li",{className:"flex items-center",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 text-emerald-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Transferencia bancaria"]}),(0,Ae.jsxs)("li",{className:"flex items-center",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 text-emerald-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Efectivo en el lugar"]}),(0,Ae.jsxs)("li",{className:"flex items-center",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 text-emerald-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"MercadoPago (pr\xf3ximamente)"]})]})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h4",{className:"font-semibold text-slate-800 mb-3",children:"\ud83d\udd12 Pol\xedtica de cancelaci\xf3n"}),(0,Ae.jsxs)("ul",{className:"space-y-2 text-slate-600",children:[(0,Ae.jsxs)("li",{className:"flex items-center",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 text-emerald-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Cancelaci\xf3n gratuita hasta 48hs antes"]}),(0,Ae.jsxs)("li",{className:"flex items-center",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 text-emerald-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Reprogramaci\xf3n por clima sin costo"]}),(0,Ae.jsxs)("li",{className:"flex items-center",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4 text-emerald-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ae.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Confirmaci\xf3n inmediata por WhatsApp"]})]})]})]})]})]})}),(0,Ae.jsxs)("section",{className:"bg-white/95 backdrop-blur-sm rounded-3xl p-8 shadow-2xl",children:[(0,Ae.jsx)("h2",{className:"text-3xl font-bold text-slate-800 mb-8 text-center",children:"Preguntas Frecuentes"}),(0,Ae.jsxs)("div",{className:"space-y-6",children:[(0,Ae.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,Ae.jsx)("h3",{className:"text-xl font-semibold text-slate-800 mb-3",children:"\xbfQu\xe9 incluye el precio?"}),(0,Ae.jsx)("p",{className:"text-slate-600",children:"Todos nuestros servicios incluyen el equipamiento b\xe1sico de pesca, gu\xeda experto, y almuerzo (en servicios de d\xeda completo). Los detalles espec\xedficos var\xedan seg\xfan el servicio elegido."})]}),(0,Ae.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,Ae.jsx)("h3",{className:"text-xl font-semibold text-slate-800 mb-3",children:"\xbfQu\xe9 debo llevar?"}),(0,Ae.jsx)("p",{className:"text-slate-600",children:"Ropa c\xf3moda de abrigo, calzado antideslizante, gorra, protector solar, c\xe1mara fotogr\xe1fica y ganas de disfrutar. El gu\xeda te enviar\xe1 una lista detallada al confirmar."})]}),(0,Ae.jsxs)("div",{className:"border-b border-gray-200 pb-6",children:[(0,Ae.jsx)("h3",{className:"text-xl font-semibold text-slate-800 mb-3",children:"\xbfPuedo reservar para un grupo?"}),(0,Ae.jsx)("p",{className:"text-slate-600",children:"\xa1Por supuesto! Cada servicio tiene un m\xe1ximo de participantes. Para grupos grandes, podemos coordinar m\xfaltiples gu\xedas o servicios especiales."})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h3",{className:"text-xl font-semibold text-slate-800 mb-3",children:"\xbfQu\xe9 pasa si llueve?"}),(0,Ae.jsx)("p",{className:"text-slate-600",children:"Los d\xedas nublados suelen ser excelentes para pescar. En caso de mal tiempo severo, ofrecemos reprogramaci\xf3n sin costo adicional."})]})]})]}),(0,Ae.jsx)("section",{className:"text-center",children:(0,Ae.jsxs)("div",{className:"bg-gradient-to-r from-emerald-600 to-cyan-600 rounded-3xl p-8 text-white",children:[(0,Ae.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"\xbfListo para tu Aventura?"}),(0,Ae.jsx)("p",{className:"text-xl mb-8 opacity-90",children:"Comienza ahora y reserva tu experiencia de pesca en la Patagonia"}),(0,Ae.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[(0,Ae.jsx)(Ee,{to:"/guias",className:"px-8 py-4 bg-white text-emerald-600 font-semibold rounded-xl hover:bg-gray-100 transition-all duration-300 transform hover:scale-105",children:"Ver Gu\xedas Disponibles"}),(0,Ae.jsx)("a",{href:"https://wa.me/5490000000000",target:"_blank",rel:"noopener noreferrer",className:"px-8 py-4 border-2 border-white text-white font-semibold rounded-xl hover:bg-white hover:text-emerald-600 transition-all duration-300",children:"Consultar por WhatsApp"})]})]})})]})]}),Rt=vt("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Ot=vt("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),At=vt("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),Lt=vt("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),It=JSON.parse('[{"id":"p1","name":"Moscas Artesanales Patag\xf3nicas","category":"se\xf1uelos","price":2500,"description":"Set de 12 moscas artesanales para trucha y salm\xf3n, atadas a mano por maestros locales","image":"/images/productos/moscas-patagonicas.jpg","inStock":true,"featured":true,"specifications":{"cantidad":"12 unidades","especies":"Trucha marr\xf3n, trucha arco\xedris, salm\xf3n","tipo":"Moscas secas y h\xfamedas"}},{"id":"p2","name":"Multifilamento Premium 8x","category":"multifilamentos","price":15000,"description":"L\xednea de multifilamento de 8 hebras para pesca deportiva en aguas patag\xf3nicas","image":"/images/productos/multifilamento-8x.jpg","inStock":true,"featured":true,"specifications":{"resistencia":"30 lb","longitud":"300 metros","color":"Verde musgo","tipo":"8 hebras PE"}},{"id":"p3","name":"Ca\xf1a Patagonia Pro Fly 9\'","category":"ca\xf1as","price":85000,"description":"Ca\xf1a de grafito premium para pesca con mosca, dise\xf1ada espec\xedficamente para r\xedos patag\xf3nicos","image":"/images/productos/cana-patagonia-pro.jpg","inStock":true,"featured":true,"specifications":{"longitud":"9 pies","peso":"5-6 wt","piezas":"4 secciones","material":"Grafito IM8"}},{"id":"p4","name":"Se\xf1uelos Spinner Trucha","category":"se\xf1uelos","price":4500,"description":"Set de 6 spinners efectivos para trucha en lagos y r\xedos de la Patagonia","image":"/images/productos/spinners-trucha.jpg","inStock":true,"featured":false,"specifications":{"cantidad":"6 unidades","pesos":"3g, 5g, 7g","colores":"Dorado, plata, cobre","anzuelos":"Triple reforzado"}},{"id":"p5","name":"Reel Cient\xedfico Patagonia 5/6","category":"accesorios","price":45000,"description":"Reel de aluminio mecanizado para pesca con mosca, resistente a la corrosi\xf3n","image":"/images/productos/reel-cientifico.jpg","inStock":true,"featured":true,"specifications":{"peso":"5-6 wt","capacidad":"WF6F + 100m backing","material":"Aluminio aeron\xe1utico","freno":"Disco sellado"}},{"id":"p6","name":"Chaleco de Pesca Premium","category":"accesorios","price":32000,"description":"Chaleco t\xe9cnico con m\xfaltiples bolsillos y sistema de flotaci\xf3n integrado","image":"/images/productos/chaleco-premium.jpg","inStock":true,"featured":false,"specifications":{"material":"Nylon ripstop","tallas":"S, M, L, XL","bolsillos":"12 compartimentos","flotaci\xf3n":"Espuma EVA"}},{"id":"p7","name":"L\xednea de Fly WF6F Patagonia","category":"multifilamentos","price":25000,"description":"L\xednea flotante profesional para pesca con mosca en aguas fr\xedas","image":"/images/productos/linea-fly-wf6f.jpg","inStock":true,"featured":false,"specifications":{"tipo":"Weight Forward Floating","peso":"6 weight","longitud":"30 metros","color":"Verde oliva"}},{"id":"p8","name":"Cucharas Rotativas Salm\xf3n","category":"se\xf1uelos","price":6500,"description":"Set de cucharas rotativas especialmente dise\xf1adas para salm\xf3n chinook y coho","image":"/images/productos/cucharas-salmon.jpg","inStock":false,"featured":false,"specifications":{"cantidad":"4 unidades","tama\xf1os":"2, 3, 4, 5","colores":"Plata, oro, cobre, rainbow","especies":"Salm\xf3n chinook, coho"}},{"id":"p9","name":"Ca\xf1a Spinning Lago 7\'6\\"","category":"ca\xf1as","price":65000,"description":"Ca\xf1a de spinning de acci\xf3n media para pesca en lagos patag\xf3nicos","image":"/images/productos/cana-spinning-lago.jpg","inStock":true,"featured":false,"specifications":{"longitud":"7\'6\\" pies","acci\xf3n":"Media","peso":"10-25g","piezas":"2 secciones"}},{"id":"p10","name":"Kit Accesorios Completo","category":"accesorios","price":28000,"description":"Kit completo con alicates, cortahilos, porta moscas y accesorios esenciales","image":"/images/productos/kit-accesorios.jpg","inStock":true,"featured":true,"specifications":{"incluye":"Alicates, cortahilos, porta moscas, desanzuelador","material":"Acero inoxidable","estuche":"Nylon resistente al agua","peso":"450g"}}]'),Mt=()=>{const[e]=(0,t.useState)(It),[r,n]=(0,t.useState)("todos"),[a,s]=(0,t.useState)([]),[i,o]=(0,t.useState)(!1),l="todos"===r?e:e.filter(e=>e.category===r),c=()=>a.reduce((e,t)=>e+t.quantity,0);return(0,Ae.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white",children:[(0,Ae.jsx)("div",{className:"bg-gradient-to-r from-slate-800 to-slate-700 text-white py-16",children:(0,Ae.jsxs)("div",{className:"container mx-auto px-4",children:[(0,Ae.jsx)("div",{className:"text-left mb-8",children:(0,Ae.jsx)(Ge,{to:"/",label:"Volver al inicio",className:"inline-flex items-center text-slate-300 hover:text-white transition-colors"})}),(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Marketplace de Pesca"}),(0,Ae.jsx)("p",{className:"text-xl text-slate-300 max-w-3xl mx-auto",children:"Todo el equipamiento que necesitas para tu aventura de pesca en la Patagonia chilena. Productos de calidad seleccionados por nuestros gu\xedas expertos."})]})]})}),(0,Ae.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Ae.jsx)("div",{className:"fixed top-4 right-4 z-50",children:(0,Ae.jsxs)("button",{onClick:()=>o(!i),className:"bg-emerald-600 text-white p-3 rounded-full shadow-lg hover:bg-emerald-700 transition-colors relative",children:[(0,Ae.jsx)(Rt,{className:"w-6 h-6"}),c()>0&&(0,Ae.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center",children:c()})]})}),i&&(0,Ae.jsxs)("div",{className:"fixed inset-0 z-40 overflow-hidden",children:[(0,Ae.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>o(!1)}),(0,Ae.jsxs)("div",{className:"absolute right-0 top-0 h-full w-80 bg-white shadow-xl transform transition-transform p-6",children:[(0,Ae.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Carrito de Compras"}),0===a.length?(0,Ae.jsx)("p",{className:"text-gray-500",children:"Tu carrito est\xe1 vac\xedo"}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("div",{className:"space-y-4 mb-6",children:a.map(e=>(0,Ae.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded",children:[(0,Ae.jsx)("img",{src:e.product.image,alt:e.product.name,className:"w-12 h-12 object-cover rounded",onError:e=>{e.target.src="/images/placeholder-product.jpg"}}),(0,Ae.jsxs)("div",{className:"flex-1",children:[(0,Ae.jsx)("h4",{className:"font-semibold text-sm",children:e.product.name}),(0,Ae.jsxs)("div",{className:"text-gray-600 text-sm flex items-center gap-1",children:[(0,Ae.jsx)(Ue,{price:e.product.price,size:"sm",showBothCurrencies:!1}),(0,Ae.jsxs)("span",{children:[" x ",e.quantity]})]})]}),(0,Ae.jsx)("button",{onClick:()=>{return t=e.product.id,void s(e=>e.filter(e=>e.product.id!==t));var t},className:"text-red-500 hover:text-red-700",children:"\xd7"})]},e.product.id))}),(0,Ae.jsxs)("div",{className:"border-t pt-4",children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ae.jsx)("span",{className:"font-bold text-lg",children:"Total:"}),(0,Ae.jsx)(Ue,{price:a.reduce((e,t)=>e+t.product.price*t.quantity,0),size:"md",showBothCurrencies:!0})]}),(0,Ae.jsx)("button",{className:"w-full bg-emerald-600 text-white py-3 rounded-lg hover:bg-emerald-700 transition-colors",children:"Proceder al Pago"})]})]})]})]}),(0,Ae.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[(0,Ae.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Ae.jsx)(Ot,{className:"w-5 h-5 mr-2 text-gray-600"}),(0,Ae.jsx)("h2",{className:"text-lg font-semibold",children:"Filtrar por categor\xeda"})]}),(0,Ae.jsx)("div",{className:"flex flex-wrap gap-2",children:[{value:"todos",label:"Todos los productos"},{value:"se\xf1uelos",label:"Se\xf1uelos"},{value:"multifilamentos",label:"L\xedneas y Multifilamentos"},{value:"ca\xf1as",label:"Ca\xf1as de Pescar"},{value:"accesorios",label:"Accesorios"}].map(e=>(0,Ae.jsx)("button",{onClick:()=>n(e.value),className:"px-4 py-2 rounded-full transition-colors ".concat(r===e.value?"bg-emerald-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e.label},e.value))})]}),(0,Ae.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.map(e=>(0,Ae.jsxs)("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden",children:[(0,Ae.jsxs)("div",{className:"relative",children:[(0,Ae.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-48 object-cover",onError:e=>{e.target.src="/images/placeholder-product.jpg"}}),e.featured&&(0,Ae.jsx)("div",{className:"absolute top-2 left-2 bg-emerald-600 text-white px-2 py-1 rounded text-xs font-semibold",children:"Destacado"}),!e.inStock&&(0,Ae.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,Ae.jsx)("span",{className:"text-white font-semibold",children:"Sin Stock"})})]}),(0,Ae.jsxs)("div",{className:"p-4",children:[(0,Ae.jsx)("div",{className:"flex items-center mb-2",children:(0,Ae.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full uppercase tracking-wide font-semibold",children:e.category})}),(0,Ae.jsx)("h3",{className:"font-bold text-lg mb-2 line-clamp-2",children:e.name}),(0,Ae.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description}),e.specifications&&(0,Ae.jsx)("div",{className:"mb-3",children:(0,Ae.jsx)("div",{className:"text-xs text-gray-500",children:Object.entries(e.specifications).slice(0,2).map(e=>{let[t,r]=e;return(0,Ae.jsxs)("div",{className:"flex justify-between",children:[(0,Ae.jsxs)("span",{className:"capitalize",children:[t,":"]}),(0,Ae.jsx)("span",{children:r})]},t)})})}),(0,Ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ae.jsx)(Ue,{price:e.price,size:"md",showBothCurrencies:!0}),(0,Ae.jsx)("button",{onClick:()=>(e=>{s(t=>t.find(t=>t.product.id===e.id)?t.map(t=>t.product.id===e.id?Ze(Ze({},t),{},{quantity:t.quantity+1}):t):[...t,{product:e,quantity:1}])})(e),disabled:!e.inStock,className:"px-4 py-2 rounded-lg font-semibold transition-colors ".concat(e.inStock?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:e.inStock?"Agregar":"Sin Stock"})]})]})]},e.id))}),0===l.length&&(0,Ae.jsxs)("div",{className:"text-center py-12",children:[(0,Ae.jsx)(At,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Ae.jsx)("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No hay productos en esta categor\xeda"}),(0,Ae.jsx)("p",{className:"text-gray-500",children:"Intenta seleccionar una categor\xeda diferente"})]}),(0,Ae.jsxs)("div",{className:"mt-16 bg-gradient-to-r from-emerald-50 to-cyan-50 rounded-lg p-8",children:[(0,Ae.jsx)("h2",{className:"text-3xl font-bold text-center mb-8 text-slate-800",children:"\xbfPor qu\xe9 comprar con nosotros?"}),(0,Ae.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsx)("div",{className:"w-16 h-16 bg-emerald-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ae.jsx)(At,{className:"w-8 h-8 text-white"})}),(0,Ae.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Productos Aut\xe9nticos"}),(0,Ae.jsx)("p",{className:"text-gray-600",children:"Equipamiento seleccionado y probado por nuestros gu\xedas expertos en aguas patag\xf3nicas"})]}),(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsx)("div",{className:"w-16 h-16 bg-cyan-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ae.jsx)(Lt,{className:"w-8 h-8 text-white"})}),(0,Ae.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Env\xedo Gratis"}),(0,Ae.jsx)("p",{className:"text-gray-600",children:"Env\xedo gratuito a toda Chile en compras superiores a $50.000"})]}),(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsx)("div",{className:"w-16 h-16 bg-teal-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ae.jsx)(_t,{className:"w-8 h-8 text-white"})}),(0,Ae.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Pago Seguro"}),(0,Ae.jsx)("p",{className:"text-gray-600",children:"M\xfaltiples m\xe9todos de pago seguros incluyendo WebPay Chile"})]})]})]})]})]})};function zt(){return(0,Ae.jsxs)("footer",{className:"relative bg-gradient-to-br from-slate-900 via-gray-900 to-slate-800 text-gray-300 border-t border-white/10",children:[(0,Ae.jsx)("div",{className:"absolute inset-x-0 -top-px h-px bg-gradient-to-r from-emerald-500 via-cyan-500 to-emerald-500 opacity-60"}),(0,Ae.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[(0,Ae.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-10",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h3",{className:"text-2xl font-extrabold bg-gradient-to-r from-emerald-300 to-cyan-300 bg-clip-text text-transparent tracking-tight",children:"Patagonia Fishing Guide"}),(0,Ae.jsx)("p",{className:"mt-4 text-sm text-gray-300 leading-relaxed",children:"Conecta con gu\xedas expertos y vive experiencias de pesca inolvidables en los lagos y r\xedos patag\xf3nicos."})]}),(0,Ae.jsxs)("nav",{"aria-label":"Footer Navigation",className:"grid grid-cols-2 gap-6 sm:col-span-1 lg:col-span-2",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h4",{className:"text-sm font-bold uppercase tracking-wider text-emerald-300",children:"Explora"}),(0,Ae.jsxs)("ul",{className:"mt-4 space-y-2 text-sm",children:[(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{className:"hover:text-emerald-300 transition-colors",href:"/",children:"Inicio"})}),(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{className:"hover:text-emerald-300 transition-colors",href:"/guias",children:"Gu\xedas"})}),(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{className:"hover:text-emerald-300 transition-colors",href:"/galeria",children:"Galer\xeda"})}),(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{className:"hover:text-emerald-300 transition-colors",href:"/testimonios",children:"Testimonios"})})]})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h4",{className:"text-sm font-bold uppercase tracking-wider text-cyan-300",children:"Servicios"}),(0,Ae.jsxs)("ul",{className:"mt-4 space-y-2 text-sm",children:[(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{className:"hover:text-cyan-300 transition-colors",href:"/marketplace",children:"Marketplace"})}),(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{className:"hover:text-cyan-300 transition-colors",href:"/guia-practica",children:"Gu\xeda pr\xe1ctica"})}),(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{className:"hover:text-cyan-300 transition-colors",href:"/reservar/1",children:"Reservar"})})]})]})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h4",{className:"text-sm font-bold uppercase tracking-wider text-emerald-300",children:"Contacto"}),(0,Ae.jsxs)("ul",{className:"mt-4 space-y-3 text-sm",children:[(0,Ae.jsx)("li",{children:(0,Ae.jsxs)("a",{href:"mailto:info@patagoniafishing.com",className:"inline-flex items-center gap-2 hover:text-emerald-300 transition-colors",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ae.jsx)("path",{d:"M2 4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4zm2 0v.01L12 13l8-8.99V4H4zm16 2.41l-7.29 7.3a1 1 0 0 1-1.42 0L4 6.41V20h16V6.41z"})}),"info@patagoniafishing.com"]})}),(0,Ae.jsx)("li",{children:(0,Ae.jsxs)("a",{href:"https://wa.me/5490000000000",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 hover:text-cyan-300 transition-colors",children:[(0,Ae.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ae.jsx)("path",{d:"M20.52 3.48A12.07 12.07 0 0 0 12 0C5.37 0 0 5.37 0 12c0 2.12.55 4.18 1.6 6.02L0 24l6.18-1.62A12.07 12.07 0 0 0 12 24c6.63 0 12-5.37 12-12c0-3.21-1.25-6.23-3.48-8.52zM12 22c-1.85 0-3.63-.5-5.18-1.44l-.37-.22l-3.67.96l.98-3.58l-.24-.37A9.98 9.98 0 0 1 2 12c0-5.52 4.48-10 10-10s10 4.48 10 10s-4.48 10-10 10z"})}),"WhatsApp"]})})]}),(0,Ae.jsxs)("div",{className:"mt-6 flex items-center gap-4",children:[(0,Ae.jsx)("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 transition-transform text-emerald-300",children:(0,Ae.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ae.jsx)("path",{d:"M7.75 2h8.5A5.75 5.75 0 0 1 22 7.75v8.5A5.75 5.75 0 0 1 16.25 22h-8.5A5.75 5.75 0 0 1 2 16.25v-8.5A5.75 5.75 0 0 1 7.75 2zm0 1.5A4.25 4.25 0 0 0 3.5 7.75v8.5A4.25 4.25 0 0 0 7.75 20.5h8.5A4.25 4.25 0 0 0 20.5 16.25v-8.5A4.25 4.25 0 0 0 16.25 3.5zm4.25 2.25a5.25 5.25 0 1 1-5.25 5.25a5.25 5.25 0 0 1 5.25-5.25zm0 1.5a3.75 3.75 0 1 0 3.75 3.75a3.75 3.75 0 0 0-3.75-3.75zm5.25 1.25a1 1 0 1 1-2 0a1 1 0 0 1 2 0z"})})}),(0,Ae.jsx)("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 transition-transform text-cyan-300",children:(0,Ae.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ae.jsx)("path",{d:"M17 2.1c-3.9 0-7 3.1-7 7v2H7v4h3v8h4v-8h3l1-4h-4V9c0-1.1.9-2 2-2h2V3.1c-.7-.1-1.4-.2-2-.2z"})})}),(0,Ae.jsx)("a",{href:"mailto:info@patagoniafishing.com",className:"hover:scale-110 transition-transform text-teal-300",children:(0,Ae.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ae.jsx)("path",{d:"M2 4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4zm2 0v.01L12 13l8-8.99V4H4zm16 2.41l-7.29 7.3a1 1 0 0 1-1.42 0L4 6.41V20h16V6.41z"})})})]})]})]}),(0,Ae.jsxs)("div",{className:"mt-10 pt-6 border-t border-white/10 text-xs text-gray-400 flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,Ae.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," Patagonia Fishing Guide. Todos los derechos reservados."]}),(0,Ae.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ae.jsx)("a",{className:"hover:text-emerald-300",href:"#como-funciona",children:"C\xf3mo funciona"}),(0,Ae.jsx)("span",{className:"text-white/20",children:"\u2022"}),(0,Ae.jsx)("a",{className:"hover:text-cyan-300",href:"/marketplace",children:"Servicios"})]})]})]})]})}function Ut(){const e=Z(),{session:r}=Ve(),[n,a]=(0,t.useState)(""),[s,i]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(!0),[f,m]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{r&&(console.log("Sesi\xf3n detectada, redirigiendo a /admin"),e("/admin",{replace:!0}))},[r,e]),r?(0,Ae.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800 flex items-center justify-center p-4",children:(0,Ae.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md text-center",children:[(0,Ae.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ya tienes una sesi\xf3n activa"}),(0,Ae.jsx)("p",{className:"text-gray-600 mb-6",children:"Parece que ya est\xe1s logueado pero no tienes permisos suficientes."}),(0,Ae.jsxs)("div",{className:"space-y-3",children:[(0,Ae.jsx)("button",{onClick:()=>e("/admin"),className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Ir al Panel Admin"}),(0,Ae.jsx)("button",{onClick:async function(){const e=(0,Fe.getSupabaseClient)();await e.auth.signOut(),window.location.reload()},className:"w-full bg-red-600 text-white py-3 px-4 rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Cerrar Sesi\xf3n y Volver a Loguearse"})]})]})}):(0,Ae.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800 flex items-center justify-center p-4",children:[(0,Ae.jsx)("div",{className:"absolute top-6 left-6",children:(0,Ae.jsx)(Ge,{to:"/",label:"\u2190 Volver al inicio"})}),(0,Ae.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[(0,Ae.jsxs)("div",{className:"text-center mb-8",children:[(0,Ae.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Panel de Administraci\xf3n"}),(0,Ae.jsx)("p",{className:"text-gray-600",children:"Inicia sesi\xf3n para continuar"})]}),c&&(0,Ae.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:c}),f&&(0,Ae.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-6",children:"Revisa tu correo para el enlace m\xe1gico."}),(0,Ae.jsxs)("div",{className:"flex rounded-lg border border-gray-200 mb-6",children:[(0,Ae.jsx)("button",{type:"button",onClick:()=>h(!0),className:"flex-1 py-2 px-4 text-sm font-medium rounded-l-lg transition ".concat(d?"bg-blue-600 text-white":"bg-gray-50 text-gray-700 hover:bg-gray-100"),children:"Email/Password"}),(0,Ae.jsx)("button",{type:"button",onClick:()=>h(!1),className:"flex-1 py-2 px-4 text-sm font-medium rounded-r-lg transition ".concat(d?"bg-gray-50 text-gray-700 hover:bg-gray-100":"bg-blue-600 text-white"),children:"Magic Link"})]}),d?(0,Ae.jsxs)("form",{onSubmit:async function(e){e.preventDefault(),l(!0),u(null);try{const e=(0,Fe.getSupabaseClient)();console.log("Intentando login con password para:",n);const{data:t,error:r}=await e.auth.signInWithPassword({email:n,password:s});if(r)return console.error("Error de autenticaci\xf3n:",r),void u(r.message);t.user&&console.log("Login exitoso:",t.user)}catch(t){console.error("Error inesperado:",t),u("Error inesperado al iniciar sesi\xf3n")}finally{l(!1)}},className:"space-y-6",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,Ae.jsx)("input",{type:"email",id:"email",value:n,onChange:e=>a(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"tu@email.com",required:!0})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrase\xf1a"}),(0,Ae.jsx)("input",{type:"password",id:"password",value:s,onChange:e=>i(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Tu contrase\xf1a",required:!0})]}),(0,Ae.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:o?"Iniciando sesi\xf3n...":"Iniciar Sesi\xf3n"})]}):(0,Ae.jsxs)("form",{onSubmit:async function(e){e.preventDefault(),u(null);const t=(0,Fe.getSupabaseClient)(),{error:r}=await t.auth.signInWithOtp({email:n,options:{emailRedirectTo:"".concat(window.location.origin,"/admin/auth/callback")}});r?u(r.message):m(!0)},className:"space-y-6",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{htmlFor:"email-magic",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,Ae.jsx)("input",{type:"email",id:"email-magic",value:n,onChange:e=>a(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"tu@email.com",required:!0})]}),(0,Ae.jsx)("button",{type:"submit",className:"w-full bg-emerald-600 text-white py-3 px-4 rounded-lg hover:bg-emerald-700 focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-colors font-medium",children:"Enviar Magic Link"})]}),(0,Ae.jsx)("div",{className:"text-center mt-6",children:(0,Ae.jsxs)("p",{className:"text-sm text-gray-600",children:["\xbfNo tienes cuenta?"," ",(0,Ae.jsx)("button",{onClick:()=>e("/admin/register"),className:"text-blue-600 hover:text-blue-500 font-medium",children:"Crear cuenta"})]})})]})]})}const Dt=e=>{let{title:t,description:r,icon:n,link:a,color:s,disabled:i=!1}=e;return i?(0,Ae.jsxs)("div",{className:"bg-gray-100 border border-gray-200 text-gray-500 p-6 rounded-2xl opacity-60",children:[(0,Ae.jsx)("div",{className:"text-3xl mb-3",children:n}),(0,Ae.jsx)("h3",{className:"text-xl font-bold mb-2",children:t}),(0,Ae.jsx)("p",{className:"text-sm",children:r}),(0,Ae.jsx)("div",{className:"mt-3 text-xs",children:"No disponible para tu rol"})]}):(0,Ae.jsxs)(Ee,{to:a,className:"group bg-gradient-to-r ".concat({blue:"from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700",green:"from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700",purple:"from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700",yellow:"from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700",red:"from-red-500 to-red-600 hover:from-red-600 hover:to-red-700"}[s]," text-white rounded-2xl p-6 shadow-2xl hover:scale-[1.02] transition-all duration-300 block"),children:[(0,Ae.jsx)("div",{className:"text-3xl mb-3",children:n}),(0,Ae.jsx)("h3",{className:"text-xl font-bold mb-2",children:t}),(0,Ae.jsx)("p",{className:"text-white/90 text-sm",children:r}),(0,Ae.jsxs)("div",{className:"mt-4 flex items-center text-white/80 group-hover:text-white transition",children:[(0,Ae.jsx)("span",{className:"text-sm",children:"Acceder"}),(0,Ae.jsx)("svg",{className:"w-4 h-4 ml-2 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ae.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})},Ft=e=>{let{variant:r="danger",size:n="md",className:a="",redirectTo:s="/admin/login"}=e;const[i,o]=(0,t.useState)(!1);return(0,Ae.jsx)("button",{onClick:async()=>{o(!0);try{const e=(0,Fe.getSupabaseClient)(),{error:t}=await e.auth.signOut();if(t)return console.error("Error al cerrar sesi\xf3n:",t),void alert("Error al cerrar sesi\xf3n: "+t.message);localStorage.clear(),sessionStorage.clear(),console.log("Sesi\xf3n cerrada exitosamente"),window.location.href=s}catch(e){console.error("Error inesperado al cerrar sesi\xf3n:",e),alert("Error inesperado al cerrar sesi\xf3n")}finally{o(!1)}},disabled:i,className:"\n        ".concat((()=>{switch(r){case"primary":return"bg-blue-600 hover:bg-blue-700 text-white";case"secondary":return"bg-gray-600 hover:bg-gray-700 text-white";default:return"bg-red-600 hover:bg-red-700 text-white"}})(),"\n        ").concat((()=>{switch(n){case"sm":return"px-3 py-1 text-sm";case"md":default:return"px-4 py-2 text-base";case"lg":return"px-6 py-3 text-lg"}})(),"\n        rounded-lg\n        transition-colors\n        disabled:opacity-50\n        disabled:cursor-not-allowed\n        font-medium\n        ").concat(a,"\n      "),children:i?"Cerrando...":"Cerrar Sesi\xf3n"})};function qt(){var e;const{isAdmin:t,role:r,profile:n,session:a}=Ve();return(0,Ae.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-800 via-gray-800 to-slate-900",children:(0,Ae.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Ae.jsx)(Ge,{to:"/",label:"\u2190 Volver al inicio"}),(0,Ae.jsx)(Ft,{variant:"danger",size:"md",redirectTo:"/"})]}),(0,Ae.jsxs)("div",{className:"mb-8",children:[(0,Ae.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"Panel de Administraci\xf3n"}),(0,Ae.jsxs)("div",{className:"text-emerald-300",children:["Bienvenido, ",(null===n||void 0===n?void 0:n.full_name)||(null===a||void 0===a||null===(e=a.user)||void 0===e?void 0:e.email)||"Usuario",(0,Ae.jsx)("span",{className:"ml-2 px-3 py-1 rounded-full text-xs font-medium ".concat("admin"===r?"bg-red-100 text-red-800":"guide"===r?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:(e=>{switch(e){case"admin":return"Administrador";case"guide":return"Gu\xeda";case"user":return"Usuario";default:return"Sin rol"}})(r)})]})]}),(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,Ae.jsx)(Dt,{title:"Mi Panel de Gu\xeda",description:"Gestiona tu perfil, servicios y disponibilidad",icon:"\ud83c\udfa3",link:"/panel-guia",color:"green"}),"admin"===r&&(0,Ae.jsx)(Dt,{title:"Gesti\xf3n de Gu\xedas",description:"Crear, editar y eliminar gu\xedas del sistema",icon:"\ud83d\udc65",link:"/admin/guides",color:"blue"}),"admin"===r&&(0,Ae.jsx)(Dt,{title:"Gesti\xf3n de Usuarios",description:"Administrar usuarios y roles del sistema",icon:"\u2699\ufe0f",link:"/admin/users",color:"purple"}),"user"===r&&(0,Ae.jsx)("div",{className:"col-span-full bg-blue-50 border border-blue-200 text-blue-800 p-6 rounded-xl",children:(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsx)("div",{className:"text-3xl mb-3",children:"\ud83d\udc64"}),(0,Ae.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Panel de Usuario"}),(0,Ae.jsx)("p",{className:"text-sm",children:"Desde tu panel de gu\xeda puedes gestionar tu perfil y servicios. Contacta al administrador para obtener permisos adicionales."})]})})]}),(0,Ae.jsxs)("div",{className:"mt-8 bg-white/10 rounded-2xl p-4",children:[(0,Ae.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Tus permisos:"}),(0,Ae.jsxs)("div",{className:"text-sm text-white/80 space-y-1",children:[(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("span",{className:"w-2 h-2 bg-emerald-500 rounded-full mr-2"}),"Gestionar tu perfil de gu\xeda"]}),(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("span",{className:"w-2 h-2 bg-emerald-500 rounded-full mr-2"}),"Administrar tus servicios"]}),t&&(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),"Gestionar todos los gu\xedas (Admin)"]}),(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),"Administrar usuarios y roles (Admin)"]})]})]})]})]})})}function Bt(){const{data:e,isLoading:t,error:r}=(0,Oe.useQuery)(["guides"],tt);return(0,Ae.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-800 via-gray-800 to-slate-900",children:(0,Ae.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[(0,Ae.jsx)(Ge,{to:"/admin",label:"\u2190 Volver al panel"}),(0,Ae.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,Ae.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Gu\xedas"}),(0,Ae.jsx)(Ee,{to:"/admin/guides/new",className:"px-4 py-2 bg-gradient-to-r from-emerald-600 to-cyan-600 text-white rounded-xl",children:"Nuevo"})]}),(0,Ae.jsxs)("div",{className:"bg-white/90 rounded-2xl p-6 shadow-2xl",children:[t&&(0,Ae.jsx)("div",{children:"Cargando..."}),r&&(0,Ae.jsx)("div",{className:"text-red-600",children:"Error al cargar"}),(0,Ae.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:null===e||void 0===e?void 0:e.map(e=>(0,Ae.jsxs)(Ee,{to:"/admin/guides/".concat(e.id),className:"border border-emerald-200 rounded-xl p-4 hover:bg-emerald-50",children:[(0,Ae.jsx)("div",{className:"font-semibold text-slate-800",children:e.name}),(0,Ae.jsx)("div",{className:"text-sm text-slate-600",children:e.location})]},e.id))})]})]})})}function Qt(){const{id:e}=ee(),r=Z(),[n,a]=(0,t.useState)({name:"",location:"",bio:"",price_per_day:0}),[s,i]=(0,t.useState)(!1),o="new"===e;return(0,t.useEffect)(()=>{!o&&e&&rt(e).then(e=>{e&&a({name:e.name||"",location:e.location||"",bio:e.bio||"",price_per_day:e.price_per_day||0})})},[e,o]),(0,Ae.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-800 via-gray-800 to-slate-900",children:(0,Ae.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-12",children:[(0,Ae.jsx)(Ge,{to:"/admin/guides",label:"\u2190 Volver a gu\xedas"}),(0,Ae.jsx)("h1",{className:"text-3xl font-bold text-white mb-8",children:o?"Nuevo Gu\xeda":"Editar Gu\xeda"}),(0,Ae.jsxs)("form",{onSubmit:async function(t){t.preventDefault(),i(!0);try{await nt(Ze({id:o?void 0:e},n)),r("/admin/guides")}catch(a){alert("Error: ".concat((null===a||void 0===a?void 0:a.message)||"No se pudo guardar"))}finally{i(!1)}},className:"bg-white/90 rounded-2xl p-6 shadow-2xl space-y-4",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nombre"}),(0,Ae.jsx)("input",{className:"w-full px-4 py-2 border rounded-lg",value:n.name,onChange:e=>a(Ze(Ze({},n),{},{name:e.target.value})),required:!0})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Ubicaci\xf3n"}),(0,Ae.jsx)("input",{className:"w-full px-4 py-2 border rounded-lg",value:n.location,onChange:e=>a(Ze(Ze({},n),{},{location:e.target.value}))})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Bio"}),(0,Ae.jsx)("textarea",{className:"w-full px-4 py-2 border rounded-lg",rows:5,value:n.bio,onChange:e=>a(Ze(Ze({},n),{},{bio:e.target.value}))})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Precio por d\xeda"}),(0,Ae.jsx)("input",{type:"number",className:"w-full px-4 py-2 border rounded-lg",value:n.price_per_day,onChange:e=>a(Ze(Ze({},n),{},{price_per_day:Number(e.target.value)}))})]}),(0,Ae.jsx)("button",{disabled:s,type:"submit",className:"px-6 py-3 bg-gradient-to-r from-emerald-600 to-cyan-600 text-white rounded-xl",children:s?"Guardando...":"Guardar"}),!o&&(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Ee,{to:"/admin/guides/".concat(e,"/services"),className:"ml-3 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:scale-[1.02] transition inline-block",children:"Gestionar Servicios"}),(0,Ae.jsx)("button",{type:"button",onClick:async()=>{try{await async function(e){var t,r;const n=(0,Fe.getSupabaseClient)(),{data:a}=await n.auth.getSession(),s=null===a||void 0===a||null===(t=a.session)||void 0===t||null===(r=t.user)||void 0===r?void 0:r.id;if(!s)throw new Error("Sin sesi\xf3n: inicia sesi\xf3n para reasignar");const{error:i}=await n.from("guides").update({user_id:s}).eq("id",e);if(i)throw new Error(i.message||"No se pudo reasignar")}(e),alert("Propiedad reasignada a tu usuario. Ahora puedes guardar.")}catch(t){alert("Error: ".concat((null===t||void 0===t?void 0:t.message)||"No se pudo reasignar"))}},className:"ml-3 px-6 py-3 border-2 border-emerald-600 text-emerald-700 rounded-xl hover:bg-emerald-50",children:"Reasignar propiedad"})]})]})]})})}function Wt(){var e;const{id:r}=ee(),n=(0,Oe.useQueryClient)(),[a,s]=(0,t.useState)(null),[i,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)({title:"",description:"",duration:"",difficulty:"Principiante",max_people:1,price:0,includes:[]}),{data:u,isLoading:d}=(0,Oe.useQuery)(["guide-services",r],()=>at(r),{enabled:!!r}),h=(0,Oe.useMutation)(e=>async function(e){const t=(0,Fe.getSupabaseClient)(),{data:r,error:n}=await t.from("guide_services").upsert(e).select().single();if(n)throw n;return r}(Ze(Ze({},e),{},{guide_id:r})),{onSuccess:()=>{n.invalidateQueries(["guide-services",r]),m()},onError:e=>{alert("Error: ".concat((null===e||void 0===e?void 0:e.message)||"No se pudo guardar el servicio"))}}),f=(0,Oe.useMutation)(e=>async function(e){const t=(0,Fe.getSupabaseClient)(),{error:r}=await t.from("guide_services").delete().eq("id",e);if(r)throw r}(e),{onSuccess:()=>{n.invalidateQueries(["guide-services",r])},onError:e=>{alert("Error: ".concat((null===e||void 0===e?void 0:e.message)||"No se pudo eliminar el servicio"))}}),m=()=>{c({title:"",description:"",duration:"",difficulty:"Principiante",max_people:1,price:0,includes:[]}),s(null),o(!1)};return r?(0,Ae.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-800 via-gray-800 to-slate-900",children:(0,Ae.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[(0,Ae.jsx)(Ge,{to:"/admin/guides/".concat(r),label:"\u2190 Volver al gu\xeda"}),(0,Ae.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,Ae.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Servicios del Gu\xeda"}),(0,Ae.jsx)("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-gradient-to-r from-emerald-600 to-cyan-600 text-white rounded-xl hover:scale-[1.02] transition",children:"+ Nuevo Servicio"})]}),i&&(0,Ae.jsxs)("div",{className:"bg-white/90 rounded-2xl p-6 shadow-2xl mb-8",children:[(0,Ae.jsx)("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:a?"Editar Servicio":"Nuevo Servicio"}),(0,Ae.jsxs)("form",{onSubmit:e=>{var t;e.preventDefault(),null!==(t=l.title)&&void 0!==t&&t.trim()?h.mutate(l):alert("El t\xedtulo es obligatorio")},className:"space-y-4",children:[(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"T\xedtulo *"}),(0,Ae.jsx)("input",{type:"text",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500",value:l.title,onChange:e=>c(Ze(Ze({},l),{},{title:e.target.value})),required:!0})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Duraci\xf3n"}),(0,Ae.jsx)("input",{type:"text",placeholder:"ej: 4 horas, D\xeda completo",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500",value:l.duration||"",onChange:e=>c(Ze(Ze({},l),{},{duration:e.target.value}))})]})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Descripci\xf3n"}),(0,Ae.jsx)("textarea",{className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500",rows:3,value:l.description||"",onChange:e=>c(Ze(Ze({},l),{},{description:e.target.value}))})]}),(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Dificultad"}),(0,Ae.jsxs)("select",{className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500",value:l.difficulty||"Principiante",onChange:e=>c(Ze(Ze({},l),{},{difficulty:e.target.value})),children:[(0,Ae.jsx)("option",{value:"Principiante",children:"Principiante"}),(0,Ae.jsx)("option",{value:"Intermedio",children:"Intermedio"}),(0,Ae.jsx)("option",{value:"Avanzado",children:"Avanzado"})]})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"M\xe1x. personas"}),(0,Ae.jsx)("input",{type:"number",min:"1",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500",value:l.max_people||1,onChange:e=>c(Ze(Ze({},l),{},{max_people:Number(e.target.value)}))})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Precio (CLP)"}),(0,Ae.jsx)("input",{type:"number",min:"0",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500",value:l.price||0,onChange:e=>c(Ze(Ze({},l),{},{price:Number(e.target.value)}))})]})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Incluye (uno por l\xednea)"}),(0,Ae.jsx)("textarea",{className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500",rows:4,placeholder:"Transporte\nAlmuerzo\nEquipo de pesca",value:(null===(e=l.includes)||void 0===e?void 0:e.join("\n"))||"",onChange:e=>(e=>{const t=e.split("\n").filter(e=>""!==e.trim());c(Ze(Ze({},l),{},{includes:t}))})(e.target.value)})]}),(0,Ae.jsxs)("div",{className:"flex gap-3",children:[(0,Ae.jsx)("button",{type:"submit",disabled:h.isLoading,className:"px-6 py-3 bg-gradient-to-r from-emerald-600 to-cyan-600 text-white rounded-xl hover:scale-[1.02] transition disabled:opacity-50",children:h.isLoading?"Guardando...":"Guardar"}),(0,Ae.jsx)("button",{type:"button",onClick:m,className:"px-6 py-3 border-2 border-slate-300 text-slate-700 rounded-xl hover:bg-slate-50 transition",children:"Cancelar"})]})]})]}),(0,Ae.jsx)("div",{className:"bg-white/90 rounded-2xl p-6 shadow-2xl",children:d?(0,Ae.jsx)("div",{className:"text-center py-8 text-slate-600",children:"Cargando servicios..."}):0===(null===u||void 0===u?void 0:u.length)?(0,Ae.jsxs)("div",{className:"text-center py-8 text-slate-600",children:["No hay servicios registrados.",(0,Ae.jsx)("button",{onClick:()=>o(!0),className:"block mx-auto mt-4 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition",children:"Crear primer servicio"})]}):(0,Ae.jsx)("div",{className:"space-y-4",children:null===u||void 0===u?void 0:u.map(e=>(0,Ae.jsx)("div",{className:"border border-slate-200 rounded-xl p-4 hover:bg-slate-50 transition",children:(0,Ae.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Ae.jsxs)("div",{className:"flex-1",children:[(0,Ae.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Ae.jsx)("h3",{className:"font-bold text-slate-800 text-lg",children:e.title}),(0,Ae.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("Principiante"===e.difficulty?"bg-green-100 text-green-800":"Intermedio"===e.difficulty?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.difficulty})]}),e.description&&(0,Ae.jsx)("p",{className:"text-slate-600 mb-3",children:e.description}),(0,Ae.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.duration&&(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("span",{className:"font-medium text-slate-700",children:"Duraci\xf3n:"}),(0,Ae.jsx)("div",{className:"text-slate-600",children:e.duration})]}),e.max_people&&(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("span",{className:"font-medium text-slate-700",children:"M\xe1x. personas:"}),(0,Ae.jsx)("div",{className:"text-slate-600",children:e.max_people})]}),e.price&&(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("span",{className:"font-medium text-slate-700",children:"Precio:"}),(0,Ae.jsxs)("div",{className:"text-slate-600",children:["$",e.price.toLocaleString()," CLP"]})]})]}),e.includes&&e.includes.length>0&&(0,Ae.jsxs)("div",{className:"mt-3",children:[(0,Ae.jsx)("span",{className:"font-medium text-slate-700",children:"Incluye:"}),(0,Ae.jsx)("ul",{className:"list-disc list-inside text-slate-600 text-sm mt-1",children:e.includes.map((e,t)=>(0,Ae.jsx)("li",{children:e},t))})]})]}),(0,Ae.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,Ae.jsx)("button",{onClick:()=>(e=>{c({id:e.id,title:e.title,description:e.description||"",duration:e.duration||"",difficulty:e.difficulty||"Principiante",max_people:e.max_people||1,price:e.price||0,includes:e.includes||[]}),s(e.id),o(!0)})(e),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition",children:"Editar"}),(0,Ae.jsx)("button",{onClick:()=>{return t=e.id,r=e.title,void(window.confirm('\xbfEst\xe1s seguro de eliminar el servicio "'.concat(r,'"?'))&&f.mutate(t));var t,r},disabled:f.isLoading,className:"px-3 py-1 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 transition disabled:opacity-50",children:"Eliminar"})]})]})},e.id))})})]})}):(0,Ae.jsx)("div",{className:"text-red-600",children:"ID de gu\xeda no v\xe1lido"})}const Vt=vt("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);class Ht{static async uploadImage(e){let{bucket:t,userId:r,file:n}=e;try{const e=(0,Fe.getSupabaseClient)(),a=n.name.split(".").pop(),s=Date.now(),i="".concat(r,"/image_").concat(s,".").concat(a);await this.deleteExistingImage(t,r);const{data:o,error:l}=await e.storage.from(t).upload(i,n,{cacheControl:"3600",upsert:!0});if(l)throw console.error("Error uploading image:",l),new Error("Error al subir imagen: ".concat(l.message));const{data:c}=e.storage.from(t).getPublicUrl(i);return c.publicUrl}catch(a){throw console.error("Error in uploadImage:",a),a}}static async deleteExistingImage(e,t){try{const r=(0,Fe.getSupabaseClient)(),{data:n,error:a}=await r.storage.from(e).list(t);if(a)return void console.warn("Error listing existing files:",a);if(n&&n.length>0){const a=n.map(e=>"".concat(t,"/").concat(e.name)),{error:s}=await r.storage.from(e).remove(a);s&&console.warn("Error deleting existing files:",s)}}catch(r){console.warn("Error in deleteExistingImage:",r)}}static validateImageFile(e){if(!["image/jpeg","image/png","image/webp"].includes(e.type))return{isValid:!1,error:"Formato no v\xe1lido. Solo se permiten archivos JPEG, PNG y WebP."};const t=5242880;return e.size>t?{isValid:!1,error:"El archivo es demasiado grande. M\xe1ximo ".concat(5,"MB permitidos.")}:{isValid:!0}}static async resizeImage(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.8;return new Promise((a,s)=>{const i=document.createElement("canvas"),o=i.getContext("2d"),l=new Image;l.onload=()=>{let{width:c,height:u}=l;c>u?c>t&&(u=u*t/c,c=t):u>r&&(c=c*r/u,u=r),i.width=c,i.height=u,null===o||void 0===o||o.drawImage(l,0,0,c,u),i.toBlob(t=>{if(t){const r=new File([t],e.name,{type:e.type,lastModified:Date.now()});a(r)}else s(new Error("Error al redimensionar imagen"))},e.type,n)},l.onerror=()=>s(new Error("Error al cargar imagen")),l.src=URL.createObjectURL(e)})}static async updateProfileImageUrl(e,t,r){const n=(0,Fe.getSupabaseClient)(),{error:a}=await n.from("user_profiles").update({[t]:r}).eq("id",e);if(a)throw console.error("Error updating profile image URL:",a),new Error("Error al actualizar ".concat(t,": ").concat(a.message))}}function Gt(e){let{label:r,currentImageUrl:n,onImageUploaded:a,bucket:s,userId:i,maxWidth:o=800,maxHeight:l=600,className:c="",aspectRatio:u="auto"}=e;const[d,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)(null),[p,g]=(0,t.useState)(null),v=(0,t.useRef)(null),x=f||n;return(0,Ae.jsxs)("div",{className:"space-y-4 ".concat(c),children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r}),(0,Ae.jsxs)("div",{className:"relative border-2 border-dashed border-gray-300 rounded-lg p-6 transition-colors hover:border-blue-400 ".concat((()=>{switch(u){case"square":return"aspect-square";case"wide":return"aspect-[16/9]";default:return""}})()),children:[x?(0,Ae.jsxs)("div",{className:"relative w-full h-full min-h-[200px]",children:[(0,Ae.jsx)("img",{src:x,alt:"Preview",className:"w-full h-full object-cover rounded-lg"}),(0,Ae.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center space-x-4",children:[(0,Ae.jsx)("button",{type:"button",onClick:()=>{var e;return null===(e=v.current)||void 0===e?void 0:e.click()},disabled:d,className:"bg-white text-gray-800 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-100 transition-colors",children:"Cambiar"}),f&&(0,Ae.jsx)("button",{type:"button",onClick:()=>{m(null),v.current&&(v.current.value="")},disabled:d,className:"bg-red-500 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-red-600 transition-colors",children:(0,Ae.jsx)(Et,{className:"h-4 w-4"})})]}),d&&(0,Ae.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-lg flex items-center justify-center",children:(0,Ae.jsxs)("div",{className:"bg-white rounded-lg p-4 flex items-center space-x-3",children:[(0,Ae.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),(0,Ae.jsx)("span",{className:"text-sm font-medium",children:"Subiendo..."})]})})]}):(0,Ae.jsxs)("div",{className:"w-full h-full min-h-[200px] flex flex-col items-center justify-center cursor-pointer",onClick:()=>{var e;return null===(e=v.current)||void 0===e?void 0:e.click()},children:[(0,Ae.jsx)(Vt,{className:"h-12 w-12 text-gray-400 mb-4"}),(0,Ae.jsx)("p",{className:"text-sm text-gray-500 text-center mb-2",children:"Haz clic para subir una imagen"}),(0,Ae.jsxs)("p",{className:"text-xs text-gray-400 text-center",children:["PNG, JPG, WebP hasta ","avatars"===s?"5MB":"10MB"]})]}),(0,Ae.jsx)("input",{ref:v,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:async e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!r)return;g(null);const n=Ht.validateImageFile(r);if(n.isValid)try{h(!0);const e=URL.createObjectURL(r);m(e);let t=r;r.size>1048576&&(t=await Ht.resizeImage(r,o,l));const n=await Ht.uploadImage({bucket:s,userId:i,file:t}),c="avatars"===s?"avatar_url":"hero_image_url";await Ht.updateProfileImageUrl(i,c,n),a(n),m(null)}catch(c){console.error("Error uploading image:",c),g(c instanceof Error?c.message:"Error al subir imagen"),m(null)}finally{h(!1),v.current&&(v.current.value="")}else g(n.error||"Archivo no v\xe1lido")},className:"hidden",disabled:d})]}),p&&(0,Ae.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,Ae.jsx)("p",{className:"text-sm text-red-600",children:p})}),(0,Ae.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,Ae.jsx)("p",{children:"\u2022 Formatos soportados: JPEG, PNG, WebP"}),(0,Ae.jsxs)("p",{children:["\u2022 Tama\xf1o m\xe1ximo: ","avatars"===s?"5MB":"10MB"]}),(0,Ae.jsx)("p",{children:"\u2022 Se redimensionar\xe1 autom\xe1ticamente si es necesario"})]})]})}function Kt(){var e,r;const n=(0,Oe.useQueryClient)(),{profile:a,role:s}=Ve(),[i,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)({name:"",location:"",bio:"",price_per_day:0,age:null,languages:[],specialties:[]}),{data:u,isLoading:d,error:h}=(0,Oe.useQuery)(["current-user-guide"],st),{data:f}=(0,Oe.useQuery)(["current-user-guides"],it),{data:m}=(0,Oe.useQuery)(["guide-services",null===u||void 0===u?void 0:u.id],()=>at(u.id),{enabled:!(null===u||void 0===u||!u.id)}),{data:p}=(0,Oe.useQuery)(["guide-availability",null===u||void 0===u?void 0:u.id],()=>async function(e){const t=(0,Fe.getSupabaseClient)(),{data:r,error:n}=await t.from("guide_availability").select("*").eq("guide_id",e).order("date",{ascending:!0});if(n)throw n;return null!==r&&void 0!==r?r:[]}(u.id),{enabled:!(null===u||void 0===u||!u.id)}),g=(0,Oe.useMutation)(e=>(console.log("upsertMutation - guideData:",e),nt(e)),{onSuccess:e=>{console.log("upsertMutation - success:",e),n.invalidateQueries(["current-user-guide"]),o(!1)},onError:e=>{console.error("upsertMutation - error:",e),alert("Error: ".concat((null===e||void 0===e?void 0:e.message)||"No se pudo guardar el perfil"))}}),v=()=>{c(u?{id:u.id,name:u.name||"",location:u.location||"",bio:u.bio||"",price_per_day:u.price_per_day||0,age:u.age||null,languages:u.languages||[],specialties:u.specialties||[]}:{name:"",location:"",bio:"",price_per_day:0,age:null,languages:[],specialties:[]}),o(!0)};return d?(0,Ae.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-800 via-gray-800 to-slate-900 flex items-center justify-center",children:(0,Ae.jsx)("div",{className:"text-white text-xl",children:"Cargando..."})}):h?(0,Ae.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-800 via-gray-800 to-slate-900 flex items-center justify-center",children:(0,Ae.jsx)("div",{className:"text-red-400 text-xl",children:"Error al cargar el perfil"})}):(0,Ae.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-800 via-gray-800 to-slate-900",children:(0,Ae.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[(0,Ae.jsx)(Ge,{to:"/admin",label:"\u2190 Volver al panel"}),(0,Ae.jsxs)("div",{className:"mb-6",children:[(0,Ae.jsx)("h1",{className:"text-3xl font-bold text-white mb-4",children:"Mi Panel de Gu\xeda"}),"user"===s&&(0,Ae.jsx)("div",{className:"bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 rounded-r-lg mb-4",children:(0,Ae.jsx)("div",{className:"flex",children:(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"font-medium",children:"Panel de Usuario"}),(0,Ae.jsx)("p",{className:"text-sm",children:"Aqu\xed puedes gestionar tu perfil de gu\xeda. Como usuario b\xe1sico, puedes crear y editar tu perfil, pero necesitas que un administrador active tu cuenta como gu\xeda para recibir reservas."})]})})}),"guide"===s&&(0,Ae.jsx)("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-4 rounded-r-lg mb-4",children:(0,Ae.jsx)("div",{className:"flex",children:(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"font-medium",children:"Panel de Gu\xeda Activo"}),(0,Ae.jsx)("p",{className:"text-sm",children:"Tu cuenta est\xe1 activa como gu\xeda. Puedes gestionar tu perfil, servicios y disponibilidad."})]})})}),"admin"===s&&(0,Ae.jsx)("div",{className:"bg-purple-100 border-l-4 border-purple-500 text-purple-700 p-4 rounded-r-lg mb-4",children:(0,Ae.jsx)("div",{className:"flex",children:(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"font-medium",children:"Panel de Administrador"}),(0,Ae.jsx)("p",{className:"text-sm",children:"Como administrador, puedes gestionar tu propio perfil de gu\xeda y tambi\xe9n acceder a la gesti\xf3n completa del sistema."})]})})})]}),a?(0,Ae.jsxs)("div",{className:"bg-white/90 rounded-2xl p-6 shadow-2xl mb-8",children:[(0,Ae.jsx)("h2",{className:"text-xl font-bold text-slate-800 mb-6",children:"Gesti\xf3n de Im\xe1genes"}),(0,Ae.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Ae.jsx)("div",{children:(0,Ae.jsx)(Gt,{label:"Foto de Perfil",currentImageUrl:a.avatar_url,onImageUploaded:e=>{console.log("Avatar uploaded:",e),n.invalidateQueries(["current-user-guide"])},bucket:"avatars",userId:a.id,maxWidth:400,maxHeight:400,aspectRatio:"square",className:"w-full"})}),(0,Ae.jsx)("div",{children:(0,Ae.jsx)(Gt,{label:"Imagen de Portada",currentImageUrl:a.hero_image_url,onImageUploaded:e=>{console.log("Hero image uploaded:",e),n.invalidateQueries(["current-user-guide"])},bucket:"hero-images",userId:a.id,maxWidth:1200,maxHeight:600,aspectRatio:"wide",className:"w-full"})})]}),(0,Ae.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[(0,Ae.jsx)("p",{className:"text-sm text-blue-700",children:(0,Ae.jsx)("strong",{children:"Consejos para mejores resultados:"})}),(0,Ae.jsxs)("ul",{className:"text-sm text-blue-600 mt-2 space-y-1",children:[(0,Ae.jsxs)("li",{children:["\u2022 ",(0,Ae.jsx)("strong",{children:"Foto de perfil:"})," Usa una imagen cuadrada de tu rostro con buena iluminaci\xf3n"]}),(0,Ae.jsxs)("li",{children:["\u2022 ",(0,Ae.jsx)("strong",{children:"Imagen de portada:"})," Elige una foto panor\xe1mica de tu \xe1rea de pesca o actividad"]}),(0,Ae.jsx)("li",{children:"\u2022 Las im\xe1genes se optimizan autom\xe1ticamente para web"}),(0,Ae.jsx)("li",{children:"\u2022 Estas im\xe1genes aparecer\xe1n en tu perfil p\xfablico de gu\xeda"})]})]})]}):(0,Ae.jsxs)("div",{className:"bg-yellow-100 border border-yellow-400 rounded-lg p-4 mb-8",children:[(0,Ae.jsxs)("p",{className:"text-yellow-700",children:[(0,Ae.jsx)("strong",{children:"Debug:"})," Profile is null. Waiting for profile to load..."]}),(0,Ae.jsxs)("p",{className:"text-xs text-yellow-600 mt-1",children:["Role: ",s," | Profile: ",a?"loaded":"null"]})]}),f&&f.length>1&&(0,Ae.jsx)("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-6 rounded-r-lg",children:(0,Ae.jsx)("div",{className:"flex",children:(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"font-medium",children:"M\xfaltiples perfiles detectados"}),(0,Ae.jsxs)("p",{className:"text-sm",children:["Tienes ",f.length,' perfiles de gu\xeda. Mostrando el m\xe1s reciente: "',null===u||void 0===u?void 0:u.name,'". Los otros perfiles: ',f.slice(1).map(e=>e.name).join(", "),"."]})]})})}),(0,Ae.jsxs)("div",{className:"bg-white/90 rounded-2xl p-6 shadow-2xl mb-8",children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ae.jsx)("h2",{className:"text-2xl font-bold text-slate-800",children:"Mi Perfil"}),u&&!i&&(0,Ae.jsx)("button",{onClick:v,className:"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition",children:"Editar Perfil"})]}),u||i?i?(0,Ae.jsxs)("form",{onSubmit:e=>{var t;e.preventDefault(),null!==(t=l.name)&&void 0!==t&&t.trim()?(console.log("handleSubmit - formData:",l),g.mutate(l)):alert("El nombre es obligatorio")},className:"space-y-4",children:[(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nombre *"}),(0,Ae.jsx)("input",{type:"text",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500",value:l.name||"",onChange:e=>c(Ze(Ze({},l),{},{name:e.target.value})),required:!0})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Ubicaci\xf3n"}),(0,Ae.jsx)("input",{type:"text",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500",value:l.location||"",onChange:e=>c(Ze(Ze({},l),{},{location:e.target.value}))})]})]}),(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Edad"}),(0,Ae.jsx)("input",{type:"number",min:"18",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500",value:l.age||"",onChange:e=>c(Ze(Ze({},l),{},{age:Number(e.target.value)||null}))})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Precio por d\xeda (CLP)"}),(0,Ae.jsx)("input",{type:"number",min:"0",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500",value:l.price_per_day||"",onChange:e=>c(Ze(Ze({},l),{},{price_per_day:Number(e.target.value)||0}))})]})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Biograf\xeda"}),(0,Ae.jsx)("textarea",{className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500",rows:4,value:l.bio||"",onChange:e=>c(Ze(Ze({},l),{},{bio:e.target.value}))})]}),(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Idiomas (separados por comas)"}),(0,Ae.jsx)("input",{type:"text",placeholder:"Espa\xf1ol, Ingl\xe9s, Portugu\xe9s",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500",value:(null===(e=l.languages)||void 0===e?void 0:e.join(", "))||"",onChange:e=>(e=>{const t=e.split(",").map(e=>e.trim()).filter(e=>""!==e);console.log("handleLanguagesChange - value:",e),console.log("handleLanguagesChange - languagesArray:",t),c(Ze(Ze({},l),{},{languages:t}))})(e.target.value)})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Especialidades (separadas por comas)"}),(0,Ae.jsx)("input",{type:"text",placeholder:"Pesca con mosca, Spinning, Trolling",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-emerald-500",value:(null===(r=l.specialties)||void 0===r?void 0:r.join(", "))||"",onChange:e=>(e=>{const t=e.split(",").map(e=>e.trim()).filter(e=>""!==e);console.log("handleSpecialtiesChange - value:",e),console.log("handleSpecialtiesChange - specialtiesArray:",t),c(Ze(Ze({},l),{},{specialties:t}))})(e.target.value)})]})]}),(0,Ae.jsxs)("div",{className:"flex gap-3",children:[(0,Ae.jsx)("button",{type:"submit",disabled:g.isLoading,className:"px-6 py-3 bg-gradient-to-r from-emerald-600 to-cyan-600 text-white rounded-xl hover:scale-[1.02] transition disabled:opacity-50",children:g.isLoading?"Guardando...":"Guardar"}),(0,Ae.jsx)("button",{type:"button",onClick:()=>o(!1),className:"px-6 py-3 border-2 border-slate-300 text-slate-700 rounded-xl hover:bg-slate-50 transition",children:"Cancelar"})]})]}):u?(0,Ae.jsxs)("div",{className:"space-y-4",children:[(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("span",{className:"font-medium text-slate-700",children:"Nombre:"}),(0,Ae.jsx)("div",{className:"text-slate-900 font-semibold",children:u.name})]}),u.location&&(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("span",{className:"font-medium text-slate-700",children:"Ubicaci\xf3n:"}),(0,Ae.jsx)("div",{className:"text-slate-900",children:u.location})]}),u.age&&(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("span",{className:"font-medium text-slate-700",children:"Edad:"}),(0,Ae.jsxs)("div",{className:"text-slate-900",children:[u.age," a\xf1os"]})]}),u.price_per_day&&(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("span",{className:"font-medium text-slate-700",children:"Precio por d\xeda:"}),(0,Ae.jsxs)("div",{className:"text-slate-900",children:["$",u.price_per_day.toLocaleString()," CLP"]})]})]}),u.bio&&(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("span",{className:"font-medium text-slate-700",children:"Biograf\xeda:"}),(0,Ae.jsx)("p",{className:"text-slate-900 mt-1",children:u.bio})]}),(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.languages&&u.languages.length>0&&(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("span",{className:"font-medium text-slate-700",children:"Idiomas:"}),(0,Ae.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:u.languages.map((e,t)=>(0,Ae.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:e},t))})]}),u.specialties&&u.specialties.length>0&&(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("span",{className:"font-medium text-slate-700",children:"Especialidades:"}),(0,Ae.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:u.specialties.map((e,t)=>(0,Ae.jsx)("span",{className:"px-2 py-1 bg-emerald-100 text-emerald-800 rounded-full text-sm",children:e},t))})]})]})]}):null:(0,Ae.jsxs)("div",{className:"text-center py-8",children:[(0,Ae.jsx)("p",{className:"text-slate-600 mb-4",children:"No tienes un perfil de gu\xeda creado a\xfan."}),(0,Ae.jsx)("button",{onClick:v,className:"px-6 py-3 bg-gradient-to-r from-emerald-600 to-cyan-600 text-white rounded-xl hover:scale-[1.02] transition",children:"Crear Mi Perfil"})]})]}),u&&(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,Ae.jsxs)("div",{className:"bg-white/90 rounded-2xl p-6 shadow-2xl",children:[(0,Ae.jsx)("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Mis Servicios"}),(0,Ae.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,Ae.jsxs)("div",{className:"text-sm text-slate-600",children:["Total: ",(null===m||void 0===m?void 0:m.length)||0," servicios"]}),m&&m.length>0?(0,Ae.jsxs)(Ae.Fragment,{children:[m.slice(0,3).map(e=>{var t;return(0,Ae.jsxs)("div",{className:"text-sm border-l-2 border-emerald-500 pl-2",children:[(0,Ae.jsx)("div",{className:"font-medium text-slate-800",children:e.title}),(0,Ae.jsxs)("div",{className:"text-slate-600",children:["$",null===(t=e.price)||void 0===t?void 0:t.toLocaleString()," CLP"]})]},e.id)}),m.length>3&&(0,Ae.jsxs)("div",{className:"text-sm text-slate-500",children:["y ",m.length-3," m\xe1s..."]})]}):(0,Ae.jsx)("div",{className:"text-sm text-slate-500 italic",children:"No tienes servicios creados a\xfan."})]}),(0,Ae.jsx)(Ee,{to:"/admin/guides/".concat(u.id,"/services"),className:"block w-full text-center px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:scale-[1.02] transition",children:"Gestionar Servicios"})]}),(0,Ae.jsxs)("div",{className:"bg-white/90 rounded-2xl p-6 shadow-2xl",children:[(0,Ae.jsx)("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Mi Disponibilidad"}),(0,Ae.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,Ae.jsxs)("div",{className:"text-sm text-slate-600",children:["Total: ",(null===p||void 0===p?void 0:p.length)||0," fechas configuradas"]}),p&&p.length>0?(0,Ae.jsxs)(Ae.Fragment,{children:[p.slice(0,3).map(e=>(0,Ae.jsxs)("div",{className:"text-sm border-l-2 border-cyan-500 pl-2",children:[(0,Ae.jsx)("div",{className:"font-medium text-slate-800",children:new Date(e.date).toLocaleDateString("es-CL")}),(0,Ae.jsxs)("div",{className:"text-slate-600",children:[e.start_time," - ",e.end_time]})]},e.id)),p.length>3&&(0,Ae.jsxs)("div",{className:"text-sm text-slate-500",children:["y ",p.length-3," m\xe1s..."]})]}):(0,Ae.jsx)("div",{className:"text-sm text-slate-500 italic",children:"No tienes disponibilidad configurada."})]}),(0,Ae.jsx)("button",{disabled:!0,className:"block w-full text-center px-4 py-2 bg-gray-400 text-white rounded-xl cursor-not-allowed",children:"Pr\xf3ximamente"})]}),(0,Ae.jsxs)("div",{className:"bg-white/90 rounded-2xl p-6 shadow-2xl",children:[(0,Ae.jsx)("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Mis Reservas"}),(0,Ae.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,Ae.jsx)("div",{className:"text-sm text-slate-600",children:"Pr\xf3ximas reservas: 0"}),(0,Ae.jsx)("div",{className:"text-sm text-slate-500 italic",children:"Las reservas aparecer\xe1n aqu\xed cuando los clientes reserven tus servicios."})]}),(0,Ae.jsx)("button",{disabled:!0,className:"block w-full text-center px-4 py-2 bg-gray-400 text-white rounded-xl cursor-not-allowed",children:"Pr\xf3ximamente"})]})]})]})})}const $t=e=>{let{onSuccess:r}=e;const[n,a]=(0,t.useState)({email:"",password:"",full_name:"",role:"user"}),[s,i]=(0,t.useState)(!1),o=(0,Oe.useQueryClient)(),l=(0,Oe.useMutation)(async e=>{const t=(0,Fe.getSupabaseClient)();console.log("Creando usuario:",e);const{data:r,error:n}=await t.auth.admin.createUser({email:e.email,password:e.password,user_metadata:{full_name:e.full_name},email_confirm:!0});if(n)throw console.error("Error creando usuario en Auth:",n),new Error("Error de autenticaci\xf3n: ".concat(n.message));if(!r.user)throw new Error("No se pudo crear el usuario");console.log("Usuario creado en Auth:",r.user);const{error:a}=await t.from("user_profiles").insert([{user_id:r.user.id,email:r.user.email,full_name:e.full_name,role:e.role}]);if(a)throw console.error("Error creando perfil:",a),new Error("Error creando perfil: ".concat(a.message));return console.log("Perfil creado exitosamente"),r.user},{onSuccess:()=>{o.invalidateQueries(["all-users"]),a({email:"",password:"",full_name:"",role:"user"}),i(!1),null===r||void 0===r||r(),alert("Usuario creado exitosamente")},onError:e=>{console.error("Error en createUserMutation:",e),alert("Error: ".concat((null===e||void 0===e?void 0:e.message)||"No se pudo crear el usuario"))}});return s?(0,Ae.jsxs)("div",{className:"bg-white/95 rounded-2xl p-6 shadow-xl mb-6",children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ae.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:"Crear Nuevo Usuario"}),(0,Ae.jsx)("button",{onClick:()=>i(!1),className:"text-gray-500 hover:text-gray-700 text-xl",children:"\xd7"})]}),(0,Ae.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n.email&&n.password&&n.full_name?n.password.length<6?alert("La contrase\xf1a debe tener al menos 6 caracteres"):l.mutate(n):alert("Por favor completa todos los campos obligatorios")},className:"space-y-4",children:[(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nombre Completo *"}),(0,Ae.jsx)("input",{type:"text",value:n.full_name,onChange:e=>a(t=>Ze(Ze({},t),{},{full_name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Juan P\xe9rez",required:!0})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email *"}),(0,Ae.jsx)("input",{type:"email",value:n.email,onChange:e=>a(t=>Ze(Ze({},t),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"juan@ejemplo.com",required:!0})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Contrase\xf1a *"}),(0,Ae.jsx)("input",{type:"password",value:n.password,onChange:e=>a(t=>Ze(Ze({},t),{},{password:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"M\xednimo 6 caracteres",required:!0,minLength:6})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Rol *"}),(0,Ae.jsxs)("select",{value:n.role,onChange:e=>a(t=>Ze(Ze({},t),{},{role:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,Ae.jsx)("option",{value:"user",children:"Usuario"}),(0,Ae.jsx)("option",{value:"guide",children:"Gu\xeda"}),(0,Ae.jsx)("option",{value:"admin",children:"Administrador"})]})]})]}),(0,Ae.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Ae.jsx)("button",{type:"submit",disabled:l.isLoading,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50",children:l.isLoading?"Creando...":"Crear Usuario"}),(0,Ae.jsx)("button",{type:"button",onClick:()=>i(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"})]})]}),(0,Ae.jsxs)("div",{className:"mt-4 text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:[(0,Ae.jsx)("strong",{children:"Nota:"})," El usuario podr\xe1 iniciar sesi\xf3n inmediatamente con el email y contrase\xf1a proporcionados. No necesitar\xe1 confirmar su email."]})]}):(0,Ae.jsx)("div",{className:"mb-6",children:(0,Ae.jsx)("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"+ Crear Nuevo Usuario"})})};function Jt(){const{isAdmin:e}=Ve(),r=(0,Oe.useQueryClient)(),[n,a]=(0,t.useState)(null),[s,i]=(0,t.useState)("user"),{data:o,isLoading:l}=(0,Oe.useQuery)(["all-users"],async()=>{const e=(0,Fe.getSupabaseClient)(),{data:t,error:r}=await e.from("user_profiles").select("*").order("created_at",{ascending:!1});if(r)throw r;return t}),c=(0,Oe.useMutation)(e=>{let{userId:t,role:r}=e;return async function(e,t){const r=(0,Fe.getSupabaseClient)(),n=await qe();if(!n||"admin"!==n.role)throw new Error("No tienes permisos para cambiar roles");const{error:a}=await r.from("user_profiles").update({role:t,updated_at:(new Date).toISOString()}).eq("user_id",e);if(a)throw a}(t,r)},{onSuccess:()=>{r.invalidateQueries(["all-users"]),a(null),alert("Rol actualizado correctamente")},onError:e=>{alert("Error: ".concat((null===e||void 0===e?void 0:e.message)||"No se pudo actualizar el rol"))}});return e?(0,Ae.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-800 via-gray-800 to-slate-900",children:(0,Ae.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[(0,Ae.jsx)(Ge,{to:"/admin",label:"\u2190 Volver al panel"}),(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Ae.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Gesti\xf3n de Usuarios"}),(0,Ae.jsx)(Ft,{variant:"secondary",size:"md"})]}),(0,Ae.jsx)("div",{className:"mb-8",children:(0,Ae.jsx)($t,{})}),(0,Ae.jsxs)("div",{className:"bg-white/90 rounded-2xl p-6 shadow-2xl",children:[(0,Ae.jsx)("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Usuarios del Sistema"}),l?(0,Ae.jsx)("div",{className:"text-center py-8 text-slate-600",children:"Cargando usuarios..."}):0===(null===o||void 0===o?void 0:o.length)?(0,Ae.jsx)("div",{className:"text-center py-8 text-slate-600",children:"No hay usuarios registrados."}):(0,Ae.jsx)("div",{className:"space-y-4",children:null===o||void 0===o?void 0:o.map(e=>(0,Ae.jsx)("div",{className:"border border-slate-200 rounded-xl p-4 hover:bg-slate-50 transition",children:(0,Ae.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ae.jsxs)("div",{className:"flex-1",children:[(0,Ae.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Ae.jsx)("h3",{className:"font-bold text-slate-800",children:e.full_name||"Sin nombre"}),(0,Ae.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("admin"===e.role?"bg-red-100 text-red-800":"guide"===e.role?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:"admin"===e.role?"Administrador":"guide"===e.role?"Gu\xeda":"Usuario"})]}),(0,Ae.jsxs)("div",{className:"text-sm text-slate-600",children:[(0,Ae.jsxs)("div",{children:["Email: ",e.email||"No especificado"]}),(0,Ae.jsxs)("div",{children:["Registrado: ",new Date(e.created_at||"").toLocaleDateString("es-CL")]}),e.updated_at&&(0,Ae.jsxs)("div",{children:["Actualizado: ",new Date(e.updated_at).toLocaleDateString("es-CL")]})]})]}),(0,Ae.jsx)("div",{className:"flex gap-2 ml-4",children:(0,Ae.jsx)("button",{onClick:()=>{a(e.user_id),i(e.role)},className:"px-3 py-1 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition",children:"Cambiar Rol"})})]})},e.id))})]}),n&&(0,Ae.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ae.jsxs)("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full mx-4",children:[(0,Ae.jsx)("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Cambiar Rol de Usuario"}),(0,Ae.jsxs)("div",{className:"mb-4",children:[(0,Ae.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nuevo Rol:"}),(0,Ae.jsxs)("select",{value:s,onChange:e=>i(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,Ae.jsx)("option",{value:"user",children:"Usuario"}),(0,Ae.jsx)("option",{value:"guide",children:"Gu\xeda"}),(0,Ae.jsx)("option",{value:"admin",children:"Administrador"})]})]}),(0,Ae.jsxs)("div",{className:"flex gap-3",children:[(0,Ae.jsx)("button",{onClick:()=>{n&&c.mutate({userId:n,role:s})},disabled:c.isLoading,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50",children:c.isLoading?"Actualizando...":"Confirmar"}),(0,Ae.jsx)("button",{onClick:()=>a(null),className:"px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition",children:"Cancelar"})]})]})}),(0,Ae.jsxs)("div",{className:"mt-6 bg-white/10 rounded-2xl p-4",children:[(0,Ae.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Informaci\xf3n sobre roles:"}),(0,Ae.jsxs)("div",{className:"text-sm text-white/80 space-y-2",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("span",{className:"font-medium text-red-300",children:"Administrador:"})," Acceso completo al sistema, puede gestionar usuarios y todos los gu\xedas."]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("span",{className:"font-medium text-blue-300",children:"Gu\xeda:"})," Puede gestionar su propio perfil y servicios."]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("span",{className:"font-medium text-gray-300",children:"Usuario:"})," Acceso b\xe1sico, solo puede navegar por la web p\xfablica."]})]})]})]})}):(0,Ae.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-800 via-gray-800 to-slate-900 flex items-center justify-center",children:(0,Ae.jsx)("div",{className:"text-red-400 text-xl",children:"Solo los administradores pueden acceder a esta p\xe1gina"})})}const Yt=()=>{const[e,r]=(0,t.useState)(""),[n,a]=(0,t.useState)(""),[s,i]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(""),[f,m]=(0,t.useState)(0),p=Z(),g=(0,Fe.getSupabaseClient)();t.useEffect(()=>{if(f>0){const e=setTimeout(()=>{m(f-1)},1e3);return()=>clearTimeout(e)}},[f]);return(0,Ae.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800 flex items-center justify-center p-4",children:[(0,Ae.jsx)("div",{className:"absolute top-6 left-6",children:(0,Ae.jsx)(Ge,{to:"/admin/login",label:"\u2190 Volver al login"})}),(0,Ae.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[(0,Ae.jsxs)("div",{className:"text-center mb-8",children:[(0,Ae.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Crear Cuenta"}),(0,Ae.jsx)("p",{className:"text-gray-600",children:"Reg\xedstrate para acceder al sistema"})]}),c&&(0,Ae.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:[c,f>0&&(0,Ae.jsxs)("div",{className:"mt-2 text-sm",children:["Podr\xe1s intentar nuevamente en ",f," segundos."]})]}),d&&(0,Ae.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-6",children:d}),(0,Ae.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),l(!0),u(""),h("");try{console.log("Registrando usuario:",e);const t=await(async e=>{try{const{data:t,error:r}=await g.from("user_profiles").select("email").eq("email",e).limit(1);return t&&t.length>0}catch(t){return!1}})(e);if(t)return void u("Este email ya est\xe1 registrado. Intenta iniciar sesi\xf3n en su lugar.");const{data:o,error:l}=await g.auth.signUp({email:e,password:n,options:{data:{full_name:s}}});if(l)return console.error("Error de registro:",l),void(l.message.includes("too many requests")||l.message.includes("429")?(u("Has intentado registrarte demasiadas veces. Espera un momento antes de intentar nuevamente."),m(60)):l.message.includes("User already registered")?u("Este email ya est\xe1 registrado. Intenta iniciar sesi\xf3n en su lugar."):l.message.includes("Invalid email")?u("El formato del email no es v\xe1lido."):l.message.includes("Password")?u("La contrase\xf1a debe tener al menos 6 caracteres."):u("Error de registro: ".concat(l.message)));if(o.user){console.log("Usuario registrado:",o.user),await new Promise(e=>setTimeout(e,1e3));const{data:e}=await g.from("user_profiles").select("*").eq("user_id",o.user.id).single();if(e)console.log("Perfil ya existe (creado por trigger)");else{console.log("Perfil no existe, creando manualmente...");const{error:e}=await g.from("user_profiles").insert([{user_id:o.user.id,email:o.user.email,full_name:s,role:"user"}]);if(e)return console.error("Error creando perfil:",e),void u("Usuario creado pero error al crear perfil: "+e.message);console.log("Perfil creado manualmente")}h("Usuario registrado exitosamente! Revisa tu email para confirmar tu cuenta."),r(""),a(""),i(""),setTimeout(()=>{p("/admin/login")},3e3)}}catch(o){console.error("Error inesperado:",o),u("Error inesperado al registrar usuario")}finally{l(!1)}},className:"space-y-6",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo"}),(0,Ae.jsx)("input",{type:"text",id:"fullName",value:s,onChange:e=>i(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Tu nombre completo",required:!0})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,Ae.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>r(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"tu@email.com",required:!0})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrase\xf1a"}),(0,Ae.jsx)("input",{type:"password",id:"password",value:n,onChange:e=>a(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"M\xednimo 6 caracteres",required:!0,minLength:6})]}),(0,Ae.jsx)("button",{type:"submit",disabled:o||f>0,className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:o?"Creando cuenta...":f>0?"Espera ".concat(f,"s"):"Crear Cuenta"})]}),(0,Ae.jsx)("div",{className:"text-center mt-6",children:(0,Ae.jsxs)("p",{className:"text-sm text-gray-600",children:["\xbfYa tienes cuenta?"," ",(0,Ae.jsx)("button",{onClick:()=>p("/admin/login"),className:"text-blue-600 hover:text-blue-500 font-medium",children:"Inicia sesi\xf3n"})]})})]})]})},Xt=()=>{const e=Z(),[r]=Re(),{session:n,loading:a,profile:s}=Ve(),[i,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{const t=(0,Fe.getSupabaseClient)(),n=r.get("error_code"),a=r.get("error_description");if(n){let t="Error de autenticaci\xf3n";switch(n){case"otp_expired":t="El enlace de acceso ha expirado. Solicita uno nuevo.";break;case"access_denied":t="Acceso denegado. Verifica tu enlace de acceso.";break;case"invalid_request":t="Enlace de acceso inv\xe1lido. Solicita uno nuevo.";break;default:t=a||"Error de autenticaci\xf3n desconocido"}return o(t),c(!1),void setTimeout(()=>{e("/admin/login")},3e3)}if(window.location.hash)try{const{data:r,error:n}=await t.auth.getSession();if(n)return o("Error al procesar la autenticaci\xf3n: "+n.message),void setTimeout(()=>e("/admin/login"),3e3);r.session?(window.history.replaceState({},document.title,window.location.pathname),setTimeout(()=>{c(!1)},1e3)):(o("No se pudo establecer la sesi\xf3n"),setTimeout(()=>e("/admin/login"),3e3))}catch(s){o("Error al procesar la autenticaci\xf3n"),setTimeout(()=>e("/admin/login"),3e3)}else c(!1)})()},[r,e]),(0,t.useEffect)(()=>{if(console.log("AuthCallback - Estado:",{loading:a,isProcessing:l,hasSession:!!n,hasProfile:!!s}),!a&&!l&&n){if(!s){console.log("Sesi\xf3n activa pero sin perfil, esperando creaci\xf3n autom\xe1tica...");const t=setTimeout(()=>{s||(console.log("Perfil no se cre\xf3 autom\xe1ticamente, redirigiendo al home"),e("/?message=profile_creation_pending"))},5e3);return()=>clearTimeout(t)}s&&(console.log("Perfil cargado:",s),"admin"===s.role||"guide"===s.role?e("/admin"):e("/"))}},[a,l,n,s,e]),i?(0,Ae.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-900 to-blue-600",children:(0,Ae.jsx)("div",{className:"bg-white p-8 rounded-lg shadow-xl max-w-md w-full mx-4",children:(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsx)("div",{className:"text-red-500 text-5xl mb-4",children:"\u26a0\ufe0f"}),(0,Ae.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Error de Autenticaci\xf3n"}),(0,Ae.jsx)("p",{className:"text-gray-600 mb-6",children:i}),(0,Ae.jsx)("p",{className:"text-sm text-gray-500",children:"Ser\xe1s redirigido al login autom\xe1ticamente..."})]})})}):(0,Ae.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-900 to-blue-600",children:(0,Ae.jsx)("div",{className:"bg-white p-8 rounded-lg shadow-xl max-w-md w-full mx-4",children:(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Ae.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Procesando Autenticaci\xf3n"}),(0,Ae.jsx)("p",{className:"text-gray-600",children:"Estamos verificando tu acceso..."})]})})})};function Zt(e){let{children:t,requireAdmin:r=!1,requireGuide:n=!1}=e;const{session:a,loading:s,isAdmin:i,canAccessAdmin:o,profile:l,role:c}=Ve();return console.log("ProtectedRoute - Estado:",{hasSession:!!a,loading:s,isAdmin:i,canAccessAdmin:o,role:c,profileRole:null===l||void 0===l?void 0:l.role,requireAdmin:r,requireGuide:n}),s?(0,Ae.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-800 via-gray-800 to-slate-900 flex items-center justify-center",children:(0,Ae.jsx)("div",{className:"text-white text-xl",children:"Cargando..."})}):a?r&&!i?(0,Ae.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-800 via-gray-800 to-slate-900 flex items-center justify-center",children:(0,Ae.jsxs)("div",{className:"text-center max-w-md mx-auto p-6",children:[(0,Ae.jsx)("div",{className:"text-red-400 text-2xl mb-4",children:"\ud83d\udeab Acceso Denegado"}),(0,Ae.jsx)("div",{className:"text-white mb-6",children:"Solo los administradores pueden acceder a esta secci\xf3n."}),(0,Ae.jsxs)("div",{className:"space-y-3",children:[(0,Ae.jsx)(Ft,{variant:"danger",className:"w-full",redirectTo:"/admin/login"}),(0,Ae.jsx)("button",{onClick:()=>window.location.href="/",className:"w-full px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition",children:"Ir al Inicio"})]}),(0,Ae.jsx)("div",{className:"mt-6 text-sm text-gray-400",children:"Si crees que deber\xedas tener acceso, contacta al administrador."})]})}):n&&!o?(0,Ae.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-800 via-gray-800 to-slate-900 flex items-center justify-center",children:(0,Ae.jsxs)("div",{className:"text-center max-w-md mx-auto p-6",children:[(0,Ae.jsx)("div",{className:"text-red-400 text-2xl mb-4",children:"\ud83d\udeab Acceso Denegado"}),(0,Ae.jsx)("div",{className:"text-white mb-6",children:"No tienes permisos para acceder a esta secci\xf3n."}),(0,Ae.jsxs)("div",{className:"space-y-3",children:[(0,Ae.jsx)(Ft,{variant:"danger",className:"w-full",redirectTo:"/admin/login"}),(0,Ae.jsx)("button",{onClick:()=>window.location.href="/",className:"w-full px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition",children:"Ir al Inicio"})]}),(0,Ae.jsx)("div",{className:"mt-6 text-sm text-gray-400",children:"Necesitas permisos de gu\xeda o administrador para acceder."})]})}):(0,Ae.jsx)(Ae.Fragment,{children:t}):(0,Ae.jsx)(pe,{to:"/admin/login",replace:!0})}const er=new Oe.QueryClient({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});const tr=function(){return(0,Ae.jsx)(Oe.QueryClientProvider,{client:er,children:(0,Ae.jsx)(We,{children:(0,Ae.jsx)(_e,{children:(0,Ae.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,Ae.jsx)("div",{className:"flex-1",children:(0,Ae.jsxs)(xe,{children:[(0,Ae.jsx)(ge,{path:"/",element:(0,Ae.jsx)(He,{})}),(0,Ae.jsx)(ge,{path:"/testimonios",element:(0,Ae.jsx)(Ke,{})}),(0,Ae.jsx)(ge,{path:"/galeria",element:(0,Ae.jsx)(et,{})}),(0,Ae.jsx)(ge,{path:"/guias",element:(0,Ae.jsx)(ot,{})}),(0,Ae.jsx)(ge,{path:"/guia/:id",element:(0,Ae.jsx)(ct,{})}),(0,Ae.jsx)(ge,{path:"/reservar/:id",element:(0,Ae.jsx)(Pt,{})}),(0,Ae.jsx)(ge,{path:"/guia-practica",element:(0,Ae.jsx)(Tt,{})}),(0,Ae.jsx)(ge,{path:"/marketplace",element:(0,Ae.jsx)(Mt,{})}),(0,Ae.jsx)(ge,{path:"/admin/login",element:(0,Ae.jsx)(Ut,{})}),(0,Ae.jsx)(ge,{path:"/admin/register",element:(0,Ae.jsx)(Yt,{})}),(0,Ae.jsx)(ge,{path:"/admin/auth/callback",element:(0,Ae.jsx)(Xt,{})}),(0,Ae.jsx)(ge,{path:"/admin",element:(0,Ae.jsx)(Zt,{children:(0,Ae.jsx)(qt,{})})}),(0,Ae.jsx)(ge,{path:"/admin/guides",element:(0,Ae.jsx)(Zt,{requireAdmin:!0,children:(0,Ae.jsx)(Bt,{})})}),(0,Ae.jsx)(ge,{path:"/admin/guides/:id",element:(0,Ae.jsx)(Zt,{requireAdmin:!0,children:(0,Ae.jsx)(Qt,{})})}),(0,Ae.jsx)(ge,{path:"/admin/guides/:id/services",element:(0,Ae.jsx)(Zt,{requireAdmin:!0,children:(0,Ae.jsx)(Wt,{})})}),(0,Ae.jsx)(ge,{path:"/admin/users",element:(0,Ae.jsx)(Zt,{requireAdmin:!0,children:(0,Ae.jsx)(Jt,{})})}),(0,Ae.jsx)(ge,{path:"/mi-cuenta",element:(0,Ae.jsx)(Zt,{children:(0,Ae.jsx)(Kt,{})})}),(0,Ae.jsx)(ge,{path:"/panel-guia",element:(0,Ae.jsx)(Zt,{children:(0,Ae.jsx)(Kt,{})})})]})}),(0,Ae.jsx)(zt,{})]})})})})},rr=new Oe.QueryClient;a.render((0,Ae.jsx)(t.StrictMode,{children:(0,Ae.jsx)(Oe.QueryClientProvider,{client:rr,children:(0,Ae.jsx)(We,{children:(0,Ae.jsx)(tr,{})})})}),document.getElementById("root"))})()})();
//# sourceMappingURL=main.adc0f4d7.js.map